name = "coderclawlink-api"
main = "src/index.ts"
compatibility_date = "2026-01-01"
compatibility_flags = ["nodejs_compat"]

[[routes]]
pattern = "api.coderclaw.ai/*"
zone_name = "coderclaw.ai"

[vars]
# Overridden by Cloudflare dashboard secrets for production.
CORS_ORIGINS = "https://app.coderclaw.ai,https://coderclaw.ai,https://www.coderclaw.ai"
ENVIRONMENT  = "production"
# JWT_SECRET must be set via: wrangler secret put JWT_SECRET
# OPENROUTER_API_KEY must be set via: wrangler secret put OPENROUTER_API_KEY
# Do NOT put the real value here â€“ use a long random string (32+ chars).

# Wrangler dev overrides (local only, never committed)
[[durable_objects.bindings]]
name = "CLAW_RELAY"
class_name = "ClawRelayDO"

[[migrations]]
tag = "v1"
new_sqlite_classes = ["ClawRelayDO"]

[dev]
port = 8787
local_protocol = "http"
