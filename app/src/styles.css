@import url("https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap");

/* ============================================================
   Design Tokens
   ============================================================ */

:root {
  /* Backgrounds */
  --bg: #12141a;
  --bg-accent: #14161d;
  --bg-elevated: #1a1d25;
  --bg-hover: #262a35;
  --bg-muted: #262a35;

  /* Card / Surface */
  --card: #181b22;
  --card-foreground: #f4f4f5;
  --card-highlight: rgba(255,255,255,0.05);

  /* Panel */
  --panel: #12141a;
  --panel-strong: #1a1d25;
  --panel-hover: #262a35;

  /* Text */
  --text: #e4e4e7;
  --text-strong: #fafafa;
  --muted: #71717a;
  --muted-strong: #52525b;

  /* Border */
  --border: #27272a;
  --border-strong: #3f3f46;
  --border-hover: #52525b;
  --input: #27272a;
  --ring: #3b82f6;

  /* Accent */
  --accent: #4d9eff;
  --accent-hover: #3b82f6;
  --accent-subtle: rgba(77,158,255,0.15);
  --accent-foreground: #fafafa;
  --accent-glow: rgba(77,158,255,0.25);
  --primary: #4d9eff;
  --primary-foreground: #ffffff;

  /* Secondary */
  --secondary: #1e2028;
  --secondary-foreground: #f4f4f5;

  /* Semantic */
  --ok: #22c55e;
  --ok-subtle: rgba(34,197,94,0.12);
  --destructive: #ef4444;
  --destructive-foreground: #fafafa;
  --warn: #f59e0b;
  --warn-subtle: rgba(245,158,11,0.12);
  --danger: #ef4444;
  --danger-subtle: rgba(239,68,68,0.12);
  --info: #3b82f6;

  /* Focus */
  --focus-ring: 0 0 0 2px var(--bg), 0 0 0 4px var(--ring);

  /* Typography */
  --mono: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, monospace;
  --font-body: "Space Grotesk", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;

  /* Shadows */
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.2);
  --shadow-md: 0 4px 12px rgba(0,0,0,0.25), 0 0 0 1px rgba(255,255,255,0.03);
  --shadow-lg: 0 12px 28px rgba(0,0,0,0.35), 0 0 0 1px rgba(255,255,255,0.03);

  /* Radii */
  --radius-sm: 6px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-full: 9999px;
  --radius: 8px;

  /* Transitions */
  --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
  --duration-fast: 120ms;
  --duration-normal: 200ms;
  --duration-slow: 350ms;

  /* Layout */
  --shell-nav-width: 220px;
  --shell-topbar-height: 56px;
  --panel-width: 520px;

  color-scheme: dark;
}

:root[data-theme="light"] {
  --bg: #fafafa;
  --bg-accent: #f5f5f5;
  --bg-elevated: #ffffff;
  --bg-hover: #f0f0f0;
  --bg-muted: #f0f0f0;
  --card: #ffffff;
  --card-foreground: #18181b;
  --card-highlight: rgba(0,0,0,0.03);
  --panel: #fafafa;
  --panel-strong: #f5f5f5;
  --panel-hover: #ebebeb;
  --text: #3f3f46;
  --text-strong: #18181b;
  --muted: #71717a;
  --muted-strong: #52525b;
  --border: #e4e4e7;
  --border-strong: #d4d4d8;
  --border-hover: #a1a1aa;
  --input: #e4e4e7;
  --accent: #3b82f6;
  --accent-hover: #2563eb;
  --accent-subtle: rgba(59,130,246,0.12);
  --accent-glow: rgba(59,130,246,0.2);
  --primary: #3b82f6;
  --secondary: #f4f4f5;
  --secondary-foreground: #3f3f46;
  --ok: #16a34a;
  --ok-subtle: rgba(22,163,74,0.1);
  --destructive: #dc2626;
  --warn: #d97706;
  --warn-subtle: rgba(217,119,6,0.1);
  --danger: #dc2626;
  --danger-subtle: rgba(220,38,38,0.1);
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.06);
  --shadow-md: 0 4px 12px rgba(0,0,0,0.08), 0 0 0 1px rgba(0,0,0,0.04);
  --shadow-lg: 0 12px 28px rgba(0,0,0,0.12), 0 0 0 1px rgba(0,0,0,0.04);
  color-scheme: light;
}

/* ============================================================
   Reset & Base
   ============================================================ */

*, *::before, *::after { box-sizing: border-box; }
html, body { height: 100%; margin: 0; }

body {
  font: 400 14px/1.55 var(--font-body);
  letter-spacing: -0.02em;
  background: var(--bg);
  color: var(--text);
  -webkit-font-smoothing: antialiased;
}

ccl-app { display: block; }

a { color: var(--accent); text-decoration: none; }
a:hover { text-decoration: underline; }

button, input, textarea, select { font: inherit; color: inherit; }

:focus-visible { outline: none; box-shadow: var(--focus-ring); }

::selection { background: var(--accent-subtle); color: var(--text-strong); }

::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--border); border-radius: var(--radius-full); }
::-webkit-scrollbar-thumb:hover { background: var(--border-strong); }

/* ============================================================
   Animations
   ============================================================ */

@keyframes rise { from { opacity:0; transform:translateY(8px); } to { opacity:1; transform:none; } }
@keyframes fade-in { from { opacity:0; } to { opacity:1; } }
@keyframes scale-in { from { opacity:0; transform:scale(0.95); } to { opacity:1; transform:scale(1); } }
@keyframes slide-in-right { from { transform:translateX(100%); } to { transform:translateX(0); } }
@keyframes shimmer { 0% { background-position:-200% 0; } 100% { background-position:200% 0; } }

/* ============================================================
   App Shell Layout
   ============================================================ */

.shell {
  height: 100vh;
  display: grid;
  grid-template-columns: var(--shell-nav-width) minmax(0,1fr);
  grid-template-rows: var(--shell-topbar-height) 1fr;
  grid-template-areas: "topbar topbar" "nav content";
  overflow: hidden;
  animation: fade-in 0.3s var(--ease-out);
}
@supports (height: 100dvh) { .shell { height: 100dvh; } }

/* Topbar */
.topbar {
  grid-area: topbar;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  padding: 0 20px;
  height: var(--shell-topbar-height);
  border-bottom: 1px solid var(--border);
  background: var(--bg);
  z-index: 40;
}
.topbar-left { display:flex; align-items:center; gap:12px; }
.topbar-right { display:flex; align-items:center; gap:8px; }

.brand { display:flex; align-items:center; gap:10px; }
.brand-logo { width:28px; height:28px; flex-shrink:0; }
.brand-name { font-size:16px; font-weight:700; letter-spacing:-0.03em; color:var(--text-strong); }
.brand-badge {
  font-size:10px; font-weight:600; letter-spacing:0.05em; text-transform:uppercase;
  background:var(--accent-subtle); color:var(--accent); padding:2px 6px;
  border-radius:var(--radius-full); border:1px solid rgba(77,158,255,0.2);
}

.tenant-chip {
  display:flex; align-items:center; gap:6px; padding:4px 10px;
  background:var(--bg-elevated); border:1px solid var(--border);
  border-radius:var(--radius-full); font-size:12px; font-weight:500;
  color:var(--text); cursor:pointer;
}
.tenant-chip:hover { border-color:var(--border-hover); background:var(--bg-hover); }

/* Nav */
.nav {
  grid-area: nav;
  overflow-y: auto;
  overflow-x: hidden;
  padding: 16px 12px;
  background: var(--bg);
  border-right: 1px solid var(--border);
  scrollbar-width: none;
}
.nav::-webkit-scrollbar { display:none; }

.nav-section { margin-bottom:20px; }
.nav-section-label {
  font-size:10px; font-weight:600; letter-spacing:0.08em; text-transform:uppercase;
  color:var(--muted); padding:0 10px; margin-bottom:6px;
}
.nav-item {
  display:flex; align-items:center; gap:10px; padding:8px 10px;
  border-radius:var(--radius-md); border:1px solid transparent;
  color:var(--muted); cursor:pointer; transition:all var(--duration-fast) ease;
  font-size:13px; font-weight:500; width:100%; text-align:left; background:transparent;
  text-decoration:none;
}
.nav-item svg { width:16px; height:16px; stroke:currentColor; fill:none; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; flex-shrink:0; }
.nav-item:hover { color:var(--text); background:var(--bg-hover); text-decoration:none; }
.nav-item.active { color:var(--text-strong); background:var(--accent-subtle); border-color:rgba(77,158,255,0.15); }
.nav-item.active svg { color:var(--accent); }
.nav-item-badge { margin-left:auto; font-size:10px; background:var(--accent-subtle); color:var(--accent); padding:1px 6px; border-radius:var(--radius-full); }

/* Content */
.content {
  grid-area: content;
  overflow-y: auto;
  overflow-x: hidden;
  padding: 24px;
  background: var(--bg);
  position: relative;
}
:root[data-theme="light"] .content { background: var(--bg-accent); }

.page-header { display:flex; align-items:center; justify-content:space-between; gap:16px; margin-bottom:24px; }
.page-title { font-size:22px; font-weight:700; letter-spacing:-0.035em; color:var(--text-strong); }
.page-sub { font-size:13px; color:var(--muted); margin-top:4px; }

/* ============================================================
   Auth / Landing
   ============================================================ */

.auth-shell {
  min-height: 100vh;
  display: grid;
  place-items: center;
  padding: 24px;
  background: var(--bg);
}
@supports (min-height:100dvh) { .auth-shell { min-height:100dvh; } }

.auth-card {
  width:100%; max-width:420px;
  background:var(--card); border:1px solid var(--border);
  border-radius:var(--radius-xl); padding:32px;
  box-shadow:var(--shadow-lg);
  animation:scale-in 0.25s var(--ease-out);
}
.auth-logo { display:flex; align-items:center; gap:10px; margin-bottom:28px; }
.auth-logo img { width:36px; height:36px; }
.auth-logo-name { font-size:20px; font-weight:700; letter-spacing:-0.04em; color:var(--text-strong); }
.auth-logo-sub { font-size:11px; color:var(--muted); }
.auth-title { font-size:18px; font-weight:700; color:var(--text-strong); margin-bottom:4px; }
.auth-sub { font-size:13px; color:var(--muted); margin-bottom:24px; }
.auth-toggle { font-size:13px; color:var(--muted); text-align:center; margin-top:20px; }
.auth-toggle a { color:var(--accent); cursor:pointer; }
.auth-toggle a:hover { text-decoration:underline; }

/* ============================================================
   Workspace Picker
   ============================================================ */

.workspace-picker {
  min-height: 100vh;
  display: grid;
  place-items: center;
  padding: 24px;
  background: var(--bg);
}

.workspace-list {
  width:100%; max-width:560px;
  display:grid; gap:10px;
}
.workspace-card {
  display:flex; align-items:center; gap:14px; padding:16px 20px;
  background:var(--card); border:1px solid var(--border);
  border-radius:var(--radius-lg); cursor:pointer;
  transition:all var(--duration-fast) ease;
}
.workspace-card:hover { border-color:var(--accent); background:var(--bg-elevated); }
.workspace-avatar {
  width:40px; height:40px; border-radius:var(--radius-md); flex-shrink:0;
  background:var(--accent-subtle); display:flex; align-items:center; justify-content:center;
  font-size:16px; font-weight:700; color:var(--accent);
}
.workspace-name { font-size:15px; font-weight:600; color:var(--text-strong); }
.workspace-role { font-size:12px; color:var(--muted); }
.workspace-arrow { margin-left:auto; color:var(--muted); }

/* ============================================================
   Cards / Panels
   ============================================================ */

.card {
  background:var(--card); border:1px solid var(--border);
  border-radius:var(--radius-lg); padding:20px;
}
.card-header { display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:16px; }
.card-title { font-size:14px; font-weight:600; color:var(--text-strong); }
.card-sub { font-size:12px; color:var(--muted); }

/* ============================================================
   Form Controls
   ============================================================ */

.field { display:grid; gap:6px; }
.label { font-size:12px; font-weight:500; color:var(--text-strong); }
.label-hint { font-size:11px; color:var(--muted); font-weight:400; }

.input, .select, .textarea {
  width:100%; padding:8px 12px;
  background:var(--bg-elevated); border:1px solid var(--border);
  border-radius:var(--radius-md); font-size:13px; color:var(--text);
  transition:border-color var(--duration-fast) ease;
}
.input:focus, .select:focus, .textarea:focus { outline:none; border-color:var(--ring); box-shadow:0 0 0 2px var(--accent-subtle); }
.input::placeholder { color:var(--muted); }
.select { appearance:none; cursor:pointer; }
.textarea { resize:vertical; min-height:80px; }

.form-row { display:grid; gap:16px; }
.form-row-2 { grid-template-columns:1fr 1fr; }

/* ============================================================
   Buttons
   ============================================================ */

.btn {
  display:inline-flex; align-items:center; justify-content:center; gap:6px;
  padding:8px 14px; border-radius:var(--radius-md);
  font-size:13px; font-weight:500; cursor:pointer;
  transition:all var(--duration-fast) ease; border:1px solid transparent;
  white-space:nowrap; text-decoration:none;
}
.btn:disabled { opacity:0.5; cursor:not-allowed; }
.btn svg { width:14px; height:14px; stroke:currentColor; fill:none; stroke-width:1.8; stroke-linecap:round; stroke-linejoin:round; flex-shrink:0; }

.btn-primary { background:var(--accent); color:#fff; }
.btn-primary:hover:not(:disabled) { background:var(--accent-hover); }
.btn-secondary { background:var(--bg-elevated); color:var(--text); border-color:var(--border); }
.btn-secondary:hover:not(:disabled) { background:var(--bg-hover); border-color:var(--border-hover); }
.btn-ghost { background:transparent; color:var(--muted); }
.btn-ghost:hover:not(:disabled) { background:var(--bg-hover); color:var(--text); }
.btn-danger { background:var(--danger-subtle); color:var(--danger); border-color:rgba(239,68,68,0.2); }
.btn-danger:hover:not(:disabled) { background:var(--danger); color:#fff; }
.btn-sm { padding:5px 10px; font-size:12px; }
.btn-lg { padding:11px 20px; font-size:14px; }
.btn-full { width:100%; }
.btn-icon { padding:7px; }

/* ============================================================
   Badges / Pills / Status
   ============================================================ */

.badge {
  display:inline-flex; align-items:center; gap:4px;
  padding:2px 8px; border-radius:var(--radius-full);
  font-size:11px; font-weight:600; letter-spacing:0.02em;
}
.badge-blue { background:var(--accent-subtle); color:var(--accent); }
.badge-green { background:var(--ok-subtle); color:var(--ok); }
.badge-yellow { background:var(--warn-subtle); color:var(--warn); }
.badge-red { background:var(--danger-subtle); color:var(--danger); }
.badge-gray { background:var(--bg-elevated); color:var(--muted); border:1px solid var(--border); }

.dot {
  display:inline-block; width:7px; height:7px; border-radius:50%;
}
.dot-green { background:var(--ok); box-shadow:0 0 0 2px var(--ok-subtle); }
.dot-gray { background:var(--muted); }
.dot-yellow { background:var(--warn); }
.dot-red { background:var(--danger); }

/* ============================================================
   Table
   ============================================================ */

.table-wrap { border:1px solid var(--border); border-radius:var(--radius-lg); overflow:hidden; }
.table { width:100%; border-collapse:collapse; }
.table th { font-size:11px; font-weight:600; letter-spacing:0.04em; text-transform:uppercase; color:var(--muted); text-align:left; padding:10px 16px; background:var(--bg-elevated); border-bottom:1px solid var(--border); }
.table td { padding:12px 16px; font-size:13px; color:var(--text); border-bottom:1px solid var(--border); }
.table tr:last-child td { border-bottom:none; }
.table tr:hover td { background:var(--bg-hover); }
.table-empty { padding:40px; text-align:center; color:var(--muted); font-size:13px; }

/* ============================================================
   Kanban
   ============================================================ */

.kanban { display:flex; gap:16px; overflow-x:auto; align-items:flex-start; padding-bottom:16px; }
.kanban-col { flex:0 0 280px; background:var(--bg-elevated); border:1px solid var(--border); border-radius:var(--radius-lg); display:flex; flex-direction:column; }
.kanban-col-header { display:flex; align-items:center; gap:8px; padding:12px 16px; border-bottom:1px solid var(--border); }
.kanban-col-title { font-size:12px; font-weight:600; color:var(--text); flex:1; }
.kanban-col-count { font-size:11px; color:var(--muted); background:var(--bg); padding:1px 6px; border-radius:var(--radius-full); border:1px solid var(--border); }
.kanban-col-body { padding:10px; display:flex; flex-direction:column; gap:8px; min-height:100px; }

.task-card {
  background:var(--card); border:1px solid var(--border); border-radius:var(--radius-md);
  padding:12px; cursor:pointer; transition:all var(--duration-fast) ease;
  animation:rise 0.2s var(--ease-out);
}
.task-card:hover { border-color:var(--border-hover); box-shadow:var(--shadow-sm); }
.task-card.dragging { opacity:0.5; }
.task-card-title { font-size:13px; font-weight:500; color:var(--text-strong); margin-bottom:8px; line-height:1.4; }
.task-card-meta { display:flex; align-items:center; gap:6px; flex-wrap:wrap; }
.task-key { font-size:10px; font-family:var(--mono); color:var(--muted); background:var(--bg-elevated); padding:1px 5px; border-radius:3px; }

/* ============================================================
   Slide-over Panel
   ============================================================ */

.panel-overlay {
  position:fixed; inset:0; z-index:50;
  background:rgba(0,0,0,0.5); backdrop-filter:blur(2px);
  animation:fade-in 0.2s ease;
}
.panel-drawer {
  position:fixed; inset-block:0; right:0; z-index:51;
  width:var(--panel-width); max-width:100vw;
  background:var(--bg); border-left:1px solid var(--border);
  display:flex; flex-direction:column;
  box-shadow:var(--shadow-lg);
  animation:slide-in-right 0.25s var(--ease-out);
}
.panel-header {
  display:flex; align-items:center; gap:12px; padding:0 20px;
  height:var(--shell-topbar-height); border-bottom:1px solid var(--border);
  flex-shrink:0;
}
.panel-title { font-size:15px; font-weight:600; color:var(--text-strong); flex:1; }
.panel-close { color:var(--muted); background:transparent; border:none; cursor:pointer; padding:6px; border-radius:var(--radius-md); }
.panel-close:hover { background:var(--bg-hover); color:var(--text); }
.panel-tabs { display:flex; gap:2px; padding:10px 16px; border-bottom:1px solid var(--border); overflow-x:auto; flex-shrink:0; scrollbar-width:none; }
.panel-tabs::-webkit-scrollbar { display:none; }
.panel-tab { padding:5px 12px; font-size:12px; font-weight:500; color:var(--muted); border:1px solid transparent; border-radius:var(--radius-md); cursor:pointer; background:transparent; white-space:nowrap; }
.panel-tab:hover { color:var(--text); background:var(--bg-hover); }
.panel-tab.active { color:var(--text-strong); background:var(--accent-subtle); border-color:rgba(77,158,255,0.2); }
.panel-body { flex:1; overflow-y:auto; overflow-x:hidden; }

/* ============================================================
   Chat
   ============================================================ */

.chat-shell { display:flex; flex-direction:column; height:100%; }
.chat-messages { flex:1; overflow-y:auto; padding:16px; display:flex; flex-direction:column; gap:16px; }
.chat-input-row { padding:12px 16px; border-top:1px solid var(--border); display:flex; gap:8px; align-items:flex-end; }
.chat-textarea { flex:1; background:var(--bg-elevated); border:1px solid var(--border); border-radius:var(--radius-md); padding:8px 12px; font-size:13px; resize:none; max-height:120px; }
.chat-textarea:focus { outline:none; border-color:var(--ring); }

.msg { display:flex; flex-direction:column; gap:4px; animation:rise 0.2s var(--ease-out); }
.msg-user { align-items:flex-end; }
.msg-bubble { padding:10px 14px; border-radius:var(--radius-lg); font-size:13px; line-height:1.6; max-width:85%; }
.msg-bubble-user { background:var(--accent-subtle); border:1px solid rgba(77,158,255,0.2); color:var(--text-strong); border-radius:var(--radius-lg) var(--radius-lg) 4px var(--radius-lg); }
.msg-bubble-assistant { background:var(--bg-elevated); border:1px solid var(--border); color:var(--text); border-radius:var(--radius-lg) var(--radius-lg) var(--radius-lg) 4px; }
.msg-meta { font-size:11px; color:var(--muted); display:flex; align-items:center; gap:6px; }
.msg-thinking { font-size:12px; color:var(--muted); font-style:italic; padding:8px 14px; }

/* Streaming cursor */
.cursor-blink::after { content:"â–‹"; animation:pulse-subtle 1s infinite; }
@keyframes pulse-subtle { 0%,100%{opacity:1;} 50%{opacity:0;} }

/* ============================================================
   Log / Code
   ============================================================ */

.log-line { font-family:var(--mono); font-size:12px; line-height:1.6; padding:2px 0; color:var(--text); }
.log-line-error { color:var(--danger); }
.log-line-warn { color:var(--warn); }
.log-line-info { color:var(--info); }
.log-wrap { background:var(--bg-elevated); border:1px solid var(--border); border-radius:var(--radius-md); padding:12px; overflow-y:auto; font-family:var(--mono); font-size:12px; }

/* ============================================================
   Usage / Metrics
   ============================================================ */

.stat-grid { display:grid; gap:14px; grid-template-columns:repeat(auto-fit, minmax(150px,1fr)); }
.stat-card { background:var(--card); border:1px solid var(--border); border-radius:var(--radius-lg); padding:16px; }
.stat-value { font-size:28px; font-weight:700; letter-spacing:-0.04em; color:var(--text-strong); }
.stat-label { font-size:12px; color:var(--muted); margin-top:4px; }
.stat-delta { font-size:11px; margin-top:2px; }
.stat-delta-up { color:var(--ok); }
.stat-delta-down { color:var(--danger); }

/* ============================================================
   Misc Utilities
   ============================================================ */

.empty-state { padding:48px 24px; text-align:center; color:var(--muted); }
.empty-state-icon { font-size:32px; margin-bottom:12px; }
.empty-state-title { font-size:15px; font-weight:600; color:var(--text); margin-bottom:6px; }
.empty-state-sub { font-size:13px; }

.divider { height:1px; background:var(--border); margin:16px 0; }

.mono { font-family:var(--mono); }
.truncate { overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }

.flex { display:flex; }
.flex-1 { flex:1; }
.items-center { align-items:center; }
.justify-between { justify-content:space-between; }
.gap-2 { gap:8px; }
.gap-3 { gap:12px; }
.gap-4 { gap:16px; }
.mt-4 { margin-top:16px; }
.grid { display:grid; }
.grid-2 { grid-template-columns:repeat(2,minmax(0,1fr)); gap:16px; }
.grid-3 { grid-template-columns:repeat(3,minmax(0,1fr)); gap:16px; }

.error-banner { background:var(--danger-subtle); border:1px solid rgba(239,68,68,0.25); border-radius:var(--radius-md); padding:10px 14px; font-size:13px; color:var(--danger); margin-bottom:16px; }
.success-banner { background:var(--ok-subtle); border:1px solid rgba(34,197,94,0.25); border-radius:var(--radius-md); padding:10px 14px; font-size:13px; color:var(--ok); margin-bottom:16px; }

/* ============================================================
   Modal
   ============================================================ */

.modal-backdrop { position:fixed; inset:0; z-index:60; background:rgba(0,0,0,0.6); display:grid; place-items:center; padding:24px; animation:fade-in 0.15s ease; }
.modal { background:var(--card); border:1px solid var(--border); border-radius:var(--radius-xl); padding:28px; width:100%; max-width:480px; box-shadow:var(--shadow-lg); animation:scale-in 0.2s var(--ease-out); }
.modal-title { font-size:17px; font-weight:700; color:var(--text-strong); margin-bottom:4px; }
.modal-sub { font-size:13px; color:var(--muted); margin-bottom:24px; }
.modal-footer { display:flex; justify-content:flex-end; gap:8px; margin-top:24px; }

/* ============================================================
   Responsive
   ============================================================ */

@media (max-width:900px) {
  .shell {
    grid-template-columns:1fr;
    grid-template-rows:var(--shell-topbar-height) auto 1fr;
    grid-template-areas:"topbar" "nav" "content";
  }
  .nav {
    border-right:none; border-bottom:1px solid var(--border);
    padding:8px 12px; display:flex; gap:4px; overflow-x:auto;
  }
  .nav-section { display:flex; gap:4px; margin-bottom:0; }
  .nav-section-label { display:none; }
  .panel-drawer { width:100%; }
  .grid-2, .grid-3 { grid-template-columns:1fr; }
  .kanban { flex-direction:column; }
  .kanban-col { flex:none; width:100%; }
}
