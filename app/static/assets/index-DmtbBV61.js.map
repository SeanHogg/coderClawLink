{"version":3,"mappings":"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","names":["t","e","s","o","n$3","r","n","i","S","c","h","a","l","p","d","u","f","b","y$1","y","v","_","m","g","$","x","E","A","C","P","V","N","I","L","z","H","M","R","k","Z","B","D","BASE","WEB_TOKEN_KEY","TENANT_TOKEN_KEY","TENANT_ID_KEY","USER_KEY","getWebToken","getTenantToken","getTenantId","setWebToken","setTenantToken","setTenantId","id","setUser","getUser","clearSession","ApiError","status","message","request","path","opts","token","rest","bearer","headers","res","msg","j","auth","email","password","tenantId","tenants","name","role","userId","projects","data","tasks","params","q","payload","claws","base","marketplace","skillAssignments","slug","clawId","executions","_CclAuth_decorators","customElement","CclAuth","LitElement","_mode_dec","state","_email_dec","_password_dec","_loading_dec","_error_dec","__publicField","__runInitializers","_init","err","html","__decoratorStart","_a","__decorateElement","_CclWorkspacePicker_decorators","CclWorkspacePicker","_tenants_dec","property","_user_dec","_showCreate_dec","_newName_dec","_creating_dec","_CclProjects_decorators","CclProjects","_tenantId_dec","_items_dec","_showModal_dec","_editTarget_dec","_form_dec","_saving_dec","projectsApi","updated","created","STATUSES","STATUS_LABELS","PRIORITIES","PRIORITY_COLOR","_CclTasks_decorators","CclTasks","_projects_dec","_claws_dec","_view_dec","_filterStatus_dec","_filterProject_dec","_filterPriority_dec","_search_dec","_showArchived_dec","_drawerTask_dec","_drawerExecutions_dec","_drawerTab_dec","_running_dec","_dragTaskId_dec","tasksApi","clawsApi","exec","items","withDates","dates","minDate","maxDate","totalDays","dayW","totalW","months","cur","start","daysInMonth","todayLeft","end","startX","widthDays","statusColors","tab","label","val","statusColor","ex","RECONNECT_DELAYS","ClawGateway","ev","delay","_CclClawChat_decorators","CclClawChat","_clawId_dec","_wsUrl_dec","_messages_dec","_tools_dec","_input_dec","_connState_dec","_session_dec","_streaming_dec","changed","last","text","tt","el","apiFetch","AGENT_TYPES","_CclClawAgents_decorators","CclClawAgents","_agents_dec","ag","_CclClawConfig_decorators","CclClawConfig","_config_dec","_editing_dec","_draft_dec","_newKey_dec","_newVal_dec","entries","_CclClawSessions_decorators","CclClawSessions","_sessions_dec","ss","_CclClawSkills_decorators","CclClawSkills","_assigned_dec","_available_dec","assigned","avail","__vitePreload","api","slugs","unassigned","_CclClawUsage_decorators","CclClawUsage","_timeFilter_dec","now","cutoff","total","completed","failed","running","ms","_CclClawCron_decorators","CclClawCron","_jobs_dec","job","_CclClawNodes_decorators","CclClawNodes","_nodes_dec","node","CHANNEL_TYPES","CHANNEL_FIELDS","_CclClawChannels_decorators","CclClawChannels","_channels_dec","_selectedType_dec","ch","fields","_CclClawLogs_decorators","CclClawLogs","_lines_dec","_level_dec","_autoScroll_dec","lines","TABS","_ClawsView_decorators","ClawsView","_clawList_dec","_showRegisterModal_dec","_registerName_dec","_registering_dec","_registerError_dec","_newClaw_dec","_apiKeyCopied_dec","_panelOpen_dec","_activeClaw_dec","_activeTab_dec","_deleteConfirmId_dec","_deleting_dec","claw","result","dotClass","wsUrl","_CclSkills_decorators","CclSkills","_tab_dec","asgn","ROLES","_CclWorkspace_decorators","CclWorkspace","_tenant_dec","_detail_dec","_showInvite_dec","_inviteEmail_dec","_inviteRole_dec","_inviting_dec","members","_CclLogs_decorators","CclLogs","_tasks_dec","_filterTask_dec","_expanded_dec","_CclApp_decorators","CclApp","_appState_dec","_tenantList_dec","_theme_dec","_navCollapsed_dec","tenantToken","list","found","user","saved","navItems","item","css"],"ignoreList":[0,1,2,3,4,5,6],"sources":["../../../node_modules/.pnpm/@lit+reactive-element@2.1.2/node_modules/@lit/reactive-element/css-tag.js","../../../node_modules/.pnpm/@lit+reactive-element@2.1.2/node_modules/@lit/reactive-element/reactive-element.js","../../../node_modules/.pnpm/lit-html@3.3.2/node_modules/lit-html/lit-html.js","../../../node_modules/.pnpm/lit-element@4.2.2/node_modules/lit-element/lit-element.js","../../../node_modules/.pnpm/@lit+reactive-element@2.1.2/node_modules/@lit/reactive-element/decorators/custom-element.js","../../../node_modules/.pnpm/@lit+reactive-element@2.1.2/node_modules/@lit/reactive-element/decorators/property.js","../../../node_modules/.pnpm/@lit+reactive-element@2.1.2/node_modules/@lit/reactive-element/decorators/state.js","../../src/api.ts","../../src/views/auth.ts","../../src/views/workspace-picker.ts","../../src/views/projects.ts","../../src/views/tasks.ts","../../src/gateway.ts","../../src/views/claw/chat.ts","../../src/views/claw/agents.ts","../../src/views/claw/config.ts","../../src/views/claw/sessions.ts","../../src/views/claw/claw-skills.ts","../../src/views/claw/usage.ts","../../src/views/claw/cron.ts","../../src/views/claw/nodes.ts","../../src/views/claw/channels.ts","../../src/views/claw/claw-logs.ts","../../src/views/claws.ts","../../src/views/skills.ts","../../src/views/workspace.ts","../../src/views/logs.ts","../../src/app.ts"],"sourcesContent":["/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,e=t.ShadowRoot&&(void 0===t.ShadyCSS||t.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,s=Symbol(),o=new WeakMap;class n{constructor(t,e,o){if(this._$cssResult$=!0,o!==s)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const s=this.t;if(e&&void 0===t){const e=void 0!==s&&1===s.length;e&&(t=o.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&o.set(s,t))}return t}toString(){return this.cssText}}const r=t=>new n(\"string\"==typeof t?t:t+\"\",void 0,s),i=(t,...e)=>{const o=1===t.length?t[0]:e.reduce((e,s,o)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(s)+t[o+1],t[0]);return new n(o,t,s)},S=(s,o)=>{if(e)s.adoptedStyleSheets=o.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet);else for(const e of o){const o=document.createElement(\"style\"),n=t.litNonce;void 0!==n&&o.setAttribute(\"nonce\",n),o.textContent=e.cssText,s.appendChild(o)}},c=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const s of t.cssRules)e+=s.cssText;return r(e)})(t):t;export{n as CSSResult,S as adoptStyles,i as css,c as getCompatibleStyle,e as supportsAdoptingStyleSheets,r as unsafeCSS};\n//# sourceMappingURL=css-tag.js.map\n","import{getCompatibleStyle as t,adoptStyles as s}from\"./css-tag.js\";export{CSSResult,css,supportsAdoptingStyleSheets,unsafeCSS}from\"./css-tag.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{is:i,defineProperty:e,getOwnPropertyDescriptor:h,getOwnPropertyNames:r,getOwnPropertySymbols:o,getPrototypeOf:n}=Object,a=globalThis,c=a.trustedTypes,l=c?c.emptyScript:\"\",p=a.reactiveElementPolyfillSupport,d=(t,s)=>t,u={toAttribute(t,s){switch(s){case Boolean:t=t?l:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,s){let i=t;switch(s){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},f=(t,s)=>!i(t,s),b={attribute:!0,type:String,converter:u,reflect:!1,useDefault:!1,hasChanged:f};Symbol.metadata??=Symbol(\"metadata\"),a.litPropertyMetadata??=new WeakMap;class y extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,s=b){if(s.state&&(s.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((s=Object.create(s)).wrapped=!0),this.elementProperties.set(t,s),!s.noAccessor){const i=Symbol(),h=this.getPropertyDescriptor(t,i,s);void 0!==h&&e(this.prototype,t,h)}}static getPropertyDescriptor(t,s,i){const{get:e,set:r}=h(this.prototype,t)??{get(){return this[s]},set(t){this[s]=t}};return{get:e,set(s){const h=e?.call(this);r?.call(this,s),this.requestUpdate(t,h,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??b}static _$Ei(){if(this.hasOwnProperty(d(\"elementProperties\")))return;const t=n(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(d(\"finalized\")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d(\"properties\"))){const t=this.properties,s=[...r(t),...o(t)];for(const i of s)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const s=litPropertyMetadata.get(t);if(void 0!==s)for(const[t,i]of s)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,s]of this.elementProperties){const i=this._$Eu(t,s);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(s){const i=[];if(Array.isArray(s)){const e=new Set(s.flat(1/0).reverse());for(const s of e)i.unshift(t(s))}else void 0!==s&&i.push(t(s));return i}static _$Eu(t,s){const i=s.attribute;return!1===i?void 0:\"string\"==typeof i?i:\"string\"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(t=>t(this))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,s=this.constructor.elementProperties;for(const i of s.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return s(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(t=>t.hostConnected?.())}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach(t=>t.hostDisconnected?.())}attributeChangedCallback(t,s,i){this._$AK(t,i)}_$ET(t,s){const i=this.constructor.elementProperties.get(t),e=this.constructor._$Eu(t,i);if(void 0!==e&&!0===i.reflect){const h=(void 0!==i.converter?.toAttribute?i.converter:u).toAttribute(s,i.type);this._$Em=t,null==h?this.removeAttribute(e):this.setAttribute(e,h),this._$Em=null}}_$AK(t,s){const i=this.constructor,e=i._$Eh.get(t);if(void 0!==e&&this._$Em!==e){const t=i.getPropertyOptions(e),h=\"function\"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:u;this._$Em=e;const r=h.fromAttribute(s,t.type);this[e]=r??this._$Ej?.get(e)??r,this._$Em=null}}requestUpdate(t,s,i,e=!1,h){if(void 0!==t){const r=this.constructor;if(!1===e&&(h=this[t]),i??=r.getPropertyOptions(t),!((i.hasChanged??f)(h,s)||i.useDefault&&i.reflect&&h===this._$Ej?.get(t)&&!this.hasAttribute(r._$Eu(t,i))))return;this.C(t,s,i)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(t,s,{useDefault:i,reflect:e,wrapped:h},r){i&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,r??s??this[t]),!0!==h||void 0!==r)||(this._$AL.has(t)||(this.hasUpdated||i||(s=void 0),this._$AL.set(t,s)),!0===e&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,s]of this._$Ep)this[t]=s;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[s,i]of t){const{wrapped:t}=i,e=this[s];!0!==t||this._$AL.has(s)||void 0===e||this.C(s,void 0,i,e)}}let t=!1;const s=this._$AL;try{t=this.shouldUpdate(s),t?(this.willUpdate(s),this._$EO?.forEach(t=>t.hostUpdate?.()),this.update(s)):this._$EM()}catch(s){throw t=!1,this._$EM(),s}t&&this._$AE(s)}willUpdate(t){}_$AE(t){this._$EO?.forEach(t=>t.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach(t=>this._$ET(t,this[t])),this._$EM()}updated(t){}firstUpdated(t){}}y.elementStyles=[],y.shadowRootOptions={mode:\"open\"},y[d(\"elementProperties\")]=new Map,y[d(\"finalized\")]=new Map,p?.({ReactiveElement:y}),(a.reactiveElementVersions??=[]).push(\"2.1.2\");export{y as ReactiveElement,s as adoptStyles,u as defaultConverter,t as getCompatibleStyle,f as notEqual};\n//# sourceMappingURL=reactive-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,i=t=>t,s=t.trustedTypes,e=s?s.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,h=\"$lit$\",o=`lit$${Math.random().toFixed(9).slice(2)}$`,n=\"?\"+o,r=`<${n}>`,l=document,c=()=>l.createComment(\"\"),a=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,u=Array.isArray,d=t=>u(t)||\"function\"==typeof t?.[Symbol.iterator],f=\"[ \\t\\n\\f\\r]\",v=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,_=/-->/g,m=/>/g,p=RegExp(`>|${f}(?:([^\\\\s\"'>=/]+)(${f}*=${f}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),g=/'/g,$=/\"/g,y=/^(?:script|style|textarea|title)$/i,x=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),b=x(1),w=x(2),T=x(3),E=Symbol.for(\"lit-noChange\"),A=Symbol.for(\"lit-nothing\"),C=new WeakMap,P=l.createTreeWalker(l,129);function V(t,i){if(!u(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==e?e.createHTML(i):i}const N=(t,i)=>{const s=t.length-1,e=[];let n,l=2===i?\"<svg>\":3===i?\"<math>\":\"\",c=v;for(let i=0;i<s;i++){const s=t[i];let a,u,d=-1,f=0;for(;f<s.length&&(c.lastIndex=f,u=c.exec(s),null!==u);)f=c.lastIndex,c===v?\"!--\"===u[1]?c=_:void 0!==u[1]?c=m:void 0!==u[2]?(y.test(u[2])&&(n=RegExp(\"</\"+u[2],\"g\")),c=p):void 0!==u[3]&&(c=p):c===p?\">\"===u[0]?(c=n??v,d=-1):void 0===u[1]?d=-2:(d=c.lastIndex-u[2].length,a=u[1],c=void 0===u[3]?p:'\"'===u[3]?$:g):c===$||c===g?c=p:c===_||c===m?c=v:(c=p,n=void 0);const x=c===p&&t[i+1].startsWith(\"/>\")?\" \":\"\";l+=c===v?s+r:d>=0?(e.push(a),s.slice(0,d)+h+s.slice(d)+o+x):s+o+(-2===d?i:x)}return[V(t,l+(t[s]||\"<?>\")+(2===i?\"</svg>\":3===i?\"</math>\":\"\")),e]};class S{constructor({strings:t,_$litType$:i},e){let r;this.parts=[];let l=0,a=0;const u=t.length-1,d=this.parts,[f,v]=N(t,i);if(this.el=S.createElement(f,e),P.currentNode=this.el.content,2===i||3===i){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=P.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(h)){const i=v[a++],s=r.getAttribute(t).split(o),e=/([.?@])?(.*)/.exec(i);d.push({type:1,index:l,name:e[2],strings:s,ctor:\".\"===e[1]?I:\"?\"===e[1]?L:\"@\"===e[1]?z:H}),r.removeAttribute(t)}else t.startsWith(o)&&(d.push({type:6,index:l}),r.removeAttribute(t));if(y.test(r.tagName)){const t=r.textContent.split(o),i=t.length-1;if(i>0){r.textContent=s?s.emptyScript:\"\";for(let s=0;s<i;s++)r.append(t[s],c()),P.nextNode(),d.push({type:2,index:++l});r.append(t[i],c())}}}else if(8===r.nodeType)if(r.data===n)d.push({type:2,index:l});else{let t=-1;for(;-1!==(t=r.data.indexOf(o,t+1));)d.push({type:7,index:l}),t+=o.length-1}l++}}static createElement(t,i){const s=l.createElement(\"template\");return s.innerHTML=t,s}}function M(t,i,s=t,e){if(i===E)return i;let h=void 0!==e?s._$Co?.[e]:s._$Cl;const o=a(i)?void 0:i._$litDirective$;return h?.constructor!==o&&(h?._$AO?.(!1),void 0===o?h=void 0:(h=new o(t),h._$AT(t,s,e)),void 0!==e?(s._$Co??=[])[e]=h:s._$Cl=h),void 0!==h&&(i=M(t,h._$AS(t,i.values),h,e)),i}class R{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:s}=this._$AD,e=(t?.creationScope??l).importNode(i,!0);P.currentNode=e;let h=P.nextNode(),o=0,n=0,r=s[0];for(;void 0!==r;){if(o===r.index){let i;2===r.type?i=new k(h,h.nextSibling,this,t):1===r.type?i=new r.ctor(h,r.name,r.strings,this,t):6===r.type&&(i=new Z(h,this,t)),this._$AV.push(i),r=s[++n]}o!==r?.index&&(h=P.nextNode(),o++)}return P.currentNode=l,e}p(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class k{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,s,e){this.type=2,this._$AH=A,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cv=e?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t?.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=M(this,t,i),a(t)?t===A||null==t||\"\"===t?(this._$AH!==A&&this._$AR(),this._$AH=A):t!==this._$AH&&t!==E&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):d(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==A&&a(this._$AH)?this._$AA.nextSibling.data=t:this.T(l.createTextNode(t)),this._$AH=t}$(t){const{values:i,_$litType$:s}=t,e=\"number\"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=S.createElement(V(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===e)this._$AH.p(i);else{const t=new R(e,this),s=t.u(this.options);t.p(i),this.T(s),this._$AH=t}}_$AC(t){let i=C.get(t.strings);return void 0===i&&C.set(t.strings,i=new S(t)),i}k(t){u(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const h of t)e===i.length?i.push(s=new k(this.O(c()),this.O(c()),this,this.options)):s=i[e],s._$AI(h),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,s){for(this._$AP?.(!1,!0,s);t!==this._$AB;){const s=i(t).nextSibling;i(t).remove(),t=s}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class H{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,s,e,h){this.type=1,this._$AH=A,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=h,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=A}_$AI(t,i=this,s,e){const h=this.strings;let o=!1;if(void 0===h)t=M(this,t,i,0),o=!a(t)||t!==this._$AH&&t!==E,o&&(this._$AH=t);else{const e=t;let n,r;for(t=h[0],n=0;n<h.length-1;n++)r=M(this,e[s+n],i,n),r===E&&(r=this._$AH[n]),o||=!a(r)||r!==this._$AH[n],r===A?t=A:t!==A&&(t+=(r??\"\")+h[n+1]),this._$AH[n]=r}o&&!e&&this.j(t)}j(t){t===A?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??\"\")}}class I extends H{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===A?void 0:t}}class L extends H{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==A)}}class z extends H{constructor(t,i,s,e,h){super(t,i,s,e,h),this.type=5}_$AI(t,i=this){if((t=M(this,t,i,0)??A)===E)return;const s=this._$AH,e=t===A&&s!==A||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==A&&(s===A||e);e&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){\"function\"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class Z{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){M(this,t)}}const j={M:h,P:o,A:n,C:1,L:N,R,D:d,V:M,I:k,H,N:L,U:z,B:I,F:Z},B=t.litHtmlPolyfillSupport;B?.(S,k),(t.litHtmlVersions??=[]).push(\"3.3.2\");const D=(t,i,s)=>{const e=s?.renderBefore??i;let h=e._$litPart$;if(void 0===h){const t=s?.renderBefore??null;e._$litPart$=h=new k(i.insertBefore(c(),t),t,void 0,s??{})}return h._$AI(t),h};export{j as _$LH,b as html,T as mathml,E as noChange,A as nothing,D as render,w as svg};\n//# sourceMappingURL=lit-html.js.map\n","import{ReactiveElement as t}from\"@lit/reactive-element\";export*from\"@lit/reactive-element\";import{render as e,noChange as r}from\"lit-html\";export*from\"lit-html\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const s=globalThis;class i extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=e(r,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return r}}i._$litElement$=!0,i[\"finalized\"]=!0,s.litElementHydrateSupport?.({LitElement:i});const o=s.litElementPolyfillSupport;o?.({LitElement:i});const n={_$AK:(t,e,r)=>{t._$AK(e,r)},_$AL:t=>t._$AL};(s.litElementVersions??=[]).push(\"4.2.2\");export{i as LitElement,n as _$LE};\n//# sourceMappingURL=lit-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=t=>(e,o)=>{void 0!==o?o.addInitializer(()=>{customElements.define(t,e)}):customElements.define(t,e)};export{t as customElement};\n//# sourceMappingURL=custom-element.js.map\n","import{notEqual as t,defaultConverter as e}from\"../reactive-element.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const o={attribute:!0,type:String,converter:e,reflect:!1,hasChanged:t},r=(t=o,e,r)=>{const{kind:n,metadata:i}=r;let s=globalThis.litPropertyMetadata.get(i);if(void 0===s&&globalThis.litPropertyMetadata.set(i,s=new Map),\"setter\"===n&&((t=Object.create(t)).wrapped=!0),s.set(r.name,t),\"accessor\"===n){const{name:o}=r;return{set(r){const n=e.get.call(this);e.set.call(this,r),this.requestUpdate(o,n,t,!0,r)},init(e){return void 0!==e&&this.C(o,void 0,t,e),e}}}if(\"setter\"===n){const{name:o}=r;return function(r){const n=this[o];e.call(this,r),this.requestUpdate(o,n,t,!0,r)}}throw Error(\"Unsupported decorator location: \"+n)};function n(t){return(e,o)=>\"object\"==typeof o?r(t,e,o):((t,e,o)=>{const r=e.hasOwnProperty(o);return e.constructor.createProperty(o,t),r?Object.getOwnPropertyDescriptor(e,o):void 0})(t,e,o)}export{n as property,r as standardProperty};\n//# sourceMappingURL=property.js.map\n","import{property as t}from\"./property.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function r(r){return t({...r,state:!0,attribute:!1})}export{r as state};\n//# sourceMappingURL=state.js.map\n","/** Typed API client for CoderClawLink.\r\n *  Manages JWT tokens and talks to api.coderclaw.ai.\r\n */\r\n\r\nconst BASE = (typeof window !== \"undefined\" && (window as unknown as { API_URL?: string }).API_URL)\r\n  ?? \"https://api.coderclaw.ai\";\r\n\r\n// ---------------------------------------------------------------------------\r\n// Token storage\r\n// ---------------------------------------------------------------------------\r\n\r\nconst WEB_TOKEN_KEY  = \"ccl-web-token\";\r\nconst TENANT_TOKEN_KEY = \"ccl-tenant-token\";\r\nconst TENANT_ID_KEY  = \"ccl-tenant-id\";\r\nconst USER_KEY       = \"ccl-user\";\r\n\r\nexport function getWebToken(): string | null   { return localStorage.getItem(WEB_TOKEN_KEY); }\r\nexport function getTenantToken(): string | null { return localStorage.getItem(TENANT_TOKEN_KEY); }\r\nexport function getTenantId(): string | null    { return localStorage.getItem(TENANT_ID_KEY); }\r\n\r\nexport function setWebToken(t: string)   { localStorage.setItem(WEB_TOKEN_KEY, t); }\r\nexport function setTenantToken(t: string) { localStorage.setItem(TENANT_TOKEN_KEY, t); }\r\nexport function setTenantId(id: string)  { localStorage.setItem(TENANT_ID_KEY, id); }\r\n\r\nexport function setUser(u: UserInfo)   { localStorage.setItem(USER_KEY, JSON.stringify(u)); }\r\nexport function getUser(): UserInfo | null {\r\n  const s = localStorage.getItem(USER_KEY);\r\n  return s ? JSON.parse(s) as UserInfo : null;\r\n}\r\n\r\nexport function clearSession() {\r\n  localStorage.removeItem(WEB_TOKEN_KEY);\r\n  localStorage.removeItem(TENANT_TOKEN_KEY);\r\n  localStorage.removeItem(TENANT_ID_KEY);\r\n  localStorage.removeItem(USER_KEY);\r\n}\r\n\r\n// ---------------------------------------------------------------------------\r\n// Core fetch wrapper\r\n// ---------------------------------------------------------------------------\r\n\r\nexport class ApiError extends Error {\r\n  constructor(public status: number, message: string) { super(message); }\r\n}\r\n\r\nasync function request<T>(\r\n  path: string,\r\n  opts: RequestInit & { token?: string | null } = {}\r\n): Promise<T> {\r\n  const { token, ...rest } = opts;\r\n  const bearer = token ?? getTenantToken() ?? getWebToken();\r\n  const headers = new Headers(rest.headers);\r\n  headers.set(\"Content-Type\", \"application/json\");\r\n  if (bearer) headers.set(\"Authorization\", `Bearer ${bearer}`);\r\n\r\n  const res = await fetch(`${BASE}${path}`, { ...rest, headers });\r\n\r\n  if (res.status === 401) {\r\n    clearSession();\r\n    window.dispatchEvent(new CustomEvent(\"ccl:unauthorized\"));\r\n  }\r\n\r\n  if (!res.ok) {\r\n    let msg = res.statusText;\r\n    try { const j = await res.json(); msg = j.error ?? j.message ?? msg; } catch { /* ignore */ }\r\n    throw new ApiError(res.status, msg);\r\n  }\r\n\r\n  if (res.status === 204) return undefined as unknown as T;\r\n  return res.json() as Promise<T>;\r\n}\r\n\r\n// ---------------------------------------------------------------------------\r\n// Types\r\n// ---------------------------------------------------------------------------\r\n\r\nexport interface UserInfo {\r\n  id: string;\r\n  email: string;\r\n}\r\n\r\nexport interface TenantSummary {\r\n  id: string;\r\n  name: string;\r\n  slug: string;\r\n  role: string;\r\n  status: string;\r\n}\r\n\r\nexport interface Tenant extends TenantSummary {\r\n  members: TenantMember[];\r\n}\r\n\r\nexport interface TenantMember {\r\n  userId: string;\r\n  email: string;\r\n  role: string;\r\n  joinedAt: string;\r\n}\r\n\r\nexport interface Project {\r\n  id: string;\r\n  key: string;\r\n  name: string;\r\n  description?: string;\r\n  status: string;\r\n  taskCount?: number;\r\n  createdAt: string;\r\n}\r\n\r\nexport type TaskStatus = \"todo\" | \"in_progress\" | \"in_review\" | \"done\" | \"blocked\";\r\nexport type TaskPriority = \"low\" | \"medium\" | \"high\" | \"critical\";\r\n\r\nexport interface Task {\r\n  id: string;\r\n  key: string;\r\n  title: string;\r\n  description?: string;\r\n  status: TaskStatus;\r\n  priority: TaskPriority;\r\n  projectId?: string;\r\n  assignedClawId?: string;\r\n  dueDate?: string;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n  archived?: boolean;\r\n}\r\n\r\nexport interface Claw {\r\n  id: string;\r\n  name: string;\r\n  slug: string;\r\n  status: string;\r\n  connectedAt?: string | null;\r\n  lastSeenAt?: string | null;\r\n  registeredBy?: string;\r\n  createdAt: string;\r\n}\r\n\r\nexport interface ClawRegistration extends Claw {\r\n  apiKey: string; // one-time plaintext key\r\n}\r\n\r\nexport interface Execution {\r\n  id: string;\r\n  taskId: string;\r\n  clawId?: string;\r\n  status: string;\r\n  result?: string;\r\n  payload?: string;\r\n  startedAt?: string;\r\n  completedAt?: string;\r\n  createdAt: string;\r\n}\r\n\r\nexport interface Skill {\r\n  id: string;\r\n  name: string;\r\n  slug: string;\r\n  description?: string;\r\n  category?: string;\r\n  version?: string;\r\n  icon?: string;\r\n}\r\n\r\nexport interface SkillAssignment {\r\n  slug: string;\r\n  name: string;\r\n  assignedAt: string;\r\n}\r\n\r\n// ---------------------------------------------------------------------------\r\n// Auth\r\n// ---------------------------------------------------------------------------\r\n\r\nexport const auth = {\r\n  async register(email: string, password: string): Promise<{ token: string; user: UserInfo }> {\r\n    return request(\"/api/auth/web/register\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({ email, password }),\r\n      token: null,\r\n    });\r\n  },\r\n\r\n  async login(email: string, password: string): Promise<{ token: string; user: UserInfo }> {\r\n    return request(\"/api/auth/web/login\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({ email, password }),\r\n      token: null,\r\n    });\r\n  },\r\n\r\n  async tenantToken(tenantId: string): Promise<{ token: string }> {\r\n    return request(\"/api/auth/tenant-token\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({ tenantId }),\r\n    });\r\n  },\r\n\r\n  async listTenants(): Promise<TenantSummary[]> {\r\n    return request(\"/api/tenants\");\r\n  },\r\n};\r\n\r\n// ---------------------------------------------------------------------------\r\n// Tenants\r\n// ---------------------------------------------------------------------------\r\n\r\nexport const tenants = {\r\n  async create(name: string): Promise<TenantSummary> {\r\n    return request(\"/api/tenants\", { method: \"POST\", body: JSON.stringify({ name }) });\r\n  },\r\n\r\n  async get(id: string): Promise<Tenant> {\r\n    return request(`/api/tenants/${id}`);\r\n  },\r\n\r\n  async inviteMember(id: string, email: string, role: string): Promise<void> {\r\n    return request(`/api/tenants/${id}/members`, {\r\n      method: \"POST\",\r\n      body: JSON.stringify({ email, role }),\r\n    });\r\n  },\r\n\r\n  async removeMember(id: string, userId: string): Promise<void> {\r\n    return request(`/api/tenants/${id}/members/${userId}`, { method: \"DELETE\" });\r\n  },\r\n};\r\n\r\n// ---------------------------------------------------------------------------\r\n// Projects\r\n// ---------------------------------------------------------------------------\r\n\r\nexport const projects = {\r\n  async list(): Promise<Project[]> {\r\n    return request(\"/api/projects\");\r\n  },\r\n\r\n  async create(data: { name: string; description?: string }): Promise<Project> {\r\n    return request(\"/api/projects\", { method: \"POST\", body: JSON.stringify(data) });\r\n  },\r\n\r\n  async update(id: string, data: Partial<Project>): Promise<Project> {\r\n    return request(`/api/projects/${id}`, { method: \"PATCH\", body: JSON.stringify(data) });\r\n  },\r\n\r\n  async remove(id: string): Promise<void> {\r\n    return request(`/api/projects/${id}`, { method: \"DELETE\" });\r\n  },\r\n};\r\n\r\n// ---------------------------------------------------------------------------\r\n// Tasks\r\n// ---------------------------------------------------------------------------\r\n\r\nexport const tasks = {\r\n  async list(params?: { projectId?: string; status?: string; archived?: boolean }): Promise<Task[]> {\r\n    const q = new URLSearchParams();\r\n    if (params?.projectId) q.set(\"projectId\", params.projectId);\r\n    if (params?.status)    q.set(\"status\", params.status);\r\n    if (params?.archived)  q.set(\"archived\", \"true\");\r\n    return request(`/api/tasks${q.size ? `?${q}` : \"\"}`);\r\n  },\r\n\r\n  async create(data: Partial<Task>): Promise<Task> {\r\n    return request(\"/api/tasks\", { method: \"POST\", body: JSON.stringify(data) });\r\n  },\r\n\r\n  async update(id: string, data: Partial<Task>): Promise<Task> {\r\n    return request(`/api/tasks/${id}`, { method: \"PATCH\", body: JSON.stringify(data) });\r\n  },\r\n\r\n  async remove(id: string): Promise<void> {\r\n    return request(`/api/tasks/${id}`, { method: \"DELETE\" });\r\n  },\r\n\r\n  async run(id: string, payload?: string): Promise<Execution> {\r\n    return request(`/api/tasks/${id}/executions`, {\r\n      method: \"POST\",\r\n      body: JSON.stringify({ payload }),\r\n    });\r\n  },\r\n\r\n  async executions(id: string): Promise<Execution[]> {\r\n    return request(`/api/tasks/${id}/executions`);\r\n  },\r\n};\r\n\r\n// ---------------------------------------------------------------------------\r\n// Claws\r\n// ---------------------------------------------------------------------------\r\n\r\nexport const claws = {\r\n  async list(): Promise<Claw[]> {\r\n    return request(\"/api/claws\");\r\n  },\r\n\r\n  async register(name: string): Promise<ClawRegistration> {\r\n    return request(\"/api/claws\", { method: \"POST\", body: JSON.stringify({ name }) });\r\n  },\r\n\r\n  async remove(id: string): Promise<void> {\r\n    return request(`/api/claws/${id}`, { method: \"DELETE\" });\r\n  },\r\n\r\n  async status(id: string): Promise<{ connected: boolean; clients: number }> {\r\n    return request(`/api/claws/${id}/status`);\r\n  },\r\n\r\n  /** WebSocket URL for connecting to a claw's relay */\r\n  wsUrl(id: string): string {\r\n    const base = BASE.replace(/^http/, \"ws\");\r\n    const token = getTenantToken() ?? \"\";\r\n    return `${base}/api/claws/${id}/ws?token=${encodeURIComponent(token)}`;\r\n  },\r\n};\r\n\r\n// ---------------------------------------------------------------------------\r\n// Skills marketplace\r\n// ---------------------------------------------------------------------------\r\n\r\nexport const marketplace = {\r\n  async list(): Promise<Skill[]> {\r\n    return request(\"/marketplace/skills\");\r\n  },\r\n};\r\n\r\nexport const skillAssignments = {\r\n  async listTenant(): Promise<SkillAssignment[]> {\r\n    return request(\"/api/skill-assignments/tenant\");\r\n  },\r\n\r\n  async assignTenant(slug: string): Promise<void> {\r\n    return request(\"/api/skill-assignments/tenant\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({ slug }),\r\n    });\r\n  },\r\n\r\n  async unassignTenant(slug: string): Promise<void> {\r\n    return request(`/api/skill-assignments/tenant/${slug}`, { method: \"DELETE\" });\r\n  },\r\n\r\n  async assignClaw(clawId: string, slug: string): Promise<void> {\r\n    return request(`/api/skill-assignments/claws/${clawId}`, {\r\n      method: \"POST\",\r\n      body: JSON.stringify({ slug }),\r\n    });\r\n  },\r\n};\r\n\r\n// ---------------------------------------------------------------------------\r\n// Executions / audit\r\n// ---------------------------------------------------------------------------\r\n\r\nexport const executions = {\r\n  async list(params?: { taskId?: string; clawId?: string }): Promise<Execution[]> {\r\n    const q = new URLSearchParams();\r\n    if (params?.taskId) q.set(\"taskId\", params.taskId);\r\n    if (params?.clawId) q.set(\"clawId\", params.clawId);\r\n    return request(`/api/executions${q.size ? `?${q}` : \"\"}`);\r\n  },\r\n};\r\n","import { LitElement, html } from \"lit\";\r\nimport { customElement, state } from \"lit/decorators.js\";\r\nimport { auth, type UserInfo } from \"../api.js\";\r\n\r\n@customElement(\"ccl-auth\")\r\nexport class CclAuth extends LitElement {\r\n  override createRenderRoot() { return this; }\r\n\r\n  @state() private mode: \"login\" | \"register\" = \"login\";\r\n  @state() private email = \"\";\r\n  @state() private password = \"\";\r\n  @state() private loading = false;\r\n  @state() private error = \"\";\r\n\r\n  private async submit(e: Event) {\r\n    e.preventDefault();\r\n    if (!this.email || !this.password) return;\r\n    this.loading = true;\r\n    this.error = \"\";\r\n    try {\r\n      const fn = this.mode === \"login\" ? auth.login : auth.register;\r\n      const res = await fn(this.email, this.password);\r\n      this.dispatchEvent(new CustomEvent<{ token: string; user: UserInfo }>(\r\n        this.mode,\r\n        { detail: res, bubbles: true, composed: true }\r\n      ));\r\n    } catch (err) {\r\n      this.error = (err as Error).message ?? \"An error occurred\";\r\n    } finally {\r\n      this.loading = false;\r\n    }\r\n  }\r\n\r\n  override render() {\r\n    return html`\r\n      <div class=\"auth-shell\">\r\n        <div class=\"auth-card\">\r\n          <div class=\"auth-logo\">\r\n            <img src=\"/logo.png\" alt=\"CoderClawLink\" onerror=\"this.style.display='none'\" style=\"width:36px;height:36px\">\r\n            <div>\r\n              <div class=\"auth-logo-name\">CoderClawLink</div>\r\n              <div class=\"auth-logo-sub\">AI Coding Mesh</div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"auth-title\">${this.mode === \"login\" ? \"Welcome back\" : \"Create account\"}</div>\r\n          <div class=\"auth-sub\">${this.mode === \"login\" ? \"Sign in to your workspace\" : \"Get started with CoderClawLink\"}</div>\r\n\r\n          ${this.error ? html`<div class=\"error-banner\">${this.error}</div>` : \"\"}\r\n\r\n          <form @submit=${this.submit} style=\"display:grid;gap:14px\">\r\n            <div class=\"field\">\r\n              <label class=\"label\">Email</label>\r\n              <input\r\n                class=\"input\"\r\n                type=\"email\"\r\n                placeholder=\"you@example.com\"\r\n                .value=${this.email}\r\n                @input=${(e: InputEvent) => { this.email = (e.target as HTMLInputElement).value; }}\r\n                autocomplete=\"email\"\r\n                required\r\n              >\r\n            </div>\r\n            <div class=\"field\">\r\n              <label class=\"label\">Password</label>\r\n              <input\r\n                class=\"input\"\r\n                type=\"password\"\r\n                placeholder=\"\"\r\n                .value=${this.password}\r\n                @input=${(e: InputEvent) => { this.password = (e.target as HTMLInputElement).value; }}\r\n                autocomplete=${this.mode === \"login\" ? \"current-password\" : \"new-password\"}\r\n                required\r\n                minlength=\"8\"\r\n              >\r\n            </div>\r\n            <button\r\n              class=\"btn btn-primary btn-full btn-lg\"\r\n              type=\"submit\"\r\n              ?disabled=${this.loading}\r\n              style=\"margin-top:4px\"\r\n            >\r\n              ${this.loading\r\n                ? \"Please wait\"\r\n                : this.mode === \"login\" ? \"Sign in\" : \"Create account\"}\r\n            </button>\r\n          </form>\r\n\r\n          <div class=\"auth-toggle\">\r\n            ${this.mode === \"login\"\r\n              ? html`Don't have an account? <a @click=${() => { this.mode = \"register\"; this.error = \"\"; }}>Sign up</a>`\r\n              : html`Already have an account? <a @click=${() => { this.mode = \"login\"; this.error = \"\"; }}>Sign in</a>`}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap { \"ccl-auth\": CclAuth; }\r\n}\r\n","import { LitElement, html } from \"lit\";\r\nimport { customElement, property, state } from \"lit/decorators.js\";\r\nimport { type TenantSummary, type UserInfo } from \"../api.js\";\r\n\r\n@customElement(\"ccl-workspace-picker\")\r\nexport class CclWorkspacePicker extends LitElement {\r\n  override createRenderRoot() { return this; }\r\n\r\n  @property({ type: Array }) tenants: TenantSummary[] = [];\r\n  @property({ type: Object }) user: UserInfo | null = null;\r\n\r\n  @state() private showCreate = false;\r\n  @state() private newName = \"\";\r\n  @state() private creating = false;\r\n  @state() private error = \"\";\r\n\r\n  private selectTenant(t: TenantSummary) {\r\n    this.dispatchEvent(new CustomEvent(\"select-tenant\", { detail: t, bubbles: true, composed: true }));\r\n  }\r\n\r\n  private async createTenant(e: Event) {\r\n    e.preventDefault();\r\n    if (!this.newName.trim()) return;\r\n    this.creating = true;\r\n    this.error = \"\";\r\n    try {\r\n      this.dispatchEvent(new CustomEvent(\"create-tenant\", {\r\n        detail: { name: this.newName.trim() },\r\n        bubbles: true,\r\n        composed: true,\r\n      }));\r\n    } catch (err) {\r\n      this.error = (err as Error).message;\r\n      this.creating = false;\r\n    }\r\n  }\r\n\r\n  private signOut() {\r\n    this.dispatchEvent(new CustomEvent(\"sign-out\", { bubbles: true, composed: true }));\r\n  }\r\n\r\n  override render() {\r\n    return html`\r\n      <div class=\"workspace-picker\">\r\n        <div style=\"width:100%;max-width:560px\">\r\n          <!-- Header -->\r\n          <div style=\"display:flex;align-items:center;justify-content:space-between;margin-bottom:28px\">\r\n            <div>\r\n              <div style=\"font-size:22px;font-weight:700;letter-spacing:-0.035em;color:var(--text-strong)\">\r\n                Choose a workspace\r\n              </div>\r\n              <div style=\"font-size:13px;color:var(--muted);margin-top:4px\">\r\n                ${this.user?.email ?? \"\"}\r\n              </div>\r\n            </div>\r\n            <button class=\"btn btn-ghost btn-sm\" @click=${this.signOut}>Sign out</button>\r\n          </div>\r\n\r\n          <!-- Tenant list -->\r\n          <div class=\"workspace-list\">\r\n            ${this.tenants.length === 0\r\n              ? html`<div style=\"text-align:center;color:var(--muted);padding:32px 0;font-size:14px\">\r\n                  No workspaces yet  create your first one below.\r\n                </div>`\r\n              : this.tenants.map(t => html`\r\n                <div class=\"workspace-card\" @click=${() => this.selectTenant(t)}>\r\n                  <div class=\"workspace-avatar\">${t.name.charAt(0).toUpperCase()}</div>\r\n                  <div>\r\n                    <div class=\"workspace-name\">${t.name}</div>\r\n                    <div class=\"workspace-role\">${t.role}  ${t.status}</div>\r\n                  </div>\r\n                  <div class=\"workspace-arrow\">\r\n                    <svg viewBox=\"0 0 24 24\" style=\"width:16px;height:16px;stroke:currentColor;fill:none;stroke-width:2\"><polyline points=\"9 18 15 12 9 6\"/></svg>\r\n                  </div>\r\n                </div>\r\n              `)}\r\n          </div>\r\n\r\n          <!-- Create new workspace -->\r\n          <div style=\"margin-top:20px\">\r\n            ${this.showCreate\r\n              ? html`\r\n                <div class=\"card\">\r\n                  <div class=\"card-title\" style=\"margin-bottom:16px\">New workspace</div>\r\n                  ${this.error ? html`<div class=\"error-banner\">${this.error}</div>` : \"\"}\r\n                  <form @submit=${this.createTenant} style=\"display:grid;gap:12px\">\r\n                    <div class=\"field\">\r\n                      <label class=\"label\">Workspace name</label>\r\n                      <input\r\n                        class=\"input\"\r\n                        placeholder=\"e.g. Acme Corp\"\r\n                        .value=${this.newName}\r\n                        @input=${(e: InputEvent) => { this.newName = (e.target as HTMLInputElement).value; }}\r\n                        required\r\n                      >\r\n                    </div>\r\n                    <div style=\"display:flex;gap:8px\">\r\n                      <button class=\"btn btn-primary\" type=\"submit\" ?disabled=${this.creating}>\r\n                        ${this.creating ? \"Creating\" : \"Create workspace\"}\r\n                      </button>\r\n                      <button class=\"btn btn-ghost\" type=\"button\" @click=${() => { this.showCreate = false; this.error = \"\"; }}>\r\n                        Cancel\r\n                      </button>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              `\r\n              : html`\r\n                <button\r\n                  class=\"btn btn-secondary btn-full\"\r\n                  @click=${() => { this.showCreate = true; }}\r\n                  style=\"border-style:dashed\"\r\n                >\r\n                  <svg viewBox=\"0 0 24 24\" style=\"width:14px;height:14px;stroke:currentColor;fill:none;stroke-width:2;stroke-linecap:round;stroke-linejoin:round\"><line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"/><line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"/></svg>\r\n                  Create new workspace\r\n                </button>\r\n              `}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap { \"ccl-workspace-picker\": CclWorkspacePicker; }\r\n}\r\n","import { LitElement, html } from \"lit\";\r\nimport { customElement, property, state } from \"lit/decorators.js\";\r\nimport { projects as projectsApi, type Project } from \"../api.js\";\r\n\r\n@customElement(\"ccl-projects\")\r\nexport class CclProjects extends LitElement {\r\n  override createRenderRoot() { return this; }\r\n\r\n  @property() tenantId = \"\";\r\n\r\n  @state() private items: Project[] = [];\r\n  @state() private loading = true;\r\n  @state() private error = \"\";\r\n  @state() private showModal = false;\r\n  @state() private editTarget: Project | null = null;\r\n  @state() private form = { name: \"\", description: \"\" };\r\n  @state() private saving = false;\r\n\r\n  override connectedCallback() {\r\n    super.connectedCallback();\r\n    this.load();\r\n  }\r\n\r\n  private async load() {\r\n    this.loading = true;\r\n    try {\r\n      this.items = await projectsApi.list();\r\n    } catch (e) {\r\n      this.error = (e as Error).message;\r\n    } finally {\r\n      this.loading = false;\r\n    }\r\n  }\r\n\r\n  private openCreate() {\r\n    this.editTarget = null;\r\n    this.form = { name: \"\", description: \"\" };\r\n    this.showModal = true;\r\n  }\r\n\r\n  private openEdit(p: Project) {\r\n    this.editTarget = p;\r\n    this.form = { name: p.name, description: p.description ?? \"\" };\r\n    this.showModal = true;\r\n  }\r\n\r\n  private async save(e: Event) {\r\n    e.preventDefault();\r\n    this.saving = true;\r\n    try {\r\n      if (this.editTarget) {\r\n        const updated = await projectsApi.update(this.editTarget.id, this.form);\r\n        this.items = this.items.map(i => i.id === updated.id ? updated : i);\r\n      } else {\r\n        const created = await projectsApi.create(this.form);\r\n        this.items = [created, ...this.items];\r\n      }\r\n      this.showModal = false;\r\n    } catch (e) {\r\n      this.error = (e as Error).message;\r\n    } finally {\r\n      this.saving = false;\r\n    }\r\n  }\r\n\r\n  private async remove(p: Project) {\r\n    if (!confirm(`Delete project \"${p.name}\"? This cannot be undone.`)) return;\r\n    try {\r\n      await projectsApi.remove(p.id);\r\n      this.items = this.items.filter(i => i.id !== p.id);\r\n    } catch (e) {\r\n      this.error = (e as Error).message;\r\n    }\r\n  }\r\n\r\n  private statusBadge(s: string) {\r\n    const map: Record<string, string> = {\r\n      active: \"badge-green\", completed: \"badge-blue\",\r\n      archived: \"badge-gray\", on_hold: \"badge-yellow\",\r\n    };\r\n    return html`<span class=\"badge ${map[s] ?? \"badge-gray\"}\">${s.replace(\"_\", \" \")}</span>`;\r\n  }\r\n\r\n  override render() {\r\n    return html`\r\n      <div class=\"page-header\">\r\n        <div>\r\n          <div class=\"page-title\">Projects</div>\r\n          <div class=\"page-sub\">Organize work into projects</div>\r\n        </div>\r\n        <button class=\"btn btn-primary\" @click=${this.openCreate}>\r\n          <svg viewBox=\"0 0 24 24\"><line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"/><line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"/></svg>\r\n          New project\r\n        </button>\r\n      </div>\r\n\r\n      ${this.error ? html`<div class=\"error-banner\">${this.error}</div>` : \"\"}\r\n\r\n      ${this.loading\r\n        ? html`<div style=\"color:var(--muted);font-size:13px\">Loading</div>`\r\n        : this.items.length === 0\r\n          ? html`\r\n            <div class=\"empty-state\">\r\n              <div class=\"empty-state-icon\"></div>\r\n              <div class=\"empty-state-title\">No projects yet</div>\r\n              <div class=\"empty-state-sub\">Create a project to start organizing tasks</div>\r\n              <button class=\"btn btn-primary\" style=\"margin-top:16px\" @click=${this.openCreate}>Create project</button>\r\n            </div>`\r\n          : html`\r\n            <div class=\"grid grid-3\">\r\n              ${this.items.map(p => html`\r\n                <div class=\"card\" style=\"cursor:default\">\r\n                  <div class=\"card-header\">\r\n                    <div>\r\n                      <div class=\"card-title\">${p.name}</div>\r\n                      <div style=\"font-size:11px;font-family:var(--mono);color:var(--muted);margin-top:2px\">${p.key}</div>\r\n                    </div>\r\n                    ${this.statusBadge(p.status)}\r\n                  </div>\r\n                  ${p.description\r\n                    ? html`<div style=\"font-size:13px;color:var(--muted);line-height:1.5;margin-bottom:12px\">${p.description}</div>`\r\n                    : \"\"}\r\n                  <div style=\"display:flex;align-items:center;gap:8px;margin-top:4px\">\r\n                    ${p.taskCount != null\r\n                      ? html`<span style=\"font-size:12px;color:var(--muted)\">${p.taskCount} task${p.taskCount !== 1 ? \"s\" : \"\"}</span>`\r\n                      : \"\"}\r\n                    <div style=\"flex:1\"></div>\r\n                    <button class=\"btn btn-ghost btn-sm\" @click=${() => this.openEdit(p)}>Edit</button>\r\n                    <button class=\"btn btn-danger btn-sm\" @click=${() => this.remove(p)}>Delete</button>\r\n                  </div>\r\n                </div>\r\n              `)}\r\n            </div>`}\r\n\r\n      ${this.showModal ? this.renderModal() : \"\"}\r\n    `;\r\n  }\r\n\r\n  private renderModal() {\r\n    return html`\r\n      <div class=\"modal-backdrop\" @click=${(e: Event) => { if (e.target === e.currentTarget) this.showModal = false; }}>\r\n        <div class=\"modal\">\r\n          <div class=\"modal-title\">${this.editTarget ? \"Edit project\" : \"New project\"}</div>\r\n          <div class=\"modal-sub\">Projects group related tasks together</div>\r\n          ${this.error ? html`<div class=\"error-banner\">${this.error}</div>` : \"\"}\r\n          <form @submit=${this.save} style=\"display:grid;gap:14px\">\r\n            <div class=\"field\">\r\n              <label class=\"label\">Name</label>\r\n              <input class=\"input\" placeholder=\"Project name\" .value=${this.form.name}\r\n                @input=${(e: InputEvent) => { this.form = { ...this.form, name: (e.target as HTMLInputElement).value }; }} required>\r\n            </div>\r\n            <div class=\"field\">\r\n              <label class=\"label\">Description <span class=\"label-hint\">(optional)</span></label>\r\n              <textarea class=\"textarea\" placeholder=\"What is this project about?\"\r\n                .value=${this.form.description}\r\n                @input=${(e: InputEvent) => { this.form = { ...this.form, description: (e.target as HTMLTextAreaElement).value }; }}></textarea>\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n              <button class=\"btn btn-ghost\" type=\"button\" @click=${() => this.showModal = false}>Cancel</button>\r\n              <button class=\"btn btn-primary\" type=\"submit\" ?disabled=${this.saving}>\r\n                ${this.saving ? \"Saving\" : this.editTarget ? \"Save changes\" : \"Create project\"}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap { \"ccl-projects\": CclProjects; }\r\n}\r\n","import { LitElement, html } from \"lit\";\r\nimport { customElement, property, state } from \"lit/decorators.js\";\r\nimport {\r\n  tasks as tasksApi, projects as projectsApi, claws as clawsApi,\r\n  type Task, type TaskStatus, type TaskPriority, type Project, type Claw, type Execution,\r\n} from \"../api.js\";\r\n\r\ntype ViewMode = \"kanban\" | \"list\" | \"gantt\";\r\n\r\nconst STATUSES: TaskStatus[] = [\"todo\", \"in_progress\", \"in_review\", \"done\", \"blocked\"];\r\nconst STATUS_LABELS: Record<TaskStatus, string> = {\r\n  todo: \"To Do\", in_progress: \"In Progress\", in_review: \"In Review\",\r\n  done: \"Done\", blocked: \"Blocked\",\r\n};\r\nconst PRIORITIES: TaskPriority[] = [\"low\", \"medium\", \"high\", \"critical\"];\r\n\r\nconst PRIORITY_COLOR: Record<TaskPriority, string> = {\r\n  low: \"badge-gray\", medium: \"badge-blue\", high: \"badge-yellow\", critical: \"badge-red\",\r\n};\r\n\r\n@customElement(\"ccl-tasks\")\r\nexport class CclTasks extends LitElement {\r\n  override createRenderRoot() { return this; }\r\n\r\n  @property() tenantId = \"\";\r\n\r\n  @state() private items: Task[] = [];\r\n  @state() private projects: Project[] = [];\r\n  @state() private claws: Claw[] = [];\r\n  @state() private loading = true;\r\n  @state() private error = \"\";\r\n  @state() private view: ViewMode = \"kanban\";\r\n  @state() private filterStatus = \"\";\r\n  @state() private filterProject = \"\";\r\n  @state() private filterPriority = \"\";\r\n  @state() private search = \"\";\r\n  @state() private showArchived = false;\r\n\r\n  // Modal\r\n  @state() private showModal = false;\r\n  @state() private editTarget: Task | null = null;\r\n  @state() private form: Partial<Task> = {};\r\n  @state() private saving = false;\r\n\r\n  // Task drawer\r\n  @state() private drawerTask: Task | null = null;\r\n  @state() private drawerExecutions: Execution[] = [];\r\n  @state() private drawerTab: \"detail\" | \"executions\" = \"detail\";\r\n  @state() private running = false;\r\n\r\n  // Drag\r\n  @state() private dragTaskId = \"\";\r\n\r\n  override connectedCallback() {\r\n    super.connectedCallback();\r\n    this.load();\r\n  }\r\n\r\n  private async load() {\r\n    this.loading = true;\r\n    try {\r\n      [this.items, this.projects, this.claws] = await Promise.all([\r\n        tasksApi.list({ archived: this.showArchived }),\r\n        projectsApi.list(),\r\n        clawsApi.list(),\r\n      ]);\r\n    } catch (e) {\r\n      this.error = (e as Error).message;\r\n    } finally {\r\n      this.loading = false;\r\n    }\r\n  }\r\n\r\n  private get filtered(): Task[] {\r\n    return this.items.filter(t => {\r\n      if (this.filterStatus && t.status !== this.filterStatus) return false;\r\n      if (this.filterProject && t.projectId !== this.filterProject) return false;\r\n      if (this.filterPriority && t.priority !== this.filterPriority) return false;\r\n      if (this.search && !t.title.toLowerCase().includes(this.search.toLowerCase())) return false;\r\n      return true;\r\n    });\r\n  }\r\n\r\n  private tasksForStatus(s: TaskStatus) {\r\n    return this.filtered.filter(t => t.status === s);\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // CRUD\r\n  // ---------------------------------------------------------------------------\r\n\r\n  private openCreate() {\r\n    this.editTarget = null;\r\n    this.form = { status: \"todo\", priority: \"medium\" };\r\n    this.showModal = true;\r\n  }\r\n\r\n  private openEdit(t: Task, e?: Event) {\r\n    e?.stopPropagation();\r\n    this.editTarget = t;\r\n    this.form = { ...t };\r\n    this.showModal = true;\r\n  }\r\n\r\n  private async save(e: Event) {\r\n    e.preventDefault();\r\n    this.saving = true;\r\n    try {\r\n      if (this.editTarget) {\r\n        const updated = await tasksApi.update(this.editTarget.id, this.form);\r\n        this.items = this.items.map(i => i.id === updated.id ? updated : i);\r\n        if (this.drawerTask?.id === updated.id) this.drawerTask = updated;\r\n      } else {\r\n        const created = await tasksApi.create(this.form);\r\n        this.items = [created, ...this.items];\r\n      }\r\n      this.showModal = false;\r\n    } catch (e) {\r\n      this.error = (e as Error).message;\r\n    } finally {\r\n      this.saving = false;\r\n    }\r\n  }\r\n\r\n  private async remove(t: Task, e: Event) {\r\n    e.stopPropagation();\r\n    if (!confirm(`Delete \"${t.title}\"?`)) return;\r\n    await tasksApi.remove(t.id);\r\n    this.items = this.items.filter(i => i.id !== t.id);\r\n    if (this.drawerTask?.id === t.id) this.drawerTask = null;\r\n  }\r\n\r\n  private async patchStatus(id: string, status: TaskStatus) {\r\n    const updated = await tasksApi.update(id, { status });\r\n    this.items = this.items.map(i => i.id === id ? updated : i);\r\n    if (this.drawerTask?.id === id) this.drawerTask = updated;\r\n  }\r\n\r\n  private async runTask(t: Task, e: Event) {\r\n    e.stopPropagation();\r\n    this.running = true;\r\n    try {\r\n      const exec = await tasksApi.run(t.id);\r\n      const updated = await tasksApi.update(t.id, { status: \"in_progress\" });\r\n      this.items = this.items.map(i => i.id === updated.id ? updated : i);\r\n      if (this.drawerTask?.id === t.id) {\r\n        this.drawerTask = updated;\r\n        this.drawerExecutions = [exec, ...this.drawerExecutions];\r\n      }\r\n    } catch (e) {\r\n      this.error = (e as Error).message;\r\n    } finally {\r\n      this.running = false;\r\n    }\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // Drawer\r\n  // ---------------------------------------------------------------------------\r\n\r\n  private async openDrawer(t: Task) {\r\n    this.drawerTask = t;\r\n    this.drawerTab = \"detail\";\r\n    try {\r\n      this.drawerExecutions = await tasksApi.executions(t.id);\r\n    } catch { this.drawerExecutions = []; }\r\n  }\r\n\r\n  private closeDrawer() { this.drawerTask = null; }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // Drag & Drop (kanban)\r\n  // ---------------------------------------------------------------------------\r\n\r\n  private dragStart(id: string) { this.dragTaskId = id; }\r\n  private dragOver(e: DragEvent) { e.preventDefault(); }\r\n  private async drop(e: DragEvent, status: TaskStatus) {\r\n    e.preventDefault();\r\n    if (this.dragTaskId) {\r\n      await this.patchStatus(this.dragTaskId, status);\r\n      this.dragTaskId = \"\";\r\n    }\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // Helpers\r\n  // ---------------------------------------------------------------------------\r\n\r\n  private projectName(id?: string) {\r\n    return id ? (this.projects.find(p => p.id === id)?.name ?? id) : \"\";\r\n  }\r\n\r\n  private clawName(id?: string) {\r\n    return id ? (this.claws.find(c => c.id === id)?.name ?? id) : \"Unassigned\";\r\n  }\r\n\r\n  private priorityBadge(p: TaskPriority) {\r\n    return html`<span class=\"badge ${PRIORITY_COLOR[p]}\">${p}</span>`;\r\n  }\r\n\r\n  private statusBadge(s: TaskStatus) {\r\n    const map: Record<TaskStatus, string> = {\r\n      todo: \"badge-gray\", in_progress: \"badge-blue\",\r\n      in_review: \"badge-yellow\", done: \"badge-green\", blocked: \"badge-red\",\r\n    };\r\n    return html`<span class=\"badge ${map[s]}\">${STATUS_LABELS[s]}</span>`;\r\n  }\r\n\r\n  private formatDate(d?: string) {\r\n    if (!d) return \"\";\r\n    return new Date(d).toLocaleDateString(undefined, { month: \"short\", day: \"numeric\" });\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // Render\r\n  // ---------------------------------------------------------------------------\r\n\r\n  override render() {\r\n    return html`\r\n      <!-- Header -->\r\n      <div class=\"page-header\">\r\n        <div>\r\n          <div class=\"page-title\">Tasks</div>\r\n          <div class=\"page-sub\">${this.filtered.length} task${this.filtered.length !== 1 ? \"s\" : \"\"}</div>\r\n        </div>\r\n        <div style=\"display:flex;gap:8px;align-items:center\">\r\n          <!-- View toggle -->\r\n          <div style=\"display:flex;background:var(--bg-elevated);border:1px solid var(--border);border-radius:var(--radius-md);overflow:hidden\">\r\n            ${([\"kanban\", \"list\", \"gantt\"] as ViewMode[]).map(v => html`\r\n              <button\r\n                class=\"btn btn-ghost btn-sm\"\r\n                style=\"border-radius:0;${this.view === v ? \"background:var(--accent-subtle);color:var(--accent);\" : \"\"}\"\r\n                @click=${() => { this.view = v; }}\r\n                title=\"${v}\"\r\n              >${v}</button>\r\n            `)}\r\n          </div>\r\n          <button class=\"btn btn-primary\" @click=${this.openCreate}>\r\n            <svg viewBox=\"0 0 24 24\"><line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"/><line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"/></svg>\r\n            New task\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      ${this.error ? html`<div class=\"error-banner\">${this.error}</div>` : \"\"}\r\n\r\n      <!-- Filters -->\r\n      <div class=\"filters\" style=\"margin-bottom:16px\">\r\n        <input class=\"input\" style=\"max-width:200px;height:32px;padding:4px 10px\"\r\n          placeholder=\"Search\" .value=${this.search}\r\n          @input=${(e: InputEvent) => { this.search = (e.target as HTMLInputElement).value; }}>\r\n        <select class=\"select\" style=\"max-width:160px;height:32px;padding:4px 10px\"\r\n          @change=${(e: Event) => { this.filterStatus = (e.target as HTMLSelectElement).value; }}>\r\n          <option value=\"\">All statuses</option>\r\n          ${STATUSES.map(s => html`<option value=${s}>${STATUS_LABELS[s]}</option>`)}\r\n        </select>\r\n        <select class=\"select\" style=\"max-width:160px;height:32px;padding:4px 10px\"\r\n          @change=${(e: Event) => { this.filterProject = (e.target as HTMLSelectElement).value; }}>\r\n          <option value=\"\">All projects</option>\r\n          ${this.projects.map(p => html`<option value=${p.id}>${p.name}</option>`)}\r\n        </select>\r\n        <select class=\"select\" style=\"max-width:140px;height:32px;padding:4px 10px\"\r\n          @change=${(e: Event) => { this.filterPriority = (e.target as HTMLSelectElement).value; }}>\r\n          <option value=\"\">All priorities</option>\r\n          ${PRIORITIES.map(p => html`<option value=${p}>${p}</option>`)}\r\n        </select>\r\n        <label style=\"display:flex;align-items:center;gap:6px;font-size:13px;color:var(--muted);cursor:pointer\">\r\n          <input type=\"checkbox\" .checked=${this.showArchived}\r\n            @change=${async (e: Event) => { this.showArchived = (e.target as HTMLInputElement).checked; await this.load(); }}>\r\n          Archived\r\n        </label>\r\n      </div>\r\n\r\n      ${this.loading\r\n        ? html`<div style=\"color:var(--muted);font-size:13px\">Loading</div>`\r\n        : this.view === \"kanban\" ? this.renderKanban()\r\n        : this.view === \"list\"   ? this.renderList()\r\n        :                          this.renderGantt()}\r\n\r\n      ${this.showModal ? this.renderModal() : \"\"}\r\n      ${this.drawerTask ? this.renderDrawer() : \"\"}\r\n    `;\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // Kanban\r\n  // ---------------------------------------------------------------------------\r\n\r\n  private renderKanban() {\r\n    return html`\r\n      <div class=\"kanban\">\r\n        ${STATUSES.map(s => html`\r\n          <div class=\"kanban-col\"\r\n            @dragover=${this.dragOver}\r\n            @drop=${(e: DragEvent) => this.drop(e, s)}>\r\n            <div class=\"kanban-col-header\">\r\n              <div class=\"kanban-col-title\">${STATUS_LABELS[s]}</div>\r\n              <div class=\"kanban-col-count\">${this.tasksForStatus(s).length}</div>\r\n            </div>\r\n            <div class=\"kanban-col-body\">\r\n              ${this.tasksForStatus(s).map(t => html`\r\n                <div class=\"task-card\"\r\n                  draggable=\"true\"\r\n                  @dragstart=${() => this.dragStart(t.id)}\r\n                  @click=${() => this.openDrawer(t)}>\r\n                  <div class=\"task-card-title\">${t.title}</div>\r\n                  <div class=\"task-card-meta\">\r\n                    <span class=\"task-key\">${t.key}</span>\r\n                    ${this.priorityBadge(t.priority)}\r\n                    ${t.assignedClawId\r\n                      ? html`<span style=\"font-size:11px;color:var(--muted)\">${this.clawName(t.assignedClawId)}</span>`\r\n                      : \"\"}\r\n                    ${t.dueDate ? html`<span style=\"font-size:11px;color:var(--muted);margin-left:auto\">${this.formatDate(t.dueDate)}</span>` : \"\"}\r\n                  </div>\r\n                </div>\r\n              `)}\r\n              <button\r\n                class=\"btn btn-ghost btn-sm\"\r\n                style=\"border-style:dashed;width:100%;margin-top:4px\"\r\n                @click=${() => { this.form = { status: s, priority: \"medium\" }; this.editTarget = null; this.showModal = true; }}>\r\n                + Add task\r\n              </button>\r\n            </div>\r\n          </div>\r\n        `)}\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // List\r\n  // ---------------------------------------------------------------------------\r\n\r\n  private renderList() {\r\n    const items = this.filtered;\r\n    if (items.length === 0) {\r\n      return html`<div class=\"empty-state\"><div class=\"empty-state-title\">No tasks found</div></div>`;\r\n    }\r\n    return html`\r\n      <div class=\"table-wrap\">\r\n        <table class=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Task</th>\r\n              <th>Status</th>\r\n              <th>Priority</th>\r\n              <th>Project</th>\r\n              <th>Claw</th>\r\n              <th>Due</th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            ${items.map(t => html`\r\n              <tr style=\"cursor:pointer\" @click=${() => this.openDrawer(t)}>\r\n                <td>\r\n                  <div style=\"font-weight:500;color:var(--text-strong)\">${t.title}</div>\r\n                  <div style=\"font-size:11px;font-family:var(--mono);color:var(--muted)\">${t.key}</div>\r\n                </td>\r\n                <td>${this.statusBadge(t.status)}</td>\r\n                <td>${this.priorityBadge(t.priority)}</td>\r\n                <td style=\"font-size:12px;color:var(--muted)\">${this.projectName(t.projectId)}</td>\r\n                <td style=\"font-size:12px;color:var(--muted)\">${this.clawName(t.assignedClawId)}</td>\r\n                <td style=\"font-size:12px;color:var(--muted)\">${this.formatDate(t.dueDate)}</td>\r\n                <td>\r\n                  <div style=\"display:flex;gap:4px\" @click=${(e: Event) => e.stopPropagation()}>\r\n                    <button class=\"btn btn-ghost btn-sm\" @click=${(e: Event) => this.openEdit(t, e)}>Edit</button>\r\n                    <button class=\"btn btn-danger btn-sm\" @click=${(e: Event) => this.remove(t, e)}>Delete</button>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            `)}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // Gantt\r\n  // ---------------------------------------------------------------------------\r\n\r\n  private renderGantt() {\r\n    const withDates = this.filtered.filter(t => t.dueDate || t.createdAt);\r\n    if (withDates.length === 0) {\r\n      return html`<div class=\"empty-state\"><div class=\"empty-state-title\">No tasks with dates</div><div class=\"empty-state-sub\">Set due dates on tasks to see the timeline</div></div>`;\r\n    }\r\n\r\n    // Build month headers\r\n    const dates = withDates.map(t => new Date(t.dueDate ?? t.createdAt));\r\n    const minDate = new Date(Math.min(...dates.map(d => d.getTime())));\r\n    const maxDate = new Date(Math.max(...dates.map(d => d.getTime())));\r\n    minDate.setDate(1);\r\n    maxDate.setMonth(maxDate.getMonth() + 1);\r\n    maxDate.setDate(0);\r\n\r\n    const totalDays = Math.ceil((maxDate.getTime() - minDate.getTime()) / 86400000) + 1;\r\n    const dayW = 24; // px per day\r\n    const totalW = totalDays * dayW;\r\n\r\n    const months: Array<{ label: string; left: number; width: number }> = [];\r\n    const cur = new Date(minDate);\r\n    while (cur <= maxDate) {\r\n      const start = Math.floor((cur.getTime() - minDate.getTime()) / 86400000);\r\n      const daysInMonth = new Date(cur.getFullYear(), cur.getMonth() + 1, 0).getDate();\r\n      months.push({\r\n        label: cur.toLocaleDateString(undefined, { month: \"short\", year: \"2-digit\" }),\r\n        left: start * dayW,\r\n        width: daysInMonth * dayW,\r\n      });\r\n      cur.setMonth(cur.getMonth() + 1);\r\n      cur.setDate(1);\r\n    }\r\n\r\n    const today = new Date();\r\n    const todayLeft = Math.floor((today.getTime() - minDate.getTime()) / 86400000) * dayW;\r\n\r\n    return html`\r\n      <div style=\"overflow-x:auto\">\r\n        <div style=\"min-width:${totalW + 200}px\">\r\n          <!-- Month headers -->\r\n          <div style=\"display:flex;margin-left:200px;border-bottom:1px solid var(--border)\">\r\n            ${months.map(m => html`\r\n              <div style=\"min-width:${m.width}px;padding:4px 8px;font-size:11px;color:var(--muted);border-right:1px solid var(--border)\">${m.label}</div>\r\n            `)}\r\n          </div>\r\n          <!-- Tasks -->\r\n          <div style=\"position:relative\">\r\n            <!-- Today line -->\r\n            ${todayLeft >= 0 && todayLeft <= totalW ? html`\r\n              <div style=\"position:absolute;left:${200 + todayLeft}px;top:0;bottom:0;width:2px;background:var(--accent);opacity:0.6;z-index:1\"></div>\r\n            ` : \"\"}\r\n\r\n            ${withDates.map(t => {\r\n              const start = new Date(t.createdAt);\r\n              const end = new Date(t.dueDate ?? t.createdAt);\r\n              const startX = Math.floor((start.getTime() - minDate.getTime()) / 86400000);\r\n              const widthDays = Math.max(1, Math.ceil((end.getTime() - start.getTime()) / 86400000));\r\n              const statusColors: Record<string, string> = {\r\n                done: \"var(--ok)\", in_progress: \"var(--accent)\", blocked: \"var(--danger)\",\r\n                in_review: \"var(--warn)\", todo: \"var(--muted)\",\r\n              };\r\n              return html`\r\n                <div style=\"display:flex;align-items:center;border-bottom:1px solid var(--border);height:40px\">\r\n                  <div style=\"width:200px;flex-shrink:0;padding:0 12px;font-size:12px;font-weight:500;color:var(--text);truncate\">\r\n                    ${t.title}\r\n                  </div>\r\n                  <div style=\"flex:1;position:relative;height:100%\">\r\n                    <div\r\n                      style=\"position:absolute;top:8px;height:24px;\r\n                        left:${startX * dayW}px;\r\n                        width:${widthDays * dayW}px;\r\n                        background:${statusColors[t.status] ?? \"var(--muted)\"};\r\n                        opacity:0.8;border-radius:4px;cursor:pointer;\r\n                        display:flex;align-items:center;padding:0 8px;\r\n                        font-size:10px;font-weight:600;color:#fff;\r\n                        white-space:nowrap;overflow:hidden\"\r\n                      @click=${() => this.openDrawer(t)}\r\n                      title=\"${t.title}\"\r\n                    >\r\n                      ${t.key}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              `;\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // Modal\r\n  // ---------------------------------------------------------------------------\r\n\r\n  private renderModal() {\r\n    return html`\r\n      <div class=\"modal-backdrop\" @click=${(e: Event) => { if (e.target === e.currentTarget) this.showModal = false; }}>\r\n        <div class=\"modal\" style=\"max-width:540px\">\r\n          <div class=\"modal-title\">${this.editTarget ? \"Edit task\" : \"New task\"}</div>\r\n          ${this.error ? html`<div class=\"error-banner\">${this.error}</div>` : \"\"}\r\n          <form @submit=${this.save} style=\"display:grid;gap:14px\">\r\n            <div class=\"field\">\r\n              <label class=\"label\">Title</label>\r\n              <input class=\"input\" placeholder=\"What needs to be done?\" .value=${this.form.title ?? \"\"}\r\n                @input=${(e: InputEvent) => { this.form = { ...this.form, title: (e.target as HTMLInputElement).value }; }} required>\r\n            </div>\r\n            <div class=\"field\">\r\n              <label class=\"label\">Description <span class=\"label-hint\">(optional)</span></label>\r\n              <textarea class=\"textarea\" placeholder=\"Additional context\" .value=${this.form.description ?? \"\"}\r\n                @input=${(e: InputEvent) => { this.form = { ...this.form, description: (e.target as HTMLTextAreaElement).value }; }}></textarea>\r\n            </div>\r\n            <div class=\"form-row form-row-2\">\r\n              <div class=\"field\">\r\n                <label class=\"label\">Status</label>\r\n                <select class=\"select\" .value=${this.form.status ?? \"todo\"}\r\n                  @change=${(e: Event) => { this.form = { ...this.form, status: (e.target as HTMLSelectElement).value as TaskStatus }; }}>\r\n                  ${STATUSES.map(s => html`<option value=${s}>${STATUS_LABELS[s]}</option>`)}\r\n                </select>\r\n              </div>\r\n              <div class=\"field\">\r\n                <label class=\"label\">Priority</label>\r\n                <select class=\"select\" .value=${this.form.priority ?? \"medium\"}\r\n                  @change=${(e: Event) => { this.form = { ...this.form, priority: (e.target as HTMLSelectElement).value as TaskPriority }; }}>\r\n                  ${PRIORITIES.map(p => html`<option value=${p}>${p}</option>`)}\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div class=\"form-row form-row-2\">\r\n              <div class=\"field\">\r\n                <label class=\"label\">Project</label>\r\n                <select class=\"select\" .value=${this.form.projectId ?? \"\"}\r\n                  @change=${(e: Event) => { this.form = { ...this.form, projectId: (e.target as HTMLSelectElement).value || undefined }; }}>\r\n                  <option value=\"\">No project</option>\r\n                  ${this.projects.map(p => html`<option value=${p.id}>${p.name}</option>`)}\r\n                </select>\r\n              </div>\r\n              <div class=\"field\">\r\n                <label class=\"label\">Assign to Claw</label>\r\n                <select class=\"select\" .value=${this.form.assignedClawId ?? \"\"}\r\n                  @change=${(e: Event) => { this.form = { ...this.form, assignedClawId: (e.target as HTMLSelectElement).value || undefined }; }}>\r\n                  <option value=\"\">Unassigned</option>\r\n                  ${this.claws.map(c => html`<option value=${c.id}>${c.name}</option>`)}\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div class=\"field\">\r\n              <label class=\"label\">Due date <span class=\"label-hint\">(optional)</span></label>\r\n              <input class=\"input\" type=\"date\" .value=${this.form.dueDate?.split(\"T\")[0] ?? \"\"}\r\n                @change=${(e: Event) => { this.form = { ...this.form, dueDate: (e.target as HTMLInputElement).value || undefined }; }}>\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n              <button class=\"btn btn-ghost\" type=\"button\" @click=${() => this.showModal = false}>Cancel</button>\r\n              <button class=\"btn btn-primary\" type=\"submit\" ?disabled=${this.saving}>\r\n                ${this.saving ? \"Saving\" : this.editTarget ? \"Save changes\" : \"Create task\"}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // Drawer\r\n  // ---------------------------------------------------------------------------\r\n\r\n  private renderDrawer() {\r\n    const t = this.drawerTask!;\r\n    return html`\r\n      <div class=\"panel-overlay\" @click=${this.closeDrawer}></div>\r\n      <div class=\"panel-drawer\" style=\"--panel-width:480px\">\r\n        <div class=\"panel-header\">\r\n          <div>\r\n            <div class=\"panel-title\">${t.title}</div>\r\n            <div style=\"font-size:11px;font-family:var(--mono);color:var(--muted)\">${t.key}</div>\r\n          </div>\r\n          <button class=\"panel-close\" @click=${this.closeDrawer}>\r\n            <svg viewBox=\"0 0 24 24\" style=\"width:16px;height:16px;stroke:currentColor;fill:none;stroke-width:2\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"/><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"/></svg>\r\n          </button>\r\n        </div>\r\n        <div class=\"panel-tabs\">\r\n          ${([\"detail\", \"executions\"] as const).map(tab => html`\r\n            <button class=\"panel-tab ${this.drawerTab === tab ? \"active\" : \"\"}\"\r\n              @click=${() => { this.drawerTab = tab; }}>${tab}</button>\r\n          `)}\r\n        </div>\r\n        <div class=\"panel-body\" style=\"padding:20px\">\r\n          ${this.drawerTab === \"detail\" ? this.renderDrawerDetail(t) : this.renderDrawerExecutions(t)}\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  private renderDrawerDetail(t: Task) {\r\n    return html`\r\n      <div style=\"display:grid;gap:16px\">\r\n        <div style=\"display:flex;gap:8px;flex-wrap:wrap\">\r\n          ${this.statusBadge(t.status)}\r\n          ${this.priorityBadge(t.priority)}\r\n        </div>\r\n\r\n        ${t.description ? html`\r\n          <div class=\"card\">\r\n            <div class=\"card-title\" style=\"margin-bottom:8px\">Description</div>\r\n            <div style=\"font-size:13px;color:var(--text);line-height:1.6;white-space:pre-wrap\">${t.description}</div>\r\n          </div>` : \"\"}\r\n\r\n        <div class=\"card\">\r\n          <div class=\"card-title\" style=\"margin-bottom:12px\">Details</div>\r\n          <div style=\"display:grid;gap:10px\">\r\n            ${[\r\n              [\"Project\",  this.projectName(t.projectId)],\r\n              [\"Assigned\", this.clawName(t.assignedClawId)],\r\n              [\"Due date\", this.formatDate(t.dueDate) || \"None\"],\r\n              [\"Created\",  this.formatDate(t.createdAt)],\r\n            ].map(([label, val]) => html`\r\n              <div style=\"display:flex;justify-content:space-between;font-size:13px\">\r\n                <span style=\"color:var(--muted)\">${label}</span>\r\n                <span style=\"color:var(--text)\">${val}</span>\r\n              </div>`)}\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Change status -->\r\n        <div class=\"card\">\r\n          <div class=\"card-title\" style=\"margin-bottom:10px\">Move to</div>\r\n          <div style=\"display:flex;gap:6px;flex-wrap:wrap\">\r\n            ${STATUSES.filter(s => s !== t.status).map(s => html`\r\n              <button class=\"btn btn-secondary btn-sm\"\r\n                @click=${() => this.patchStatus(t.id, s)}>${STATUS_LABELS[s]}</button>\r\n            `)}\r\n          </div>\r\n        </div>\r\n\r\n        <div style=\"display:flex;gap:8px\">\r\n          <button class=\"btn btn-primary\" ?disabled=${this.running} @click=${(e: Event) => this.runTask(t, e)}>\r\n            ${this.running ? \"Running\" : \"Run task\"}\r\n          </button>\r\n          <button class=\"btn btn-secondary\" @click=${(e: Event) => this.openEdit(t, e)}>Edit</button>\r\n          <button class=\"btn btn-danger\" @click=${(e: Event) => this.remove(t, e)}>Delete</button>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  private renderDrawerExecutions(t: Task) {\r\n    if (this.drawerExecutions.length === 0) {\r\n      return html`<div class=\"empty-state\"><div class=\"empty-state-title\">No executions yet</div></div>`;\r\n    }\r\n    const statusColor: Record<string, string> = {\r\n      completed: \"badge-green\", failed: \"badge-red\",\r\n      running: \"badge-blue\", pending: \"badge-gray\", cancelled: \"badge-gray\",\r\n    };\r\n    return html`\r\n      <div style=\"display:grid;gap:10px\">\r\n        ${this.drawerExecutions.map(ex => html`\r\n          <div class=\"card\">\r\n            <div style=\"display:flex;align-items:center;justify-content:space-between;margin-bottom:8px\">\r\n              <span class=\"badge ${statusColor[ex.status] ?? \"badge-gray\"}\">${ex.status}</span>\r\n              <span style=\"font-size:11px;color:var(--muted)\">${this.formatDate(ex.createdAt)}</span>\r\n            </div>\r\n            ${ex.result ? html`\r\n              <div class=\"log-wrap\" style=\"max-height:120px;overflow-y:auto;font-size:11px\">${ex.result}</div>\r\n            ` : \"\"}\r\n          </div>\r\n        `)}\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap { \"ccl-tasks\": CclTasks; }\r\n}\r\n","/** WebSocket gateway client for CoderClawLink.\r\n *\r\n * Connects to the CoderClawLink relay at /api/claws/:id/ws, which bridges\r\n * browser sessions to the CoderClaw instance.  The wire protocol is identical\r\n * to the CoderClaw gateway protocol so CoderClaw's existing server-side code\r\n * requires no changes.\r\n */\r\n\r\nexport type GatewayEvent =\r\n  | { type: \"connected\" }\r\n  | { type: \"disconnected\"; code: number; reason: string }\r\n  | { type: \"claw_offline\" }\r\n  | { type: \"message\"; data: unknown };\r\n\r\nexport type GatewayEventHandler = (ev: GatewayEvent) => void;\r\n\r\nexport interface GatewayOptions {\r\n  url: string;                  // wss:///api/claws/:id/ws\r\n  onEvent: GatewayEventHandler;\r\n  clientName?: string;\r\n}\r\n\r\nconst RECONNECT_DELAYS = [800, 1500, 3000, 5000, 10000, 15000];\r\n\r\nexport class ClawGateway {\r\n  private ws: WebSocket | null = null;\r\n  private attempt = 0;\r\n  private destroyed = false;\r\n  private pingInterval: ReturnType<typeof setInterval> | null = null;\r\n\r\n  constructor(private opts: GatewayOptions) {\r\n    this.connect();\r\n  }\r\n\r\n  private connect() {\r\n    if (this.destroyed) return;\r\n    this.ws = new WebSocket(this.opts.url);\r\n\r\n    this.ws.addEventListener(\"open\", () => {\r\n      this.attempt = 0;\r\n      this.schedulePings();\r\n      this.opts.onEvent({ type: \"connected\" });\r\n    });\r\n\r\n    this.ws.addEventListener(\"message\", (ev) => {\r\n      let data: unknown;\r\n      try { data = JSON.parse(ev.data as string); } catch { data = ev.data; }\r\n      if (\r\n        data && typeof data === \"object\" &&\r\n        (data as { type?: string }).type === \"claw_offline\"\r\n      ) {\r\n        this.opts.onEvent({ type: \"claw_offline\" });\r\n        return;\r\n      }\r\n      this.opts.onEvent({ type: \"message\", data });\r\n    });\r\n\r\n    this.ws.addEventListener(\"close\", (ev) => {\r\n      this.clearPings();\r\n      if (this.destroyed) return;\r\n      this.opts.onEvent({ type: \"disconnected\", code: ev.code, reason: ev.reason });\r\n      this.scheduleReconnect();\r\n    });\r\n\r\n    this.ws.addEventListener(\"error\", () => {\r\n      // error always followed by close\r\n    });\r\n  }\r\n\r\n  /** Send a JSON message to the CoderClaw instance. */\r\n  send(msg: unknown) {\r\n    if (this.ws?.readyState === WebSocket.OPEN) {\r\n      this.ws.send(JSON.stringify(msg));\r\n    }\r\n  }\r\n\r\n  /** Tear down the connection permanently. */\r\n  destroy() {\r\n    this.destroyed = true;\r\n    this.clearPings();\r\n    this.ws?.close(1000, \"destroyed\");\r\n    this.ws = null;\r\n  }\r\n\r\n  get readyState(): number {\r\n    return this.ws?.readyState ?? WebSocket.CLOSED;\r\n  }\r\n\r\n  private schedulePings() {\r\n    this.clearPings();\r\n    this.pingInterval = setInterval(() => {\r\n      if (this.ws?.readyState === WebSocket.OPEN) {\r\n        this.ws.send(JSON.stringify({ type: \"ping\" }));\r\n      }\r\n    }, 30_000);\r\n  }\r\n\r\n  private clearPings() {\r\n    if (this.pingInterval !== null) {\r\n      clearInterval(this.pingInterval);\r\n      this.pingInterval = null;\r\n    }\r\n  }\r\n\r\n  private scheduleReconnect() {\r\n    const delay = RECONNECT_DELAYS[Math.min(this.attempt, RECONNECT_DELAYS.length - 1)];\r\n    this.attempt++;\r\n    setTimeout(() => this.connect(), delay);\r\n  }\r\n}\r\n","import { LitElement, html } from \"lit\";\r\nimport { customElement, property, state } from \"lit/decorators.js\";\r\nimport { ClawGateway, type GatewayEvent } from \"../../gateway.js\";\r\n\r\ninterface ChatMessage {\r\n  id: string;\r\n  role: \"user\" | \"assistant\";\r\n  text: string;\r\n  thinking?: string;\r\n  streaming?: boolean;\r\n}\r\n\r\ninterface ToolCall {\r\n  id: string;\r\n  name: string;\r\n  input?: string;\r\n  result?: string;\r\n  expanded: boolean;\r\n}\r\n\r\n@customElement(\"ccl-claw-chat\")\r\nexport class CclClawChat extends LitElement {\r\n  override createRenderRoot() { return this; }\r\n\r\n  @property() clawId = \"\";\r\n  @property() wsUrl = \"\";\r\n\r\n  @state() private messages: ChatMessage[] = [];\r\n  @state() private tools: ToolCall[] = [];\r\n  @state() private input = \"\";\r\n  @state() private connState: \"connecting\" | \"connected\" | \"offline\" | \"disconnected\" = \"connecting\";\r\n  @state() private session = \"default\";\r\n  @state() private streaming = false;\r\n\r\n  private gw: ClawGateway | null = null;\r\n  private msgEnd: HTMLElement | null = null;\r\n\r\n  override connectedCallback() {\r\n    super.connectedCallback();\r\n    if (this.wsUrl) this.connect();\r\n  }\r\n\r\n  override disconnectedCallback() {\r\n    super.disconnectedCallback();\r\n    this.gw?.destroy();\r\n  }\r\n\r\n  override updated(changed: Map<string, unknown>) {\r\n    if (changed.has(\"wsUrl\") && this.wsUrl) {\r\n      this.gw?.destroy();\r\n      this.connect();\r\n    }\r\n    this.scrollToBottom();\r\n  }\r\n\r\n  private connect() {\r\n    this.connState = \"connecting\";\r\n    this.gw = new ClawGateway({\r\n      url: this.wsUrl,\r\n      onEvent: (ev: GatewayEvent) => this.handleGwEvent(ev),\r\n    });\r\n  }\r\n\r\n  private handleGwEvent(ev: GatewayEvent) {\r\n    if (ev.type === \"connected\")    { this.connState = \"connected\"; return; }\r\n    if (ev.type === \"claw_offline\") { this.connState = \"offline\"; return; }\r\n    if (ev.type === \"disconnected\") { this.connState = \"disconnected\"; return; }\r\n    if (ev.type !== \"message\") return;\r\n\r\n    const msg = ev.data as { type: string; role?: string; text?: string; delta?: string; toolName?: string; toolInput?: string; toolResult?: string; toolCallId?: string };\r\n\r\n    switch (msg.type) {\r\n      case \"chat.message\": {\r\n        if (msg.role === \"user\") {\r\n          this.messages = [...this.messages, { id: crypto.randomUUID(), role: \"user\", text: msg.text ?? \"\" }];\r\n        } else {\r\n          const last = this.messages.at(-1);\r\n          if (last?.role === \"assistant\" && last.streaming) {\r\n            this.messages = [...this.messages.slice(0, -1), { ...last, text: msg.text ?? \"\", streaming: false }];\r\n          } else {\r\n            this.messages = [...this.messages, { id: crypto.randomUUID(), role: \"assistant\", text: msg.text ?? \"\" }];\r\n          }\r\n          this.streaming = false;\r\n        }\r\n        break;\r\n      }\r\n      case \"chat.delta\": {\r\n        const last = this.messages.at(-1);\r\n        if (last?.role === \"assistant\" && last.streaming) {\r\n          this.messages = [...this.messages.slice(0, -1), { ...last, text: last.text + (msg.delta ?? \"\") }];\r\n        } else {\r\n          this.messages = [...this.messages, { id: crypto.randomUUID(), role: \"assistant\", text: msg.delta ?? \"\", streaming: true }];\r\n          this.streaming = true;\r\n        }\r\n        break;\r\n      }\r\n      case \"tool.start\": {\r\n        this.tools = [...this.tools, { id: msg.toolCallId ?? crypto.randomUUID(), name: msg.toolName ?? \"tool\", input: msg.toolInput, expanded: false }];\r\n        break;\r\n      }\r\n      case \"tool.result\": {\r\n        this.tools = this.tools.map(t => t.id === msg.toolCallId ? { ...t, result: msg.toolResult } : t);\r\n        break;\r\n      }\r\n      case \"chat.abort\":\r\n        this.streaming = false;\r\n        break;\r\n    }\r\n  }\r\n\r\n  private send() {\r\n    const text = this.input.trim();\r\n    if (!text || this.connState !== \"connected\") return;\r\n    this.gw?.send({ type: \"chat\", message: text, session: this.session });\r\n    this.input = \"\";\r\n  }\r\n\r\n  private abort() {\r\n    this.gw?.send({ type: \"chat.abort\" });\r\n    this.streaming = false;\r\n  }\r\n\r\n  private newChat() {\r\n    this.messages = [];\r\n    this.tools = [];\r\n    this.streaming = false;\r\n    this.gw?.send({ type: \"session.new\" });\r\n  }\r\n\r\n  private scrollToBottom() {\r\n    this.msgEnd?.scrollIntoView({ behavior: \"smooth\" });\r\n  }\r\n\r\n  private onKeydown(e: KeyboardEvent) {\r\n    if (e.key === \"Enter\" && !e.shiftKey) { e.preventDefault(); this.send(); }\r\n  }\r\n\r\n  private connDot() {\r\n    const map = { connected: \"dot-green\", connecting: \"dot-yellow\", offline: \"dot-red\", disconnected: \"dot-gray\" };\r\n    return html`<span class=\"dot ${map[this.connState]}\"></span> ${this.connState}`;\r\n  }\r\n\r\n  override render() {\r\n    return html`\r\n      <div class=\"chat-shell\" style=\"height:100%\">\r\n        <!-- Toolbar -->\r\n        <div style=\"display:flex;align-items:center;gap:10px;padding:10px 16px;border-bottom:1px solid var(--border);flex-shrink:0\">\r\n          <div style=\"display:flex;align-items:center;gap:6px;font-size:12px;color:var(--muted)\">${this.connDot()}</div>\r\n          <div style=\"flex:1\"></div>\r\n          <input class=\"input\" style=\"width:140px;height:28px;padding:3px 8px;font-size:12px\"\r\n            placeholder=\"session name\" .value=${this.session}\r\n            @input=${(e: InputEvent) => { this.session = (e.target as HTMLInputElement).value; }}>\r\n          <button class=\"btn btn-ghost btn-sm\" @click=${this.newChat}>New chat</button>\r\n        </div>\r\n\r\n        <!-- Messages -->\r\n        <div class=\"chat-messages\" style=\"flex:1;overflow-y:auto;padding:16px;display:flex;flex-direction:column;gap:12px\">\r\n          ${this.connState === \"offline\" ? html`\r\n            <div class=\"empty-state\">\r\n              <div class=\"empty-state-icon\"></div>\r\n              <div class=\"empty-state-title\">Claw is offline</div>\r\n              <div class=\"empty-state-sub\">Waiting for the CoderClaw instance to connect</div>\r\n            </div>` : \"\"}\r\n\r\n          ${this.messages.length === 0 && this.connState !== \"offline\" ? html`\r\n            <div class=\"empty-state\" style=\"margin-top:32px\">\r\n              <div class=\"empty-state-icon\"></div>\r\n              <div class=\"empty-state-title\">Start a conversation</div>\r\n              <div class=\"empty-state-sub\">Send a message to the claw</div>\r\n            </div>` : \"\"}\r\n\r\n          ${this.messages.map(m => html`\r\n            <div class=\"msg ${m.role === \"user\" ? \"msg-user\" : \"\"}\">\r\n              <div class=\"msg-bubble ${m.role === \"user\" ? \"msg-bubble-user\" : \"msg-bubble-assistant\"}\">\r\n                ${m.text}${m.streaming ? html`<span class=\"cursor-blink\"></span>` : \"\"}\r\n              </div>\r\n              <div class=\"msg-meta\">${m.role}</div>\r\n            </div>\r\n          `)}\r\n\r\n          ${this.tools.length > 0 ? html`\r\n            <div style=\"display:flex;flex-direction:column;gap:6px\">\r\n              ${this.tools.map(t => html`\r\n                <div class=\"card\" style=\"font-size:12px\">\r\n                  <div style=\"display:flex;align-items:center;gap:8px;cursor:pointer\"\r\n                    @click=${() => { this.tools = this.tools.map(tt => tt.id === t.id ? { ...tt, expanded: !tt.expanded } : tt); }}>\r\n                    <svg viewBox=\"0 0 24 24\" style=\"width:12px;height:12px;stroke:currentColor;fill:none;stroke-width:2\"><polyline points=\"${t.expanded ? \"18 15 12 9 6 15\" : \"6 9 12 15 18 9\"}\"/></svg>\r\n                    <span style=\"font-family:var(--mono);color:var(--accent)\">${t.name}</span>\r\n                    ${t.result ? html`<span class=\"badge badge-green\" style=\"margin-left:auto\">done</span>` : html`<span class=\"badge badge-yellow\" style=\"margin-left:auto\">running</span>`}\r\n                  </div>\r\n                  ${t.expanded && t.input ? html`<pre class=\"log-wrap\" style=\"margin-top:8px;font-size:11px;max-height:100px;overflow:auto\">${t.input}</pre>` : \"\"}\r\n                  ${t.expanded && t.result ? html`<pre class=\"log-wrap\" style=\"margin-top:6px;font-size:11px;max-height:100px;overflow:auto;border-color:var(--ok)\">${t.result}</pre>` : \"\"}\r\n                </div>\r\n              `)}\r\n            </div>` : \"\"}\r\n\r\n          <div style=\"height:1px\" .ref=${(el: HTMLElement | null) => { this.msgEnd = el; }}></div>\r\n        </div>\r\n\r\n        <!-- Input -->\r\n        <div class=\"chat-input-row\" style=\"flex-shrink:0\">\r\n          <textarea\r\n            class=\"chat-textarea\"\r\n            placeholder=\"${this.connState === \"connected\" ? \"Message the claw\" : \"Waiting for connection\"}\"\r\n            rows=\"2\"\r\n            .value=${this.input}\r\n            ?disabled=${this.connState !== \"connected\"}\r\n            @input=${(e: InputEvent) => { this.input = (e.target as HTMLTextAreaElement).value; }}\r\n            @keydown=${this.onKeydown}\r\n          ></textarea>\r\n          ${this.streaming\r\n            ? html`<button class=\"btn btn-danger\" @click=${this.abort}>Stop</button>`\r\n            : html`<button class=\"btn btn-primary\" @click=${this.send} ?disabled=${!this.input.trim() || this.connState !== \"connected\"}>Send</button>`}\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global { interface HTMLElementTagNameMap { \"ccl-claw-chat\": CclClawChat; } }\r\n","import { LitElement, html } from \"lit\";\r\nimport { customElement, property, state } from \"lit/decorators.js\";\r\nimport { getTenantToken } from \"../../api.js\";\r\n\r\nconst BASE = (typeof window !== \"undefined\" && (window as unknown as { API_URL?: string }).API_URL) ?? \"https://api.coderclaw.ai\";\r\n\r\nasync function apiFetch<T>(path: string, opts: RequestInit = {}): Promise<T> {\r\n  const res = await fetch(`${BASE}${path}`, {\r\n    ...opts,\r\n    headers: { \"Content-Type\": \"application/json\", \"Authorization\": `Bearer ${getTenantToken() ?? \"\"}`, ...(opts.headers ?? {}) },\r\n  });\r\n  if (!res.ok) throw new Error(await res.text());\r\n  if (res.status === 204) return undefined as T;\r\n  return res.json();\r\n}\r\n\r\ninterface Agent {\r\n  id: string;\r\n  name: string;\r\n  type: \"claude\" | \"openai\" | \"ollama\" | \"http\";\r\n  endpoint?: string;\r\n  isActive: boolean;\r\n  createdAt: string;\r\n}\r\n\r\nconst AGENT_TYPES = [\"claude\", \"openai\", \"ollama\", \"http\"] as const;\r\n\r\n@customElement(\"ccl-claw-agents\")\r\nexport class CclClawAgents extends LitElement {\r\n  override createRenderRoot() { return this; }\r\n\r\n  @property() clawId = \"\";\r\n  @property() wsUrl = \"\";\r\n\r\n  @state() private agents: Agent[] = [];\r\n  @state() private loading = true;\r\n  @state() private error = \"\";\r\n  @state() private showModal = false;\r\n  @state() private form = { name: \"\", type: \"claude\", endpoint: \"\", apiKey: \"\" };\r\n  @state() private saving = false;\r\n\r\n  override connectedCallback() { super.connectedCallback(); this.load(); }\r\n\r\n  private async load() {\r\n    this.loading = true;\r\n    try { this.agents = await apiFetch(\"/api/agents\"); }\r\n    catch (e) { this.error = (e as Error).message; }\r\n    finally { this.loading = false; }\r\n  }\r\n\r\n  private async toggleActive(a: Agent) {\r\n    try {\r\n      await apiFetch(`/api/agents/${a.id}`, { method: \"PATCH\", body: JSON.stringify({ isActive: !a.isActive }) });\r\n      this.agents = this.agents.map(ag => ag.id === a.id ? { ...ag, isActive: !ag.isActive } : ag);\r\n    } catch (e) { this.error = (e as Error).message; }\r\n  }\r\n\r\n  private async remove(a: Agent) {\r\n    if (!confirm(`Delete agent \"${a.name}\"?`)) return;\r\n    try {\r\n      await apiFetch(`/api/agents/${a.id}`, { method: \"DELETE\" });\r\n      this.agents = this.agents.filter(ag => ag.id !== a.id);\r\n    } catch (e) { this.error = (e as Error).message; }\r\n  }\r\n\r\n  private async save(e: Event) {\r\n    e.preventDefault();\r\n    this.saving = true;\r\n    try {\r\n      const created = await apiFetch<Agent>(\"/api/agents\", { method: \"POST\", body: JSON.stringify(this.form) });\r\n      this.agents = [created, ...this.agents];\r\n      this.showModal = false;\r\n    } catch (e) { this.error = (e as Error).message; }\r\n    finally { this.saving = false; }\r\n  }\r\n\r\n  override render() {\r\n    return html`\r\n      <div style=\"padding:16px;display:grid;gap:16px\">\r\n        <div style=\"display:flex;justify-content:space-between;align-items:center\">\r\n          <div style=\"font-size:14px;font-weight:600;color:var(--text-strong)\">Agents</div>\r\n          <button class=\"btn btn-primary btn-sm\" @click=${() => { this.showModal = true; }}>Add agent</button>\r\n        </div>\r\n\r\n        ${this.error ? html`<div class=\"error-banner\">${this.error}</div>` : \"\"}\r\n\r\n        ${this.loading ? html`<div style=\"color:var(--muted);font-size:13px\">Loading</div>`\r\n          : this.agents.length === 0\r\n            ? html`<div class=\"empty-state\"><div class=\"empty-state-title\">No agents</div><div class=\"empty-state-sub\">Add an AI agent to this claw</div></div>`\r\n            : this.agents.map(a => html`\r\n              <div class=\"card\">\r\n                <div class=\"card-header\">\r\n                  <div>\r\n                    <div class=\"card-title\">${a.name}</div>\r\n                    <div style=\"font-size:12px;color:var(--muted)\">${a.type}${a.endpoint ? `  ${a.endpoint}` : \"\"}</div>\r\n                  </div>\r\n                  <span class=\"badge ${a.isActive ? \"badge-green\" : \"badge-gray\"}\">${a.isActive ? \"active\" : \"inactive\"}</span>\r\n                </div>\r\n                <div style=\"display:flex;gap:6px\">\r\n                  <button class=\"btn btn-secondary btn-sm\" @click=${() => this.toggleActive(a)}>\r\n                    ${a.isActive ? \"Deactivate\" : \"Activate\"}\r\n                  </button>\r\n                  <button class=\"btn btn-danger btn-sm\" @click=${() => this.remove(a)}>Delete</button>\r\n                </div>\r\n              </div>\r\n            `)}\r\n\r\n        ${this.showModal ? html`\r\n          <div class=\"modal-backdrop\" @click=${(e: Event) => { if (e.target === e.currentTarget) this.showModal = false; }}>\r\n            <div class=\"modal\">\r\n              <div class=\"modal-title\">Add agent</div>\r\n              <form @submit=${this.save} style=\"display:grid;gap:14px;margin-top:16px\">\r\n                <div class=\"field\"><label class=\"label\">Name</label>\r\n                  <input class=\"input\" required .value=${this.form.name} @input=${(e: InputEvent) => { this.form = { ...this.form, name: (e.target as HTMLInputElement).value }; }}></div>\r\n                <div class=\"field\"><label class=\"label\">Type</label>\r\n                  <select class=\"select\" @change=${(e: Event) => { this.form = { ...this.form, type: (e.target as HTMLSelectElement).value }; }}>\r\n                    ${AGENT_TYPES.map(t => html`<option value=${t}>${t}</option>`)}\r\n                  </select></div>\r\n                <div class=\"field\"><label class=\"label\">Endpoint <span class=\"label-hint\">(optional)</span></label>\r\n                  <input class=\"input\" placeholder=\"https://\" .value=${this.form.endpoint} @input=${(e: InputEvent) => { this.form = { ...this.form, endpoint: (e.target as HTMLInputElement).value }; }}></div>\r\n                <div class=\"field\"><label class=\"label\">API Key <span class=\"label-hint\">(optional)</span></label>\r\n                  <input class=\"input\" type=\"password\" .value=${this.form.apiKey} @input=${(e: InputEvent) => { this.form = { ...this.form, apiKey: (e.target as HTMLInputElement).value }; }}></div>\r\n                <div class=\"modal-footer\">\r\n                  <button class=\"btn btn-ghost\" type=\"button\" @click=${() => this.showModal = false}>Cancel</button>\r\n                  <button class=\"btn btn-primary\" type=\"submit\" ?disabled=${this.saving}>${this.saving ? \"Saving\" : \"Add agent\"}</button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>` : \"\"}\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global { interface HTMLElementTagNameMap { \"ccl-claw-agents\": CclClawAgents; } }\r\n","import { LitElement, html } from \"lit\";\r\nimport { customElement, property, state } from \"lit/decorators.js\";\r\nimport { getTenantToken } from \"../../api.js\";\r\n\r\nconst BASE = (typeof window !== \"undefined\" && (window as unknown as { API_URL?: string }).API_URL) ?? \"https://api.coderclaw.ai\";\r\n\r\nasync function apiFetch<T>(path: string, opts: RequestInit = {}): Promise<T> {\r\n  const res = await fetch(`${BASE}${path}`, {\r\n    ...opts,\r\n    headers: { \"Content-Type\": \"application/json\", \"Authorization\": `Bearer ${getTenantToken() ?? \"\"}`, ...(opts.headers ?? {}) },\r\n  });\r\n  if (res.status === 404) return {} as T;\r\n  if (!res.ok) throw new Error(await res.text());\r\n  if (res.status === 204) return undefined as T;\r\n  return res.json();\r\n}\r\n\r\n@customElement(\"ccl-claw-config\")\r\nexport class CclClawConfig extends LitElement {\r\n  override createRenderRoot() { return this; }\r\n\r\n  @property() clawId = \"\";\r\n  @property() wsUrl = \"\";\r\n\r\n  @state() private config: Record<string, string> = {};\r\n  @state() private loading = true;\r\n  @state() private error = \"\";\r\n  @state() private editing = false;\r\n  @state() private draft: Record<string, string> = {};\r\n  @state() private saving = false;\r\n  @state() private newKey = \"\";\r\n  @state() private newVal = \"\";\r\n\r\n  override connectedCallback() { super.connectedCallback(); this.load(); }\r\n  override updated(c: Map<string, unknown>) { if (c.has(\"clawId\") && this.clawId) this.load(); }\r\n\r\n  private async load() {\r\n    this.loading = true;\r\n    try {\r\n      const data = await apiFetch<Record<string, string>>(`/api/claws/${this.clawId}/config`);\r\n      this.config = data ?? {};\r\n    } catch (e) { this.error = (e as Error).message; }\r\n    finally { this.loading = false; }\r\n  }\r\n\r\n  private startEdit() { this.draft = { ...this.config }; this.editing = true; }\r\n  private cancel() { this.editing = false; this.draft = {}; }\r\n\r\n  private async save() {\r\n    this.saving = true;\r\n    try {\r\n      await apiFetch(`/api/claws/${this.clawId}/config`, { method: \"PATCH\", body: JSON.stringify(this.draft) });\r\n      this.config = { ...this.draft };\r\n      this.editing = false;\r\n    } catch (e) { this.error = (e as Error).message; }\r\n    finally { this.saving = false; }\r\n  }\r\n\r\n  private addField() {\r\n    if (!this.newKey.trim()) return;\r\n    this.draft = { ...this.draft, [this.newKey.trim()]: this.newVal };\r\n    this.newKey = \"\"; this.newVal = \"\";\r\n  }\r\n\r\n  private removeField(k: string) { const d = { ...this.draft }; delete d[k]; this.draft = d; }\r\n\r\n  override render() {\r\n    const entries = Object.entries(this.editing ? this.draft : this.config);\r\n    return html`\r\n      <div style=\"padding:16px;display:grid;gap:16px\">\r\n        <div style=\"display:flex;justify-content:space-between;align-items:center\">\r\n          <div style=\"font-size:14px;font-weight:600;color:var(--text-strong)\">Configuration</div>\r\n          ${!this.editing\r\n            ? html`<button class=\"btn btn-secondary btn-sm\" @click=${this.startEdit}>Edit</button>`\r\n            : html`<div style=\"display:flex;gap:6px\">\r\n                <button class=\"btn btn-ghost btn-sm\" @click=${this.cancel}>Cancel</button>\r\n                <button class=\"btn btn-primary btn-sm\" ?disabled=${this.saving} @click=${this.save}>${this.saving ? \"Saving\" : \"Save\"}</button>\r\n              </div>`}\r\n        </div>\r\n\r\n        ${this.error ? html`<div class=\"error-banner\">${this.error}</div>` : \"\"}\r\n        ${this.loading ? html`<div style=\"color:var(--muted);font-size:13px\">Loading</div>` : \"\"}\r\n\r\n        ${entries.length === 0 && !this.loading\r\n          ? html`<div class=\"empty-state\"><div class=\"empty-state-title\">No configuration</div><div class=\"empty-state-sub\">${this.editing ? \"Add key-value pairs below\" : \"Click Edit to add configuration\"}</div></div>`\r\n          : html`\r\n            <div class=\"table-wrap\">\r\n              <table class=\"table\">\r\n                <thead><tr><th>Key</th><th>Value</th>${this.editing ? html`<th></th>` : \"\"}</tr></thead>\r\n                <tbody>\r\n                  ${entries.map(([k, v]) => html`\r\n                    <tr>\r\n                      <td><code style=\"font-family:var(--mono);font-size:12px\">${k}</code></td>\r\n                      <td>${this.editing\r\n                        ? html`<input class=\"input\" style=\"height:28px;padding:3px 8px\" .value=${v}\r\n                            @input=${(e: InputEvent) => { this.draft = { ...this.draft, [k]: (e.target as HTMLInputElement).value }; }}>`\r\n                        : html`<span style=\"font-family:var(--mono);font-size:12px\">${v}</span>`}\r\n                      </td>\r\n                      ${this.editing ? html`<td><button class=\"btn btn-danger btn-sm\" @click=${() => this.removeField(k)}>Remove</button></td>` : \"\"}\r\n                    </tr>\r\n                  `)}\r\n                </tbody>\r\n              </table>\r\n            </div>`}\r\n\r\n        ${this.editing ? html`\r\n          <div class=\"card\">\r\n            <div class=\"card-title\" style=\"margin-bottom:10px\">Add field</div>\r\n            <div style=\"display:flex;gap:8px\">\r\n              <input class=\"input\" placeholder=\"key\" .value=${this.newKey}\r\n                @input=${(e: InputEvent) => { this.newKey = (e.target as HTMLInputElement).value; }}>\r\n              <input class=\"input\" placeholder=\"value\" .value=${this.newVal}\r\n                @input=${(e: InputEvent) => { this.newVal = (e.target as HTMLInputElement).value; }}>\r\n              <button class=\"btn btn-secondary btn-sm\" @click=${this.addField}>Add</button>\r\n            </div>\r\n          </div>` : \"\"}\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global { interface HTMLElementTagNameMap { \"ccl-claw-config\": CclClawConfig; } }\r\n","import { LitElement, html } from \"lit\";\r\nimport { customElement, property, state } from \"lit/decorators.js\";\r\nimport { getTenantToken } from \"../../api.js\";\r\n\r\nconst BASE = (typeof window !== \"undefined\" && (window as unknown as { API_URL?: string }).API_URL) ?? \"https://api.coderclaw.ai\";\r\n\r\nasync function apiFetch<T>(path: string, opts: RequestInit = {}): Promise<T | null> {\r\n  const res = await fetch(`${BASE}${path}`, {\r\n    ...opts,\r\n    headers: { \"Content-Type\": \"application/json\", \"Authorization\": `Bearer ${getTenantToken() ?? \"\"}`, ...(opts.headers ?? {}) },\r\n  });\r\n  if (res.status === 404 || res.status === 204) return null;\r\n  if (!res.ok) throw new Error(await res.text());\r\n  return res.json();\r\n}\r\n\r\ninterface Session { id: string; name?: string; messageCount?: number; createdAt: string; updatedAt?: string; }\r\n\r\n@customElement(\"ccl-claw-sessions\")\r\nexport class CclClawSessions extends LitElement {\r\n  override createRenderRoot() { return this; }\r\n\r\n  @property() clawId = \"\";\r\n  @property() wsUrl = \"\";\r\n\r\n  @state() private sessions: Session[] = [];\r\n  @state() private loading = true;\r\n  @state() private error = \"\";\r\n\r\n  override connectedCallback() { super.connectedCallback(); this.load(); }\r\n  override updated(c: Map<string, unknown>) { if (c.has(\"clawId\") && this.clawId) this.load(); }\r\n\r\n  private async load() {\r\n    this.loading = true;\r\n    try {\r\n      const data = await apiFetch<Session[]>(`/api/claws/${this.clawId}/sessions`);\r\n      this.sessions = data ?? [];\r\n    } catch (e) { this.error = (e as Error).message; }\r\n    finally { this.loading = false; }\r\n  }\r\n\r\n  private async remove(s: Session) {\r\n    if (!confirm(\"Delete this session?\")) return;\r\n    try {\r\n      await apiFetch(`/api/claws/${this.clawId}/sessions/${s.id}`, { method: \"DELETE\" });\r\n      this.sessions = this.sessions.filter(ss => ss.id !== s.id);\r\n    } catch (e) { this.error = (e as Error).message; }\r\n  }\r\n\r\n  private fmt(d: string) { return new Date(d).toLocaleString(undefined, { month: \"short\", day: \"numeric\", hour: \"2-digit\", minute: \"2-digit\" }); }\r\n\r\n  override render() {\r\n    return html`\r\n      <div style=\"padding:16px;display:grid;gap:12px\">\r\n        <div style=\"display:flex;justify-content:space-between;align-items:center\">\r\n          <div style=\"font-size:14px;font-weight:600;color:var(--text-strong)\">Sessions</div>\r\n          <button class=\"btn btn-secondary btn-sm\" @click=${this.load}>Refresh</button>\r\n        </div>\r\n\r\n        ${this.error ? html`<div class=\"error-banner\">${this.error}</div>` : \"\"}\r\n        ${this.loading ? html`<div style=\"color:var(--muted);font-size:13px\">Loading</div>`\r\n          : this.sessions.length === 0\r\n            ? html`<div class=\"empty-state\"><div class=\"empty-state-title\">No sessions</div><div class=\"empty-state-sub\">Sessions appear here once the claw connects and starts chatting</div></div>`\r\n            : this.sessions.map(s => html`\r\n              <div class=\"card\">\r\n                <div class=\"card-header\">\r\n                  <div>\r\n                    <div class=\"card-title\">${s.name ?? s.id}</div>\r\n                    <div style=\"font-size:11px;color:var(--muted)\">${this.fmt(s.createdAt)}${s.messageCount != null ? `  ${s.messageCount} messages` : \"\"}</div>\r\n                  </div>\r\n                  <button class=\"btn btn-danger btn-sm\" @click=${() => this.remove(s)}>Delete</button>\r\n                </div>\r\n              </div>\r\n            `)}\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global { interface HTMLElementTagNameMap { \"ccl-claw-sessions\": CclClawSessions; } }\r\n","import { LitElement, html } from \"lit\";\r\nimport { customElement, property, state } from \"lit/decorators.js\";\r\nimport { skillAssignments, marketplace, type Skill, type SkillAssignment } from \"../../api.js\";\r\n\r\n@customElement(\"ccl-claw-skills\")\r\nexport class CclClawSkills extends LitElement {\r\n  override createRenderRoot() { return this; }\r\n\r\n  @property() clawId = \"\";\r\n  @property() wsUrl = \"\";\r\n\r\n  @state() private assigned: SkillAssignment[] = [];\r\n  @state() private available: Skill[] = [];\r\n  @state() private loading = true;\r\n  @state() private error = \"\";\r\n  @state() private showModal = false;\r\n  @state() private saving = false;\r\n\r\n  override connectedCallback() { super.connectedCallback(); this.load(); }\r\n  override updated(c: Map<string, unknown>) { if (c.has(\"clawId\") && this.clawId) this.load(); }\r\n\r\n  private async load() {\r\n    this.loading = true;\r\n    try {\r\n      const [assigned, avail] = await Promise.all([\r\n        this.loadAssigned(),\r\n        marketplace.list().catch(() => [] as Skill[]),\r\n      ]);\r\n      this.assigned = assigned;\r\n      this.available = avail;\r\n    } catch (e) { this.error = (e as Error).message; }\r\n    finally { this.loading = false; }\r\n  }\r\n\r\n  private async loadAssigned(): Promise<SkillAssignment[]> {\r\n    try {\r\n      const { getTenantToken } = await import(\"../../api.js\");\r\n      const BASE = (typeof window !== \"undefined\" && (window as unknown as { API_URL?: string }).API_URL) ?? \"https://api.coderclaw.ai\";\r\n      const res = await fetch(`${BASE}/api/skill-assignments/claws/${this.clawId}`, {\r\n        headers: { Authorization: `Bearer ${getTenantToken() ?? \"\"}` },\r\n      });\r\n      if (!res.ok) return [];\r\n      return res.json();\r\n    } catch { return []; }\r\n  }\r\n\r\n  private async assign(slug: string) {\r\n    this.saving = true;\r\n    try {\r\n      await skillAssignments.assignClaw(this.clawId, slug);\r\n      this.assigned = await this.loadAssigned();\r\n      this.showModal = false;\r\n    } catch (e) { this.error = (e as Error).message; }\r\n    finally { this.saving = false; }\r\n  }\r\n\r\n  private async unassign(slug: string) {\r\n    try {\r\n      const { getTenantToken } = await import(\"../../api.js\");\r\n      const BASE = (typeof window !== \"undefined\" && (window as unknown as { API_URL?: string }).API_URL) ?? \"https://api.coderclaw.ai\";\r\n      await fetch(`${BASE}/api/skill-assignments/claws/${this.clawId}/${slug}`, {\r\n        method: \"DELETE\",\r\n        headers: { Authorization: `Bearer ${getTenantToken() ?? \"\"}` },\r\n      });\r\n      this.assigned = this.assigned.filter(a => a.slug !== slug);\r\n    } catch (e) { this.error = (e as Error).message; }\r\n  }\r\n\r\n  private assignedSlugs() { return new Set(this.assigned.map(a => a.slug)); }\r\n\r\n  override render() {\r\n    const slugs = this.assignedSlugs();\r\n    const unassigned = this.available.filter(s => !slugs.has(s.slug));\r\n    return html`\r\n      <div style=\"padding:16px;display:grid;gap:12px\">\r\n        <div style=\"display:flex;justify-content:space-between;align-items:center\">\r\n          <div style=\"font-size:14px;font-weight:600;color:var(--text-strong)\">Skills</div>\r\n          <button class=\"btn btn-primary btn-sm\" @click=${() => { this.showModal = true; }}>Assign skill</button>\r\n        </div>\r\n\r\n        ${this.error ? html`<div class=\"error-banner\">${this.error}</div>` : \"\"}\r\n        ${this.loading ? html`<div style=\"color:var(--muted);font-size:13px\">Loading</div>`\r\n          : this.assigned.length === 0\r\n            ? html`<div class=\"empty-state\"><div class=\"empty-state-title\">No skills assigned</div><div class=\"empty-state-sub\">Assign skills to give this claw extra capabilities</div></div>`\r\n            : this.assigned.map(a => html`\r\n              <div class=\"card\">\r\n                <div class=\"card-header\">\r\n                  <div>\r\n                    <div class=\"card-title\">${a.name}</div>\r\n                    <div style=\"font-size:11px;font-family:var(--mono);color:var(--muted)\">${a.slug}</div>\r\n                  </div>\r\n                  <button class=\"btn btn-danger btn-sm\" @click=${() => this.unassign(a.slug)}>Unassign</button>\r\n                </div>\r\n              </div>\r\n            `)}\r\n\r\n        ${this.showModal ? html`\r\n          <div class=\"modal-backdrop\" @click=${(e: Event) => { if (e.target === e.currentTarget) this.showModal = false; }}>\r\n            <div class=\"modal\" style=\"max-width:500px\">\r\n              <div class=\"modal-title\">Assign skill</div>\r\n              <div class=\"modal-sub\">Add a skill from the marketplace to this claw</div>\r\n              ${unassigned.length === 0\r\n                ? html`<div style=\"color:var(--muted);font-size:13px;padding:16px 0\">All available skills are already assigned</div>`\r\n                : html`<div style=\"display:grid;gap:8px;max-height:360px;overflow-y:auto\">\r\n                    ${unassigned.map(s => html`\r\n                      <div class=\"card\" style=\"display:flex;align-items:center;gap:12px;cursor:pointer\" @click=${() => this.assign(s.slug)}>\r\n                        ${s.icon ? html`<img src=\"${s.icon}\" style=\"width:32px;height:32px;border-radius:6px\">` : html`<div style=\"width:32px;height:32px;background:var(--accent-subtle);border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:16px\"></div>`}\r\n                        <div>\r\n                          <div style=\"font-size:13px;font-weight:600;color:var(--text-strong)\">${s.name}</div>\r\n                          <div style=\"font-size:11px;color:var(--muted)\">${s.description ?? s.slug}</div>\r\n                        </div>\r\n                        <button class=\"btn btn-primary btn-sm\" style=\"margin-left:auto\" ?disabled=${this.saving}>Assign</button>\r\n                      </div>\r\n                    `)}\r\n                  </div>`}\r\n              <div class=\"modal-footer\">\r\n                <button class=\"btn btn-ghost\" @click=${() => this.showModal = false}>Close</button>\r\n              </div>\r\n            </div>\r\n          </div>` : \"\"}\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global { interface HTMLElementTagNameMap { \"ccl-claw-skills\": CclClawSkills; } }\r\n","import { LitElement, html } from \"lit\";\r\nimport { customElement, property, state } from \"lit/decorators.js\";\r\nimport { executions, type Execution } from \"../../api.js\";\r\n\r\ntype TimeFilter = \"today\" | \"week\" | \"month\" | \"all\";\r\n\r\n@customElement(\"ccl-claw-usage\")\r\nexport class CclClawUsage extends LitElement {\r\n  override createRenderRoot() { return this; }\r\n\r\n  @property() clawId = \"\";\r\n  @property() wsUrl = \"\";\r\n\r\n  @state() private items: Execution[] = [];\r\n  @state() private loading = true;\r\n  @state() private error = \"\";\r\n  @state() private timeFilter: TimeFilter = \"week\";\r\n\r\n  override connectedCallback() { super.connectedCallback(); this.load(); }\r\n  override updated(c: Map<string, unknown>) { if (c.has(\"clawId\") && this.clawId) this.load(); }\r\n\r\n  private async load() {\r\n    this.loading = true;\r\n    try { this.items = await executions.list({ clawId: this.clawId }); }\r\n    catch (e) { this.error = (e as Error).message; }\r\n    finally { this.loading = false; }\r\n  }\r\n\r\n  private filtered(): Execution[] {\r\n    const now = Date.now();\r\n    const cutoffs: Record<TimeFilter, number> = {\r\n      today: 86400000, week: 604800000, month: 2592000000, all: Infinity,\r\n    };\r\n    const cutoff = cutoffs[this.timeFilter];\r\n    return this.items.filter(e => now - new Date(e.createdAt).getTime() < cutoff);\r\n  }\r\n\r\n  private stats(items: Execution[]) {\r\n    const total = items.length;\r\n    const completed = items.filter(e => e.status === \"completed\").length;\r\n    const failed = items.filter(e => e.status === \"failed\").length;\r\n    const running = items.filter(e => e.status === \"running\").length;\r\n    return { total, completed, failed, running };\r\n  }\r\n\r\n  private duration(e: Execution): string {\r\n    if (!e.startedAt || !e.completedAt) return \"\";\r\n    const ms = new Date(e.completedAt).getTime() - new Date(e.startedAt).getTime();\r\n    return ms < 1000 ? `${ms}ms` : `${(ms / 1000).toFixed(1)}s`;\r\n  }\r\n\r\n  private fmt(d: string) { return new Date(d).toLocaleString(undefined, { month: \"short\", day: \"numeric\", hour: \"2-digit\", minute: \"2-digit\" }); }\r\n\r\n  override render() {\r\n    const items = this.filtered();\r\n    const s = this.stats(items);\r\n    const statusColor: Record<string, string> = { completed: \"badge-green\", failed: \"badge-red\", running: \"badge-blue\", pending: \"badge-gray\", cancelled: \"badge-gray\" };\r\n\r\n    return html`\r\n      <div style=\"padding:16px;display:grid;gap:16px\">\r\n        <div style=\"display:flex;justify-content:space-between;align-items:center\">\r\n          <div style=\"font-size:14px;font-weight:600;color:var(--text-strong)\">Usage</div>\r\n          <div style=\"display:flex;gap:4px\">\r\n            ${([\"today\", \"week\", \"month\", \"all\"] as TimeFilter[]).map(f => html`\r\n              <button class=\"btn btn-sm ${this.timeFilter === f ? \"btn-primary\" : \"btn-ghost\"}\" @click=${() => { this.timeFilter = f; }}>\r\n                ${f}\r\n              </button>\r\n            `)}\r\n          </div>\r\n        </div>\r\n\r\n        ${this.error ? html`<div class=\"error-banner\">${this.error}</div>` : \"\"}\r\n\r\n        <div class=\"stat-grid\">\r\n          ${[\r\n            [\"Total\", s.total],\r\n            [\"Completed\", s.completed],\r\n            [\"Failed\", s.failed],\r\n            [\"Running\", s.running],\r\n          ].map(([label, val]) => html`\r\n            <div class=\"stat-card\">\r\n              <div class=\"stat-value\">${val}</div>\r\n              <div class=\"stat-label\">${label}</div>\r\n            </div>\r\n          `)}\r\n        </div>\r\n\r\n        ${this.loading ? html`<div style=\"color:var(--muted);font-size:13px\">Loading</div>`\r\n          : items.length === 0\r\n            ? html`<div class=\"empty-state\"><div class=\"empty-state-title\">No executions</div></div>`\r\n            : html`\r\n              <div class=\"table-wrap\">\r\n                <table class=\"table\">\r\n                  <thead><tr><th>Task</th><th>Status</th><th>Duration</th><th>Started</th></tr></thead>\r\n                  <tbody>\r\n                    ${items.slice().reverse().map(e => html`\r\n                      <tr>\r\n                        <td style=\"font-size:12px;font-family:var(--mono)\">${e.taskId}</td>\r\n                        <td><span class=\"badge ${statusColor[e.status] ?? \"badge-gray\"}\">${e.status}</span></td>\r\n                        <td style=\"font-size:12px;color:var(--muted)\">${this.duration(e)}</td>\r\n                        <td style=\"font-size:12px;color:var(--muted)\">${this.fmt(e.createdAt)}</td>\r\n                      </tr>\r\n                    `)}\r\n                  </tbody>\r\n                </table>\r\n              </div>`}\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global { interface HTMLElementTagNameMap { \"ccl-claw-usage\": CclClawUsage; } }\r\n","import { LitElement, html } from \"lit\";\r\nimport { customElement, property, state } from \"lit/decorators.js\";\r\nimport { getTenantToken } from \"../../api.js\";\r\n\r\nconst BASE = (typeof window !== \"undefined\" && (window as unknown as { API_URL?: string }).API_URL) ?? \"https://api.coderclaw.ai\";\r\n\r\nasync function apiFetch<T>(path: string, opts: RequestInit = {}): Promise<T | null> {\r\n  const res = await fetch(`${BASE}${path}`, {\r\n    ...opts,\r\n    headers: { \"Content-Type\": \"application/json\", \"Authorization\": `Bearer ${getTenantToken() ?? \"\"}`, ...(opts.headers ?? {}) },\r\n  });\r\n  if (res.status === 404 || res.status === 204) return null;\r\n  if (!res.ok) throw new Error(await res.text());\r\n  return res.json();\r\n}\r\n\r\ninterface CronJob {\r\n  id: string;\r\n  name: string;\r\n  schedule: string;\r\n  taskId?: string;\r\n  enabled: boolean;\r\n  lastRunAt?: string;\r\n  nextRunAt?: string;\r\n  lastStatus?: string;\r\n}\r\n\r\n@customElement(\"ccl-claw-cron\")\r\nexport class CclClawCron extends LitElement {\r\n  override createRenderRoot() { return this; }\r\n\r\n  @property() clawId = \"\";\r\n  @property() wsUrl = \"\";\r\n\r\n  @state() private jobs: CronJob[] = [];\r\n  @state() private loading = true;\r\n  @state() private error = \"\";\r\n  @state() private showModal = false;\r\n  @state() private form = { name: \"\", schedule: \"0 9 * * 1-5\", taskId: \"\" };\r\n  @state() private saving = false;\r\n\r\n  override connectedCallback() { super.connectedCallback(); this.load(); }\r\n  override updated(c: Map<string, unknown>) { if (c.has(\"clawId\") && this.clawId) this.load(); }\r\n\r\n  private async load() {\r\n    this.loading = true;\r\n    try {\r\n      const data = await apiFetch<CronJob[]>(`/api/claws/${this.clawId}/cron`);\r\n      this.jobs = data ?? [];\r\n    } catch (e) { this.error = (e as Error).message; }\r\n    finally { this.loading = false; }\r\n  }\r\n\r\n  private async toggle(job: CronJob) {\r\n    try {\r\n      await apiFetch(`/api/claws/${this.clawId}/cron/${job.id}`, { method: \"PATCH\", body: JSON.stringify({ enabled: !job.enabled }) });\r\n      this.jobs = this.jobs.map(j => j.id === job.id ? { ...j, enabled: !j.enabled } : j);\r\n    } catch (e) { this.error = (e as Error).message; }\r\n  }\r\n\r\n  private async remove(job: CronJob) {\r\n    if (!confirm(`Delete cron job \"${job.name}\"?`)) return;\r\n    try {\r\n      await apiFetch(`/api/claws/${this.clawId}/cron/${job.id}`, { method: \"DELETE\" });\r\n      this.jobs = this.jobs.filter(j => j.id !== job.id);\r\n    } catch (e) { this.error = (e as Error).message; }\r\n  }\r\n\r\n  private async save(e: Event) {\r\n    e.preventDefault();\r\n    this.saving = true;\r\n    try {\r\n      const created = await apiFetch<CronJob>(`/api/claws/${this.clawId}/cron`, { method: \"POST\", body: JSON.stringify(this.form) });\r\n      if (created) this.jobs = [created, ...this.jobs];\r\n      this.showModal = false;\r\n    } catch (e) { this.error = (e as Error).message; }\r\n    finally { this.saving = false; }\r\n  }\r\n\r\n  private fmt(d?: string) { return d ? new Date(d).toLocaleString(undefined, { month: \"short\", day: \"numeric\", hour: \"2-digit\", minute: \"2-digit\" }) : \"\"; }\r\n\r\n  override render() {\r\n    return html`\r\n      <div style=\"padding:16px;display:grid;gap:12px\">\r\n        <div style=\"display:flex;justify-content:space-between;align-items:center\">\r\n          <div style=\"font-size:14px;font-weight:600;color:var(--text-strong)\">Cron Jobs</div>\r\n          <button class=\"btn btn-primary btn-sm\" @click=${() => { this.showModal = true; }}>Add job</button>\r\n        </div>\r\n\r\n        ${this.error ? html`<div class=\"error-banner\">${this.error}</div>` : \"\"}\r\n        ${this.loading ? html`<div style=\"color:var(--muted);font-size:13px\">Loading</div>`\r\n          : this.jobs.length === 0\r\n            ? html`<div class=\"empty-state\"><div class=\"empty-state-icon\"></div><div class=\"empty-state-title\">No cron jobs</div><div class=\"empty-state-sub\">Schedule recurring tasks for this claw</div></div>`\r\n            : this.jobs.map(job => html`\r\n              <div class=\"card\">\r\n                <div class=\"card-header\">\r\n                  <div>\r\n                    <div class=\"card-title\">${job.name}</div>\r\n                    <code style=\"font-size:11px;font-family:var(--mono);color:var(--muted)\">${job.schedule}</code>\r\n                  </div>\r\n                  <span class=\"badge ${job.enabled ? \"badge-green\" : \"badge-gray\"}\">${job.enabled ? \"active\" : \"paused\"}</span>\r\n                </div>\r\n                <div style=\"display:grid;grid-template-columns:1fr 1fr;gap:8px;font-size:12px;color:var(--muted);margin-bottom:12px\">\r\n                  <div>Last run: ${this.fmt(job.lastRunAt)}</div>\r\n                  <div>Next run: ${this.fmt(job.nextRunAt)}</div>\r\n                </div>\r\n                <div style=\"display:flex;gap:6px\">\r\n                  <button class=\"btn btn-secondary btn-sm\" @click=${() => this.toggle(job)}>${job.enabled ? \"Pause\" : \"Resume\"}</button>\r\n                  <button class=\"btn btn-danger btn-sm\" @click=${() => this.remove(job)}>Delete</button>\r\n                </div>\r\n              </div>\r\n            `)}\r\n\r\n        ${this.showModal ? html`\r\n          <div class=\"modal-backdrop\" @click=${(e: Event) => { if (e.target === e.currentTarget) this.showModal = false; }}>\r\n            <div class=\"modal\">\r\n              <div class=\"modal-title\">New cron job</div>\r\n              <form @submit=${this.save} style=\"display:grid;gap:14px;margin-top:16px\">\r\n                <div class=\"field\"><label class=\"label\">Name</label>\r\n                  <input class=\"input\" required .value=${this.form.name} @input=${(e: InputEvent) => { this.form = { ...this.form, name: (e.target as HTMLInputElement).value }; }}></div>\r\n                <div class=\"field\">\r\n                  <label class=\"label\">Schedule <span class=\"label-hint\">(cron expression)</span></label>\r\n                  <input class=\"input\" placeholder=\"0 9 * * 1-5\" .value=${this.form.schedule}\r\n                    @input=${(e: InputEvent) => { this.form = { ...this.form, schedule: (e.target as HTMLInputElement).value }; }}>\r\n                  <div style=\"font-size:11px;color:var(--muted);margin-top:4px\">minute hour day month weekday</div>\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                  <button class=\"btn btn-ghost\" type=\"button\" @click=${() => this.showModal = false}>Cancel</button>\r\n                  <button class=\"btn btn-primary\" type=\"submit\" ?disabled=${this.saving}>${this.saving ? \"Saving\" : \"Create\"}</button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>` : \"\"}\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global { interface HTMLElementTagNameMap { \"ccl-claw-cron\": CclClawCron; } }\r\n","import { LitElement, html } from \"lit\";\r\nimport { customElement, property, state } from \"lit/decorators.js\";\r\nimport { getTenantToken } from \"../../api.js\";\r\n\r\nconst BASE = (typeof window !== \"undefined\" && (window as unknown as { API_URL?: string }).API_URL) ?? \"https://api.coderclaw.ai\";\r\n\r\nasync function apiFetch<T>(path: string, opts: RequestInit = {}): Promise<T | null> {\r\n  const res = await fetch(`${BASE}${path}`, {\r\n    ...opts,\r\n    headers: { \"Content-Type\": \"application/json\", \"Authorization\": `Bearer ${getTenantToken() ?? \"\"}`, ...(opts.headers ?? {}) },\r\n  });\r\n  if (res.status === 404 || res.status === 204) return null;\r\n  if (!res.ok) throw new Error(await res.text());\r\n  return res.json();\r\n}\r\n\r\ninterface Node { id: string; name?: string; capabilities?: string[]; connectedAt?: string; lastSeenAt?: string; status: \"connected\" | \"disconnected\"; }\r\n\r\n@customElement(\"ccl-claw-nodes\")\r\nexport class CclClawNodes extends LitElement {\r\n  override createRenderRoot() { return this; }\r\n\r\n  @property() clawId = \"\";\r\n  @property() wsUrl = \"\";\r\n\r\n  @state() private nodes: Node[] = [];\r\n  @state() private loading = true;\r\n  @state() private error = \"\";\r\n\r\n  override connectedCallback() { super.connectedCallback(); this.load(); }\r\n  override updated(c: Map<string, unknown>) { if (c.has(\"clawId\") && this.clawId) this.load(); }\r\n\r\n  private async load() {\r\n    this.loading = true;\r\n    try {\r\n      const data = await apiFetch<Node[]>(`/api/claws/${this.clawId}/nodes`);\r\n      this.nodes = data ?? [];\r\n    } catch (e) { this.error = (e as Error).message; }\r\n    finally { this.loading = false; }\r\n  }\r\n\r\n  private async unpair(node: Node) {\r\n    if (!confirm(`Unpair node \"${node.name ?? node.id}\"?`)) return;\r\n    try {\r\n      await apiFetch(`/api/claws/${this.clawId}/nodes/${node.id}`, { method: \"DELETE\" });\r\n      this.nodes = this.nodes.filter(n => n.id !== node.id);\r\n    } catch (e) { this.error = (e as Error).message; }\r\n  }\r\n\r\n  private fmt(d?: string) { return d ? new Date(d).toLocaleString(undefined, { month: \"short\", day: \"numeric\", hour: \"2-digit\", minute: \"2-digit\" }) : \"\"; }\r\n\r\n  override render() {\r\n    return html`\r\n      <div style=\"padding:16px;display:grid;gap:12px\">\r\n        <div style=\"display:flex;justify-content:space-between;align-items:center\">\r\n          <div style=\"font-size:14px;font-weight:600;color:var(--text-strong)\">Paired Nodes</div>\r\n          <button class=\"btn btn-secondary btn-sm\" @click=${this.load}>Refresh</button>\r\n        </div>\r\n\r\n        ${this.error ? html`<div class=\"error-banner\">${this.error}</div>` : \"\"}\r\n        ${this.loading ? html`<div style=\"color:var(--muted);font-size:13px\">Loading</div>`\r\n          : this.nodes.length === 0\r\n            ? html`<div class=\"empty-state\"><div class=\"empty-state-icon\"></div><div class=\"empty-state-title\">No nodes paired</div><div class=\"empty-state-sub\">Pair a device to extend this claw's capabilities</div></div>`\r\n            : this.nodes.map(n => html`\r\n              <div class=\"card\">\r\n                <div class=\"card-header\">\r\n                  <div>\r\n                    <div class=\"card-title\">${n.name ?? n.id}</div>\r\n                    <div style=\"font-size:11px;color:var(--muted)\">Last seen: ${this.fmt(n.lastSeenAt)}</div>\r\n                  </div>\r\n                  <div style=\"display:flex;align-items:center;gap:8px\">\r\n                    <span class=\"dot ${n.status === \"connected\" ? \"dot-green\" : \"dot-gray\"}\"></span>\r\n                    <span style=\"font-size:12px;color:var(--muted)\">${n.status}</span>\r\n                  </div>\r\n                </div>\r\n                ${n.capabilities?.length ? html`\r\n                  <div style=\"display:flex;gap:4px;flex-wrap:wrap;margin-bottom:10px\">\r\n                    ${n.capabilities.map(c => html`<span class=\"badge badge-gray\">${c}</span>`)}\r\n                  </div>` : \"\"}\r\n                <button class=\"btn btn-danger btn-sm\" @click=${() => this.unpair(n)}>Unpair</button>\r\n              </div>\r\n            `)}\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global { interface HTMLElementTagNameMap { \"ccl-claw-nodes\": CclClawNodes; } }\r\n","import { LitElement, html } from \"lit\";\r\nimport { customElement, property, state } from \"lit/decorators.js\";\r\nimport { getTenantToken } from \"../../api.js\";\r\n\r\nconst BASE = (typeof window !== \"undefined\" && (window as unknown as { API_URL?: string }).API_URL) ?? \"https://api.coderclaw.ai\";\r\n\r\nasync function apiFetch<T>(path: string, opts: RequestInit = {}): Promise<T | null> {\r\n  const res = await fetch(`${BASE}${path}`, {\r\n    ...opts,\r\n    headers: { \"Content-Type\": \"application/json\", \"Authorization\": `Bearer ${getTenantToken() ?? \"\"}`, ...(opts.headers ?? {}) },\r\n  });\r\n  if (res.status === 404 || res.status === 204) return null;\r\n  if (!res.ok) throw new Error(await res.text());\r\n  return res.json();\r\n}\r\n\r\ntype ChannelType = \"discord\" | \"slack\" | \"telegram\" | \"whatsapp\" | \"signal\" | \"googlechat\" | \"nostr\";\r\n\r\ninterface Channel {\r\n  id: string;\r\n  type: ChannelType;\r\n  name?: string;\r\n  status: \"connected\" | \"error\" | \"stopped\" | \"pending\";\r\n  enabled: boolean;\r\n  config?: Record<string, string>;\r\n}\r\n\r\nconst CHANNEL_TYPES: ChannelType[] = [\"discord\", \"slack\", \"telegram\", \"whatsapp\", \"signal\", \"googlechat\", \"nostr\"];\r\n\r\nconst CHANNEL_FIELDS: Record<ChannelType, Array<{ key: string; label: string; type?: string }>> = {\r\n  discord:    [{ key: \"token\", label: \"Bot Token\", type: \"password\" }, { key: \"guildId\", label: \"Guild ID\" }],\r\n  slack:      [{ key: \"botToken\", label: \"Bot Token\", type: \"password\" }, { key: \"appToken\", label: \"App Token\", type: \"password\" }],\r\n  telegram:   [{ key: \"token\", label: \"Bot Token\", type: \"password\" }],\r\n  whatsapp:   [{ key: \"phoneNumberId\", label: \"Phone Number ID\" }, { key: \"accessToken\", label: \"Access Token\", type: \"password\" }],\r\n  signal:     [{ key: \"phone\", label: \"Phone Number\" }],\r\n  googlechat: [{ key: \"serviceAccountKey\", label: \"Service Account Key (JSON)\", type: \"password\" }],\r\n  nostr:      [{ key: \"privateKey\", label: \"Private Key (nsec)\", type: \"password\" }, { key: \"relays\", label: \"Relay URLs (comma-separated)\" }],\r\n};\r\n\r\n@customElement(\"ccl-claw-channels\")\r\nexport class CclClawChannels extends LitElement {\r\n  override createRenderRoot() { return this; }\r\n\r\n  @property() clawId = \"\";\r\n  @property() wsUrl = \"\";\r\n\r\n  @state() private channels: Channel[] = [];\r\n  @state() private loading = true;\r\n  @state() private error = \"\";\r\n  @state() private showModal = false;\r\n  @state() private selectedType: ChannelType = \"discord\";\r\n  @state() private form: Record<string, string> = {};\r\n  @state() private saving = false;\r\n\r\n  override connectedCallback() { super.connectedCallback(); this.load(); }\r\n  override updated(c: Map<string, unknown>) { if (c.has(\"clawId\") && this.clawId) this.load(); }\r\n\r\n  private async load() {\r\n    this.loading = true;\r\n    try {\r\n      const data = await apiFetch<Channel[]>(`/api/claws/${this.clawId}/channels`);\r\n      this.channels = data ?? [];\r\n    } catch (e) { this.error = (e as Error).message; }\r\n    finally { this.loading = false; }\r\n  }\r\n\r\n  private async toggle(ch: Channel) {\r\n    try {\r\n      await apiFetch(`/api/claws/${this.clawId}/channels/${ch.id}`, { method: \"PATCH\", body: JSON.stringify({ enabled: !ch.enabled }) });\r\n      this.channels = this.channels.map(c => c.id === ch.id ? { ...c, enabled: !c.enabled } : c);\r\n    } catch (e) { this.error = (e as Error).message; }\r\n  }\r\n\r\n  private async remove(ch: Channel) {\r\n    if (!confirm(`Delete ${ch.type} channel?`)) return;\r\n    try {\r\n      await apiFetch(`/api/claws/${this.clawId}/channels/${ch.id}`, { method: \"DELETE\" });\r\n      this.channels = this.channels.filter(c => c.id !== ch.id);\r\n    } catch (e) { this.error = (e as Error).message; }\r\n  }\r\n\r\n  private async save(e: Event) {\r\n    e.preventDefault();\r\n    this.saving = true;\r\n    try {\r\n      const created = await apiFetch<Channel>(`/api/claws/${this.clawId}/channels`, {\r\n        method: \"POST\",\r\n        body: JSON.stringify({ type: this.selectedType, config: this.form }),\r\n      });\r\n      if (created) this.channels = [created, ...this.channels];\r\n      this.showModal = false;\r\n      this.form = {};\r\n    } catch (e) { this.error = (e as Error).message; }\r\n    finally { this.saving = false; }\r\n  }\r\n\r\n  private statusDot(s: string) {\r\n    const map: Record<string, string> = { connected: \"dot-green\", error: \"dot-red\", stopped: \"dot-gray\", pending: \"dot-yellow\" };\r\n    return html`<span class=\"dot ${map[s] ?? \"dot-gray\"}\"></span>`;\r\n  }\r\n\r\n  override render() {\r\n    const fields = CHANNEL_FIELDS[this.selectedType] ?? [];\r\n    return html`\r\n      <div style=\"padding:16px;display:grid;gap:12px\">\r\n        <div style=\"display:flex;justify-content:space-between;align-items:center\">\r\n          <div style=\"font-size:14px;font-weight:600;color:var(--text-strong)\">Channels</div>\r\n          <button class=\"btn btn-primary btn-sm\" @click=${() => { this.showModal = true; this.form = {}; }}>Add channel</button>\r\n        </div>\r\n\r\n        ${this.error ? html`<div class=\"error-banner\">${this.error}</div>` : \"\"}\r\n        ${this.loading ? html`<div style=\"color:var(--muted);font-size:13px\">Loading</div>`\r\n          : this.channels.length === 0\r\n            ? html`<div class=\"empty-state\"><div class=\"empty-state-icon\"></div><div class=\"empty-state-title\">No channels</div><div class=\"empty-state-sub\">Connect Discord, Slack, Telegram and more</div></div>`\r\n            : this.channels.map(ch => html`\r\n              <div class=\"card\">\r\n                <div class=\"card-header\">\r\n                  <div style=\"display:flex;align-items:center;gap:8px\">\r\n                    ${this.statusDot(ch.status)}\r\n                    <div>\r\n                      <div class=\"card-title\">${ch.name ?? ch.type}</div>\r\n                      <div style=\"font-size:11px;color:var(--muted)\">${ch.status}</div>\r\n                    </div>\r\n                  </div>\r\n                  <span class=\"badge ${ch.enabled ? \"badge-green\" : \"badge-gray\"}\">${ch.enabled ? \"enabled\" : \"disabled\"}</span>\r\n                </div>\r\n                <div style=\"display:flex;gap:6px\">\r\n                  <button class=\"btn btn-secondary btn-sm\" @click=${() => this.toggle(ch)}>${ch.enabled ? \"Disable\" : \"Enable\"}</button>\r\n                  <button class=\"btn btn-danger btn-sm\" @click=${() => this.remove(ch)}>Delete</button>\r\n                </div>\r\n              </div>\r\n            `)}\r\n\r\n        ${this.showModal ? html`\r\n          <div class=\"modal-backdrop\" @click=${(e: Event) => { if (e.target === e.currentTarget) this.showModal = false; }}>\r\n            <div class=\"modal\">\r\n              <div class=\"modal-title\">Add channel</div>\r\n              <form @submit=${this.save} style=\"display:grid;gap:14px;margin-top:16px\">\r\n                <div class=\"field\">\r\n                  <label class=\"label\">Channel type</label>\r\n                  <select class=\"select\" @change=${(e: Event) => { this.selectedType = (e.target as HTMLSelectElement).value as ChannelType; this.form = {}; }}>\r\n                    ${CHANNEL_TYPES.map(t => html`<option value=${t}>${t}</option>`)}\r\n                  </select>\r\n                </div>\r\n                ${fields.map(f => html`\r\n                  <div class=\"field\">\r\n                    <label class=\"label\">${f.label}</label>\r\n                    <input class=\"input\" type=${f.type ?? \"text\"} .value=${this.form[f.key] ?? \"\"}\r\n                      @input=${(e: InputEvent) => { this.form = { ...this.form, [f.key]: (e.target as HTMLInputElement).value }; }}>\r\n                  </div>\r\n                `)}\r\n                <div class=\"modal-footer\">\r\n                  <button class=\"btn btn-ghost\" type=\"button\" @click=${() => this.showModal = false}>Cancel</button>\r\n                  <button class=\"btn btn-primary\" type=\"submit\" ?disabled=${this.saving}>${this.saving ? \"Saving\" : \"Add channel\"}</button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>` : \"\"}\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global { interface HTMLElementTagNameMap { \"ccl-claw-channels\": CclClawChannels; } }\r\n","import { LitElement, html } from \"lit\";\r\nimport { customElement, property, state } from \"lit/decorators.js\";\r\nimport { ClawGateway, type GatewayEvent } from \"../../gateway.js\";\r\n\r\ntype LogLevel = \"error\" | \"warn\" | \"info\" | \"debug\" | \"all\";\r\n\r\ninterface LogLine {\r\n  ts: string;\r\n  level: string;\r\n  msg: string;\r\n}\r\n\r\n@customElement(\"ccl-claw-logs\")\r\nexport class CclClawLogs extends LitElement {\r\n  override createRenderRoot() { return this; }\r\n\r\n  @property() clawId = \"\";\r\n  @property() wsUrl = \"\";\r\n\r\n  @state() private lines: LogLine[] = [];\r\n  @state() private level: LogLevel = \"all\";\r\n  @state() private connState = \"connecting\";\r\n  @state() private autoScroll = true;\r\n\r\n  private gw: ClawGateway | null = null;\r\n  private logEnd: HTMLElement | null = null;\r\n\r\n  override connectedCallback() {\r\n    super.connectedCallback();\r\n    if (this.wsUrl) this.connect();\r\n  }\r\n\r\n  override disconnectedCallback() {\r\n    super.disconnectedCallback();\r\n    this.gw?.destroy();\r\n  }\r\n\r\n  override updated(c: Map<string, unknown>) {\r\n    if (c.has(\"wsUrl\") && this.wsUrl) { this.gw?.destroy(); this.connect(); }\r\n    if (this.autoScroll) this.logEnd?.scrollIntoView();\r\n  }\r\n\r\n  private connect() {\r\n    this.connState = \"connecting\";\r\n    this.gw = new ClawGateway({\r\n      url: this.wsUrl,\r\n      onEvent: (ev: GatewayEvent) => {\r\n        if (ev.type === \"connected\")    { this.connState = \"connected\"; this.gw?.send({ type: \"logs.subscribe\" }); return; }\r\n        if (ev.type === \"disconnected\") { this.connState = \"disconnected\"; return; }\r\n        if (ev.type === \"claw_offline\") { this.connState = \"offline\"; return; }\r\n        if (ev.type !== \"message\") return;\r\n        const msg = ev.data as { type: string; level?: string; message?: string; ts?: string };\r\n        if (msg.type === \"log\") {\r\n          this.lines = [...this.lines.slice(-2000), { ts: msg.ts ?? new Date().toISOString(), level: msg.level ?? \"info\", msg: msg.message ?? \"\" }];\r\n        }\r\n      },\r\n    });\r\n  }\r\n\r\n  private filtered() {\r\n    if (this.level === \"all\") return this.lines;\r\n    return this.lines.filter(l => l.level === this.level);\r\n  }\r\n\r\n  private levelClass(l: string) {\r\n    const map: Record<string, string> = { error: \"log-line-error\", warn: \"log-line-warn\", info: \"log-line-info\" };\r\n    return map[l] ?? \"\";\r\n  }\r\n\r\n  private clear() { this.lines = []; }\r\n\r\n  override render() {\r\n    const lines = this.filtered();\r\n    return html`\r\n      <div style=\"padding:12px 16px;display:flex;flex-direction:column;height:100%\">\r\n        <div style=\"display:flex;align-items:center;gap:8px;margin-bottom:10px;flex-shrink:0\">\r\n          <span class=\"dot ${this.connState === \"connected\" ? \"dot-green\" : this.connState === \"offline\" ? \"dot-red\" : \"dot-gray\"}\"></span>\r\n          <span style=\"font-size:12px;color:var(--muted)\">${this.connState}</span>\r\n          <div style=\"flex:1\"></div>\r\n          <select class=\"select\" style=\"height:28px;padding:3px 8px;font-size:12px;width:100px\"\r\n            @change=${(e: Event) => { this.level = (e.target as HTMLSelectElement).value as LogLevel; }}>\r\n            <option value=\"all\">all</option>\r\n            <option value=\"error\">error</option>\r\n            <option value=\"warn\">warn</option>\r\n            <option value=\"info\">info</option>\r\n            <option value=\"debug\">debug</option>\r\n          </select>\r\n          <label style=\"display:flex;align-items:center;gap:4px;font-size:12px;color:var(--muted);cursor:pointer\">\r\n            <input type=\"checkbox\" .checked=${this.autoScroll} @change=${(e: Event) => { this.autoScroll = (e.target as HTMLInputElement).checked; }}> Auto-scroll\r\n          </label>\r\n          <button class=\"btn btn-ghost btn-sm\" @click=${this.clear}>Clear</button>\r\n        </div>\r\n\r\n        <div class=\"log-wrap\" style=\"flex:1;overflow-y:auto;height:0\">\r\n          ${lines.length === 0\r\n            ? html`<div style=\"color:var(--muted);font-size:12px\">Waiting for log output</div>`\r\n            : lines.map(l => html`\r\n              <div class=\"log-line ${this.levelClass(l.level)}\">\r\n                <span style=\"opacity:0.5;margin-right:8px\">${l.ts.slice(11, 19)}</span>\r\n                <span style=\"min-width:40px;display:inline-block;margin-right:8px;text-transform:uppercase;font-size:10px;opacity:0.7\">${l.level}</span>\r\n                ${l.msg}\r\n              </div>\r\n            `)}\r\n          <div style=\"height:1px\" .ref=${(el: HTMLElement | null) => { this.logEnd = el; }}></div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global { interface HTMLElementTagNameMap { \"ccl-claw-logs\": CclClawLogs; } }\r\n","import { LitElement, html } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators.js\";\nimport { claws as clawsApi, type Claw, type ClawRegistration } from \"../api.js\";\nimport \"./claw/chat.js\";\nimport \"./claw/agents.js\";\nimport \"./claw/config.js\";\nimport \"./claw/sessions.js\";\nimport \"./claw/claw-skills.js\";\nimport \"./claw/usage.js\";\nimport \"./claw/cron.js\";\nimport \"./claw/nodes.js\";\nimport \"./claw/channels.js\";\nimport \"./claw/claw-logs.js\";\n\ntype Tab = \"chat\" | \"agents\" | \"config\" | \"sessions\" | \"skills\" | \"usage\" | \"cron\" | \"nodes\" | \"channels\" | \"logs\";\n\nconst TABS: { id: Tab; label: string }[] = [\n  { id: \"chat\",     label: \"Chat\" },\n  { id: \"agents\",   label: \"Agents\" },\n  { id: \"config\",   label: \"Config\" },\n  { id: \"sessions\", label: \"Sessions\" },\n  { id: \"skills\",   label: \"Skills\" },\n  { id: \"usage\",    label: \"Usage\" },\n  { id: \"cron\",     label: \"Cron\" },\n  { id: \"nodes\",    label: \"Nodes\" },\n  { id: \"channels\", label: \"Channels\" },\n  { id: \"logs\",     label: \"Logs\" },\n];\n\n@customElement(\"ccl-claws\")\nexport class ClawsView extends LitElement {\n  override createRenderRoot() { return this; }\n  @property() tenantId: string = \"\";\n  @state() private clawList: Claw[] = [];\n  @state() private loading = false;\n  @state() private error = \"\";\n  @state() private showRegisterModal = false;\n  @state() private registerName = \"\";\n  @state() private registering = false;\n  @state() private registerError = \"\";\n  @state() private newClaw: ClawRegistration | null = null;\n  @state() private apiKeyCopied = false;\n  @state() private panelOpen = false;\n  @state() private activeClaw: Claw | null = null;\n  @state() private activeTab: Tab = \"chat\";\n  @state() private deleteConfirmId: string | null = null;\n  @state() private deleting = false;\n\n  override connectedCallback() {\n    super.connectedCallback();\n    void this.loadClaws();\n  }\n\n  private async loadClaws() {\n    this.loading = true;\n    this.error = \"\";\n    try { this.clawList = await clawsApi.list(); }\n    catch (e: unknown) { this.error = (e as Error).message ?? \"Failed to load claws\"; }\n    finally { this.loading = false; }\n  }\n\n  private openPanel(claw: Claw) {\n    this.activeClaw = claw;\n    this.activeTab = \"chat\";\n    this.panelOpen = true;\n    document.body.style.overflow = \"hidden\";\n  }\n\n  private closePanel() {\n    this.panelOpen = false;\n    document.body.style.overflow = \"\";\n    setTimeout(() => { this.activeClaw = null; }, 300);\n  }\n\n  private async handleRegister() {\n    if (!this.registerName.trim()) return;\n    this.registering = true;\n    this.registerError = \"\";\n    try {\n      const result = await clawsApi.register(this.registerName.trim());\n      this.newClaw = result;\n      this.clawList = [...this.clawList, result];\n      this.registerName = \"\";\n    } catch (e: unknown) {\n      this.registerError = (e as Error).message ?? \"Registration failed\";\n    } finally { this.registering = false; }\n  }\n\n  private closeRegisterModal() {\n    this.showRegisterModal = false;\n    this.newClaw = null;\n    this.registerName = \"\";\n    this.registerError = \"\";\n    this.apiKeyCopied = false;\n  }\n\n  private async copyApiKey() {\n    if (!this.newClaw) return;\n    try {\n      await navigator.clipboard.writeText(this.newClaw.apiKey);\n      this.apiKeyCopied = true;\n      setTimeout(() => { this.apiKeyCopied = false; }, 2000);\n    } catch { /* ignore */ }\n  }\n\n  private async handleDelete(id: string) {\n    this.deleting = true;\n    try {\n      await clawsApi.remove(id);\n      this.clawList = this.clawList.filter(c => c.id !== id);\n      this.deleteConfirmId = null;\n      if (this.activeClaw?.id === id) this.closePanel();\n    } catch (e: unknown) {\n      this.error = (e as Error).message ?? \"Delete failed\";\n    } finally { this.deleting = false; }\n  }\n\n  private statusBadge(claw: Claw) {\n    if (claw.status === \"active\")    return html`<span class=\"badge badge-green\">active</span>`;\n    if (claw.status === \"suspended\") return html`<span class=\"badge badge-red\">suspended</span>`;\n    return html`<span class=\"badge badge-gray\">${claw.status}</span>`;\n  }\n\n  private connectedDot(claw: Claw) {\n    const dotClass = claw.status === \"active\" && claw.connectedAt ? \"dot dot-green\" : \"dot dot-gray\";\n    return html`<span class=\"${dotClass}\" title=\"${claw.connectedAt ? 'connected' : 'offline'}\"></span>`;\n  }\n\n  private renderRegisterModal() {\n    if (!this.showRegisterModal) return html``;\n    return html`\n      <div class=\"modal-backdrop\" @click=${(e: Event) => { if (e.target === e.currentTarget) this.closeRegisterModal(); }}>\n        <div class=\"modal\">\n          <div class=\"modal-title\">Register new claw</div>\n          ${this.newClaw ? html`\n            <div class=\"modal-sub\">Claw registered. Save this API key &mdash; it will not be shown again.</div>\n            <div style=\"margin:1rem 0;background:var(--bg-2,#f4f4f5);border-radius:6px;padding:0.75rem 1rem;font-family:monospace;font-size:0.875rem;word-break:break-all;\">${this.newClaw.apiKey}</div>\n            <button class=\"btn btn-secondary btn-sm\" @click=${this.copyApiKey}>\n              ${this.apiKeyCopied ? \"Copied!\" : \"Copy API key\"}\n            </button>\n            <div class=\"modal-footer\">\n              <button class=\"btn btn-primary\" @click=${this.closeRegisterModal}>Done</button>\n            </div>\n          ` : html`\n            <div class=\"field\">\n              <label class=\"label\">Claw name</label>\n              <input class=\"input\" placeholder=\"my-claw\"\n                .value=${this.registerName}\n                @input=${(e: InputEvent) => { this.registerName = (e.target as HTMLInputElement).value; }}\n                @keydown=${(e: KeyboardEvent) => { if (e.key === \"Enter\") void this.handleRegister(); }}\n              />\n            </div>\n            ${this.registerError ? html`<div class=\"error-banner\">${this.registerError}</div>` : \"\"}\n            <div class=\"modal-footer\">\n              <button class=\"btn btn-ghost\" @click=${this.closeRegisterModal}>Cancel</button>\n              <button class=\"btn btn-primary\" ?disabled=${this.registering || !this.registerName.trim()}\n                @click=${this.handleRegister}>${this.registering ? \"Registering\" : \"Register\"}</button>\n            </div>\n          `}\n        </div>\n      </div>\n    `;\n  }\n\n  private renderDeleteConfirm(claw: Claw) {\n    if (this.deleteConfirmId !== claw.id) return html``;\n    return html`\n      <div class=\"modal-backdrop\" @click=${(e: Event) => { if (e.target === e.currentTarget) this.deleteConfirmId = null; }}>\n        <div class=\"modal\">\n          <div class=\"modal-title\">Delete claw</div>\n          <div class=\"modal-sub\">Are you sure you want to delete <strong>${claw.name}</strong>? This cannot be undone.</div>\n          <div class=\"modal-footer\">\n            <button class=\"btn btn-ghost\" @click=${() => { this.deleteConfirmId = null; }}>Cancel</button>\n            <button class=\"btn btn-danger\" ?disabled=${this.deleting}\n              @click=${() => void this.handleDelete(claw.id)}\n            >${this.deleting ? \"Deleting\" : \"Delete\"}</button>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  private renderPanel() {\n    if (!this.activeClaw) return html``;\n    const claw = this.activeClaw;\n    const wsUrl = clawsApi.wsUrl(claw.id);\n    return html`\n      <div style=\"position:fixed;inset:0;background:rgba(0,0,0,0.4);z-index:40;transition:opacity 0.2s;\n        opacity:${this.panelOpen ? \"1\" : \"0\"};\" @click=${this.closePanel}></div>\n      <div style=\"position:fixed;top:0;right:0;bottom:0;width:min(860px,100vw);\n        background:var(--bg-1,#fff);z-index:50;display:flex;flex-direction:column;\n        box-shadow:-4px 0 24px rgba(0,0,0,0.15);\n        transform:translateX(${this.panelOpen ? \"0\" : \"100%\"});\n        transition:transform 0.28s cubic-bezier(0.4,0,0.2,1);\">\n        <div style=\"display:flex;align-items:center;gap:0.75rem;padding:1rem 1.25rem;\n          border-bottom:1px solid var(--border,#e4e4e7);flex-shrink:0;\">\n          <button class=\"btn btn-ghost btn-sm\" @click=${this.closePanel}> Close</button>\n          <span style=\"font-weight:600;font-size:1rem;\">${claw.name}</span>\n          ${this.statusBadge(claw)}\n          <span style=\"font-size:0.75rem;color:var(--muted,#71717a);font-family:monospace;\">${claw.slug}</span>\n        </div>\n        <div style=\"display:flex;border-bottom:1px solid var(--border,#e4e4e7);flex-shrink:0;overflow-x:auto;\">\n          ${TABS.map(t => html`\n            <button style=\"padding:0.625rem 1rem;font-size:0.875rem;border:none;background:none;\n              cursor:pointer;white-space:nowrap;\n              border-bottom:2px solid ${this.activeTab === t.id ? \"var(--accent,#6366f1)\" : \"transparent\"};\n              color:${this.activeTab === t.id ? \"var(--accent,#6366f1)\" : \"var(--muted,#71717a)\"};\n              font-weight:${this.activeTab === t.id ? \"600\" : \"400\"}\"\n              @click=${() => { this.activeTab = t.id as Tab; }}\n            >${t.label}</button>\n          `)}\n        </div>\n        <div style=\"flex:1;overflow:auto;min-height:0;\">\n          ${this.activeTab === \"chat\"     ? html`<ccl-claw-chat     .clawId=${claw.id} .wsUrl=${wsUrl}></ccl-claw-chat>` : \"\"}\n          ${this.activeTab === \"agents\"   ? html`<ccl-claw-agents   .clawId=${claw.id} .wsUrl=${wsUrl}></ccl-claw-agents>` : \"\"}\n          ${this.activeTab === \"config\"   ? html`<ccl-claw-config   .clawId=${claw.id} .wsUrl=${wsUrl}></ccl-claw-config>` : \"\"}\n          ${this.activeTab === \"sessions\" ? html`<ccl-claw-sessions .clawId=${claw.id} .wsUrl=${wsUrl}></ccl-claw-sessions>` : \"\"}\n          ${this.activeTab === \"skills\"   ? html`<ccl-claw-skills   .clawId=${claw.id} .wsUrl=${wsUrl}></ccl-claw-skills>` : \"\"}\n          ${this.activeTab === \"usage\"    ? html`<ccl-claw-usage    .clawId=${claw.id} .wsUrl=${wsUrl}></ccl-claw-usage>` : \"\"}\n          ${this.activeTab === \"cron\"     ? html`<ccl-claw-cron     .clawId=${claw.id} .wsUrl=${wsUrl}></ccl-claw-cron>` : \"\"}\n          ${this.activeTab === \"nodes\"    ? html`<ccl-claw-nodes    .clawId=${claw.id} .wsUrl=${wsUrl}></ccl-claw-nodes>` : \"\"}\n          ${this.activeTab === \"channels\" ? html`<ccl-claw-channels .clawId=${claw.id} .wsUrl=${wsUrl}></ccl-claw-channels>` : \"\"}\n          ${this.activeTab === \"logs\"     ? html`<ccl-claw-logs     .clawId=${claw.id} .wsUrl=${wsUrl}></ccl-claw-logs>` : \"\"}\n        </div>\n      </div>\n    `;\n  }\n\n  override render() {\n    return html`\n      <div>\n        <div class=\"page-header\">\n          <div><div class=\"page-title\">Claws</div><div class=\"page-sub\">${this.clawList.length} registered</div></div>\n          <button class=\"btn btn-primary\" @click=${() => { this.showRegisterModal = true; }}>Register claw</button>\n        </div>\n        ${this.error ? html`<div class=\"error-banner\">${this.error}</div>` : \"\"}\n        ${this.loading ? html`<div class=\"empty-state\">Loading</div>` : \"\"}\n        ${!this.loading && this.clawList.length === 0 ? html`\n          <div class=\"empty-state\">No claws registered yet. Register your first claw to get started.</div>\n        ` : \"\"}\n        ${!this.loading && this.clawList.length > 0 ? html`\n          <div class=\"table-wrap\">\n            <table class=\"table\">\n              <thead><tr><th></th><th>Name</th><th>Slug</th><th>Status</th><th>Last seen</th><th></th></tr></thead>\n              <tbody>\n                ${this.clawList.map(claw => html`\n                  <tr>\n                    <td style=\"width:2rem;\">${this.connectedDot(claw)}</td>\n                    <td style=\"font-weight:500;\">${claw.name}</td>\n                    <td style=\"font-family:monospace;font-size:0.8125rem;color:var(--muted,#71717a);\">${claw.slug}</td>\n                    <td>${this.statusBadge(claw)}</td>\n                    <td style=\"font-size:0.8125rem;color:var(--muted,#71717a);\">${claw.lastSeenAt ? new Date(claw.lastSeenAt).toLocaleString() : \"never\"}</td>\n                    <td>\n                      <div style=\"display:flex;gap:0.5rem;justify-content:flex-end;\">\n                        <button class=\"btn btn-primary btn-sm\" @click=${() => this.openPanel(claw)}>Open</button>\n                        <button class=\"btn btn-danger btn-sm\" @click=${() => { this.deleteConfirmId = claw.id; }}>Delete</button>\n                      </div>\n                      ${this.renderDeleteConfirm(claw)}\n                    </td>\n                  </tr>\n                `)}\n              </tbody>\n            </table>\n          </div>\n        ` : \"\"}\n      </div>\n      ${this.renderRegisterModal()}\n      ${this.renderPanel()}\n    `;\n  }\n}\n\ndeclare global { interface HTMLElementTagNameMap { \"ccl-claws\": ClawsView; } }\n","import { LitElement, html } from \"lit\";\r\nimport { customElement, property, state } from \"lit/decorators.js\";\r\nimport { marketplace, skillAssignments, type Skill, type SkillAssignment } from \"../api.js\";\r\n\r\n@customElement(\"ccl-skills\")\r\nexport class CclSkills extends LitElement {\r\n  override createRenderRoot() { return this; }\r\n\r\n  @property() tenantId = \"\";\r\n\r\n  @state() private available: Skill[] = [];\r\n  @state() private assigned: SkillAssignment[] = [];\r\n  @state() private loading = true;\r\n  @state() private error = \"\";\r\n  @state() private search = \"\";\r\n  @state() private tab: \"marketplace\" | \"assigned\" = \"assigned\";\r\n\r\n  override connectedCallback() { super.connectedCallback(); this.load(); }\r\n\r\n  private async load() {\r\n    this.loading = true;\r\n    try {\r\n      const [avail, asgn] = await Promise.all([\r\n        marketplace.list().catch(() => [] as Skill[]),\r\n        skillAssignments.listTenant().catch(() => [] as SkillAssignment[]),\r\n      ]);\r\n      this.available = avail;\r\n      this.assigned = asgn;\r\n    } catch (e) { this.error = (e as Error).message; }\r\n    finally { this.loading = false; }\r\n  }\r\n\r\n  private async assign(slug: string) {\r\n    try {\r\n      await skillAssignments.assignTenant(slug);\r\n      this.assigned = await skillAssignments.listTenant();\r\n    } catch (e) { this.error = (e as Error).message; }\r\n  }\r\n\r\n  private async unassign(slug: string) {\r\n    try {\r\n      await skillAssignments.unassignTenant(slug);\r\n      this.assigned = this.assigned.filter(a => a.slug !== slug);\r\n    } catch (e) { this.error = (e as Error).message; }\r\n  }\r\n\r\n  private assignedSlugs() { return new Set(this.assigned.map(a => a.slug)); }\r\n\r\n  private filteredAvailable() {\r\n    const q = this.search.toLowerCase();\r\n    return this.available.filter(s =>\r\n      !q || s.name.toLowerCase().includes(q) || (s.description ?? \"\").toLowerCase().includes(q)\r\n    );\r\n  }\r\n\r\n  override render() {\r\n    const slugs = this.assignedSlugs();\r\n    return html`\r\n      <div class=\"page-header\">\r\n        <div>\r\n          <div class=\"page-title\">Skills</div>\r\n          <div class=\"page-sub\">Extend your claws with marketplace skills</div>\r\n        </div>\r\n      </div>\r\n\r\n      ${this.error ? html`<div class=\"error-banner\">${this.error}</div>` : \"\"}\r\n\r\n      <div style=\"display:flex;gap:4px;margin-bottom:20px\">\r\n        <button class=\"btn ${this.tab === \"assigned\" ? \"btn-primary\" : \"btn-secondary\"}\" @click=${() => { this.tab = \"assigned\"; }}>\r\n          Assigned (${this.assigned.length})\r\n        </button>\r\n        <button class=\"btn ${this.tab === \"marketplace\" ? \"btn-primary\" : \"btn-secondary\"}\" @click=${() => { this.tab = \"marketplace\"; }}>\r\n          Marketplace (${this.available.length})\r\n        </button>\r\n      </div>\r\n\r\n      ${this.loading ? html`<div style=\"color:var(--muted);font-size:13px\">Loading</div>`\r\n        : this.tab === \"assigned\"\r\n          ? this.renderAssigned()\r\n          : this.renderMarketplace(slugs)}\r\n    `;\r\n  }\r\n\r\n  private renderAssigned() {\r\n    if (this.assigned.length === 0) {\r\n      return html`<div class=\"empty-state\"><div class=\"empty-state-icon\"></div><div class=\"empty-state-title\">No skills assigned</div><div class=\"empty-state-sub\">Browse the marketplace to add skills to your workspace</div><button class=\"btn btn-primary\" style=\"margin-top:16px\" @click=${() => { this.tab = \"marketplace\"; }}>Browse marketplace</button></div>`;\r\n    }\r\n    return html`\r\n      <div class=\"grid grid-3\">\r\n        ${this.assigned.map(a => html`\r\n          <div class=\"card\">\r\n            <div class=\"card-header\">\r\n              <div class=\"card-title\">${a.name}</div>\r\n              <button class=\"btn btn-danger btn-sm\" @click=${() => this.unassign(a.slug)}>Remove</button>\r\n            </div>\r\n            <div style=\"font-size:11px;font-family:var(--mono);color:var(--muted)\">${a.slug}</div>\r\n          </div>\r\n        `)}\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  private renderMarketplace(assigned: Set<string>) {\r\n    const items = this.filteredAvailable();\r\n    return html`\r\n      <div>\r\n        <input class=\"input\" style=\"max-width:300px;margin-bottom:16px\" placeholder=\"Search skills\"\r\n          .value=${this.search} @input=${(e: InputEvent) => { this.search = (e.target as HTMLInputElement).value; }}>\r\n\r\n        ${items.length === 0\r\n          ? html`<div class=\"empty-state\"><div class=\"empty-state-title\">No skills found</div></div>`\r\n          : html`\r\n            <div class=\"grid grid-3\">\r\n              ${items.map(s => html`\r\n                <div class=\"card\">\r\n                  <div class=\"card-header\">\r\n                    <div style=\"display:flex;align-items:center;gap:10px\">\r\n                      ${s.icon ? html`<img src=\"${s.icon}\" style=\"width:32px;height:32px;border-radius:6px\">` : html`<div style=\"width:32px;height:32px;background:var(--accent-subtle);border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:16px\"></div>`}\r\n                      <div>\r\n                        <div class=\"card-title\">${s.name}</div>\r\n                        ${s.category ? html`<span class=\"badge badge-gray\" style=\"font-size:10px\">${s.category}</span>` : \"\"}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  ${s.description ? html`<div style=\"font-size:12px;color:var(--muted);line-height:1.5;margin-bottom:12px\">${s.description}</div>` : \"\"}\r\n                  ${assigned.has(s.slug)\r\n                    ? html`<button class=\"btn btn-danger btn-sm\" @click=${() => this.unassign(s.slug)}>Remove</button>`\r\n                    : html`<button class=\"btn btn-primary btn-sm\" @click=${() => this.assign(s.slug)}>Add to workspace</button>`}\r\n                </div>\r\n              `)}\r\n            </div>`}\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global { interface HTMLElementTagNameMap { \"ccl-skills\": CclSkills; } }\r\n","import { LitElement, html } from \"lit\";\r\nimport { customElement, property, state } from \"lit/decorators.js\";\r\nimport { tenants, type Tenant, type TenantSummary } from \"../api.js\";\r\n\r\nconst ROLES = [\"owner\", \"manager\", \"developer\", \"viewer\"];\r\n\r\n@customElement(\"ccl-workspace\")\r\nexport class CclWorkspace extends LitElement {\r\n  override createRenderRoot() { return this; }\r\n\r\n  @property({ type: Object }) tenant: TenantSummary | null = null;\r\n\r\n  @state() private detail: Tenant | null = null;\r\n  @state() private loading = true;\r\n  @state() private error = \"\";\r\n  @state() private tab: \"members\" | \"settings\" = \"members\";\r\n\r\n  // Invite\r\n  @state() private showInvite = false;\r\n  @state() private inviteEmail = \"\";\r\n  @state() private inviteRole = \"developer\";\r\n  @state() private inviting = false;\r\n\r\n  override connectedCallback() { super.connectedCallback(); this.load(); }\r\n  override updated(c: Map<string, unknown>) { if (c.has(\"tenant\") && this.tenant) this.load(); }\r\n\r\n  private async load() {\r\n    if (!this.tenant) return;\r\n    this.loading = true;\r\n    try { this.detail = await tenants.get(this.tenant.id); }\r\n    catch (e) { this.error = (e as Error).message; }\r\n    finally { this.loading = false; }\r\n  }\r\n\r\n  private async invite(e: Event) {\r\n    e.preventDefault();\r\n    if (!this.tenant || !this.inviteEmail) return;\r\n    this.inviting = true;\r\n    try {\r\n      await tenants.inviteMember(this.tenant.id, this.inviteEmail, this.inviteRole);\r\n      await this.load();\r\n      this.showInvite = false;\r\n      this.inviteEmail = \"\";\r\n    } catch (ex) { this.error = (ex as Error).message; }\r\n    finally { this.inviting = false; }\r\n  }\r\n\r\n  private async removeMember(userId: string) {\r\n    if (!this.tenant || !confirm(\"Remove this member?\")) return;\r\n    try {\r\n      await tenants.removeMember(this.tenant.id, userId);\r\n      await this.load();\r\n    } catch (e) { this.error = (e as Error).message; }\r\n  }\r\n\r\n  private roleBadge(r: string) {\r\n    const map: Record<string, string> = { owner: \"badge-red\", manager: \"badge-yellow\", developer: \"badge-blue\", viewer: \"badge-gray\" };\r\n    return html`<span class=\"badge ${map[r] ?? \"badge-gray\"}\">${r}</span>`;\r\n  }\r\n\r\n  override render() {\r\n    return html`\r\n      <div class=\"page-header\">\r\n        <div>\r\n          <div class=\"page-title\">${this.tenant?.name ?? \"Workspace\"}</div>\r\n          <div class=\"page-sub\">Manage members and settings</div>\r\n        </div>\r\n      </div>\r\n\r\n      ${this.error ? html`<div class=\"error-banner\">${this.error}</div>` : \"\"}\r\n\r\n      <div style=\"display:flex;gap:4px;margin-bottom:20px\">\r\n        <button class=\"btn ${this.tab === \"members\" ? \"btn-primary\" : \"btn-secondary\"}\" @click=${() => { this.tab = \"members\"; }}>Members</button>\r\n        <button class=\"btn ${this.tab === \"settings\" ? \"btn-primary\" : \"btn-secondary\"}\" @click=${() => { this.tab = \"settings\"; }}>Settings</button>\r\n      </div>\r\n\r\n      ${this.loading ? html`<div style=\"color:var(--muted);font-size:13px\">Loading</div>`\r\n        : this.tab === \"members\" ? this.renderMembers()\r\n        : this.renderSettings()}\r\n    `;\r\n  }\r\n\r\n  private renderMembers() {\r\n    const members = this.detail?.members ?? [];\r\n    return html`\r\n      <div>\r\n        <div style=\"display:flex;justify-content:flex-end;margin-bottom:16px\">\r\n          <button class=\"btn btn-primary\" @click=${() => { this.showInvite = true; }}>Invite member</button>\r\n        </div>\r\n\r\n        ${members.length === 0\r\n          ? html`<div class=\"empty-state\"><div class=\"empty-state-title\">No members yet</div></div>`\r\n          : html`\r\n            <div class=\"table-wrap\">\r\n              <table class=\"table\">\r\n                <thead><tr><th>Email</th><th>Role</th><th>Joined</th><th></th></tr></thead>\r\n                <tbody>\r\n                  ${members.map(m => html`\r\n                    <tr>\r\n                      <td style=\"font-weight:500\">${m.email}</td>\r\n                      <td>${this.roleBadge(m.role)}</td>\r\n                      <td style=\"font-size:12px;color:var(--muted)\">${new Date(m.joinedAt).toLocaleDateString()}</td>\r\n                      <td>\r\n                        ${m.role !== \"owner\"\r\n                          ? html`<button class=\"btn btn-danger btn-sm\" @click=${() => this.removeMember(m.userId)}>Remove</button>`\r\n                          : \"\"}\r\n                      </td>\r\n                    </tr>\r\n                  `)}\r\n                </tbody>\r\n              </table>\r\n            </div>`}\r\n\r\n        ${this.showInvite ? html`\r\n          <div class=\"modal-backdrop\" @click=${(e: Event) => { if (e.target === e.currentTarget) this.showInvite = false; }}>\r\n            <div class=\"modal\">\r\n              <div class=\"modal-title\">Invite member</div>\r\n              <form @submit=${this.invite} style=\"display:grid;gap:14px;margin-top:16px\">\r\n                <div class=\"field\"><label class=\"label\">Email</label>\r\n                  <input class=\"input\" type=\"email\" required .value=${this.inviteEmail}\r\n                    @input=${(e: InputEvent) => { this.inviteEmail = (e.target as HTMLInputElement).value; }}></div>\r\n                <div class=\"field\"><label class=\"label\">Role</label>\r\n                  <select class=\"select\" @change=${(e: Event) => { this.inviteRole = (e.target as HTMLSelectElement).value; }}>\r\n                    ${ROLES.filter(r => r !== \"owner\").map(r => html`<option value=${r}>${r}</option>`)}\r\n                  </select></div>\r\n                <div class=\"modal-footer\">\r\n                  <button class=\"btn btn-ghost\" type=\"button\" @click=${() => this.showInvite = false}>Cancel</button>\r\n                  <button class=\"btn btn-primary\" type=\"submit\" ?disabled=${this.inviting}>${this.inviting ? \"Inviting\" : \"Send invite\"}</button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>` : \"\"}\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  private renderSettings() {\r\n    return html`\r\n      <div class=\"card\" style=\"max-width:480px\">\r\n        <div class=\"card-title\" style=\"margin-bottom:16px\">Workspace details</div>\r\n        <div style=\"display:grid;gap:10px\">\r\n          ${[\r\n            [\"Name\",   this.tenant?.name ?? \"\"],\r\n            [\"Slug\",   this.tenant?.slug ?? \"\"],\r\n            [\"Status\", this.tenant?.status ?? \"\"],\r\n            [\"Your role\", this.tenant?.role ?? \"\"],\r\n          ].map(([label, val]) => html`\r\n            <div style=\"display:flex;justify-content:space-between;font-size:13px;padding:8px 0;border-bottom:1px solid var(--border)\">\r\n              <span style=\"color:var(--muted)\">${label}</span>\r\n              <span style=\"color:var(--text-strong);font-weight:500\">${val}</span>\r\n            </div>`)}\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global { interface HTMLElementTagNameMap { \"ccl-workspace\": CclWorkspace; } }\r\n","import { LitElement, html } from \"lit\";\r\nimport { customElement, property, state } from \"lit/decorators.js\";\r\nimport { executions, tasks as tasksApi, type Execution, type Task } from \"../api.js\";\r\n\r\n@customElement(\"ccl-logs\")\r\nexport class CclLogs extends LitElement {\r\n  override createRenderRoot() { return this; }\r\n\r\n  @property() tenantId = \"\";\r\n\r\n  @state() private items: Execution[] = [];\r\n  @state() private tasks: Task[] = [];\r\n  @state() private loading = true;\r\n  @state() private error = \"\";\r\n  @state() private filterTask = \"\";\r\n  @state() private filterStatus = \"\";\r\n\r\n  override connectedCallback() { super.connectedCallback(); this.load(); }\r\n\r\n  private async load() {\r\n    this.loading = true;\r\n    try {\r\n      [this.items, this.tasks] = await Promise.all([\r\n        executions.list(),\r\n        tasksApi.list().catch(() => [] as Task[]),\r\n      ]);\r\n    } catch (e) { this.error = (e as Error).message; }\r\n    finally { this.loading = false; }\r\n  }\r\n\r\n  private filtered() {\r\n    return this.items.filter(e => {\r\n      if (this.filterTask && e.taskId !== this.filterTask) return false;\r\n      if (this.filterStatus && e.status !== this.filterStatus) return false;\r\n      return true;\r\n    });\r\n  }\r\n\r\n  private taskTitle(id: string) {\r\n    return this.tasks.find(t => t.id === id)?.title ?? id;\r\n  }\r\n\r\n  private statusColor(s: string) {\r\n    const map: Record<string, string> = { completed: \"badge-green\", failed: \"badge-red\", running: \"badge-blue\", pending: \"badge-gray\", cancelled: \"badge-gray\" };\r\n    return map[s] ?? \"badge-gray\";\r\n  }\r\n\r\n  private duration(e: Execution) {\r\n    if (!e.startedAt || !e.completedAt) return \"\";\r\n    const ms = new Date(e.completedAt).getTime() - new Date(e.startedAt).getTime();\r\n    return ms < 1000 ? `${ms}ms` : `${(ms / 1000).toFixed(1)}s`;\r\n  }\r\n\r\n  private fmt(d: string) {\r\n    return new Date(d).toLocaleString(undefined, { month: \"short\", day: \"numeric\", hour: \"2-digit\", minute: \"2-digit\" });\r\n  }\r\n\r\n  @state() private expanded: string | null = null;\r\n\r\n  override render() {\r\n    const items = this.filtered();\r\n    return html`\r\n      <div class=\"page-header\">\r\n        <div>\r\n          <div class=\"page-title\">Execution Logs</div>\r\n          <div class=\"page-sub\">${items.length} execution${items.length !== 1 ? \"s\" : \"\"}</div>\r\n        </div>\r\n        <button class=\"btn btn-secondary\" @click=${this.load}>Refresh</button>\r\n      </div>\r\n\r\n      ${this.error ? html`<div class=\"error-banner\">${this.error}</div>` : \"\"}\r\n\r\n      <div class=\"filters\" style=\"margin-bottom:16px\">\r\n        <select class=\"select\" style=\"max-width:220px;height:32px;padding:4px 10px\"\r\n          @change=${(e: Event) => { this.filterTask = (e.target as HTMLSelectElement).value; }}>\r\n          <option value=\"\">All tasks</option>\r\n          ${this.tasks.map(t => html`<option value=${t.id}>${t.title}</option>`)}\r\n        </select>\r\n        <select class=\"select\" style=\"max-width:160px;height:32px;padding:4px 10px\"\r\n          @change=${(e: Event) => { this.filterStatus = (e.target as HTMLSelectElement).value; }}>\r\n          <option value=\"\">All statuses</option>\r\n          ${[\"pending\", \"running\", \"completed\", \"failed\", \"cancelled\"].map(s => html`<option value=${s}>${s}</option>`)}\r\n        </select>\r\n      </div>\r\n\r\n      ${this.loading ? html`<div style=\"color:var(--muted);font-size:13px\">Loading</div>`\r\n        : items.length === 0\r\n          ? html`<div class=\"empty-state\"><div class=\"empty-state-icon\"></div><div class=\"empty-state-title\">No executions found</div></div>`\r\n          : html`\r\n            <div style=\"display:grid;gap:8px\">\r\n              ${items.slice().reverse().map(e => html`\r\n                <div class=\"card\" style=\"cursor:pointer\" @click=${() => { this.expanded = this.expanded === e.id ? null : e.id; }}>\r\n                  <div style=\"display:flex;align-items:center;gap:12px\">\r\n                    <span class=\"badge ${this.statusColor(e.status)}\">${e.status}</span>\r\n                    <span style=\"font-size:13px;font-weight:500;color:var(--text-strong);flex:1\">${this.taskTitle(e.taskId)}</span>\r\n                    <span style=\"font-size:12px;color:var(--muted)\">${this.duration(e)}</span>\r\n                    <span style=\"font-size:12px;color:var(--muted)\">${this.fmt(e.createdAt)}</span>\r\n                    <svg viewBox=\"0 0 24 24\" style=\"width:12px;height:12px;stroke:var(--muted);fill:none;stroke-width:2\">\r\n                      <polyline points=\"${this.expanded === e.id ? \"18 15 12 9 6 15\" : \"6 9 12 15 18 9\"}\"/>\r\n                    </svg>\r\n                  </div>\r\n                  ${this.expanded === e.id && e.result ? html`\r\n                    <div class=\"log-wrap\" style=\"margin-top:12px;max-height:200px;overflow-y:auto;font-size:11px\">\r\n                      ${e.result}\r\n                    </div>` : \"\"}\r\n                </div>\r\n              `)}\r\n            </div>`}\r\n    `;\r\n  }\r\n}\r\n\r\ndeclare global { interface HTMLElementTagNameMap { \"ccl-logs\": CclLogs; } }\r\n","import { LitElement, html, css } from \"lit\";\r\nimport { customElement, state } from \"lit/decorators.js\";\r\n\r\nimport {\r\n  auth, tenants, clearSession,\r\n  getWebToken, getTenantToken, getTenantId, getUser,\r\n  setWebToken, setTenantToken, setTenantId, setUser,\r\n  type TenantSummary, type UserInfo,\r\n} from \"./api.js\";\r\n\r\n// Views\r\nimport \"./views/auth.js\";\r\nimport \"./views/workspace-picker.js\";\r\nimport \"./views/projects.js\";\r\nimport \"./views/tasks.js\";\r\nimport \"./views/claws.js\";\r\nimport \"./views/skills.js\";\r\nimport \"./views/workspace.js\";\r\nimport \"./views/logs.js\";\r\n\r\ntype AppState = \"loading\" | \"auth\" | \"workspace-picker\" | \"dashboard\";\r\ntype DashTab = \"projects\" | \"tasks\" | \"claws\" | \"skills\" | \"workspace\" | \"logs\";\r\n\r\n@customElement(\"ccl-app\")\r\nexport class CclApp extends LitElement {\r\n  // Disable shadow DOM so global CSS applies\r\n  override createRenderRoot() { return this; }\r\n\r\n  @state() private appState: AppState = \"loading\";\r\n  @state() private tab: DashTab = \"tasks\";\r\n  @state() private user: UserInfo | null = null;\r\n  @state() private tenantList: TenantSummary[] = [];\r\n  @state() private tenant: TenantSummary | null = null;\r\n  @state() private theme: \"dark\" | \"light\" = \"dark\";\r\n  @state() private navCollapsed = false;\r\n\r\n  override connectedCallback() {\r\n    super.connectedCallback();\r\n    this.loadTheme();\r\n    this.bootstrap();\r\n    window.addEventListener(\"ccl:unauthorized\", this.handleUnauthorized);\r\n  }\r\n\r\n  override disconnectedCallback() {\r\n    super.disconnectedCallback();\r\n    window.removeEventListener(\"ccl:unauthorized\", this.handleUnauthorized);\r\n  }\r\n\r\n  private handleUnauthorized = () => {\r\n    clearSession();\r\n    this.user = null;\r\n    this.tenant = null;\r\n    this.appState = \"auth\";\r\n  };\r\n\r\n  private async bootstrap() {\r\n    const webToken = getWebToken();\r\n    if (!webToken) { this.appState = \"auth\"; return; }\r\n\r\n    const tenantToken = getTenantToken();\r\n    const tenantId = getTenantId();\r\n    this.user = getUser();\r\n\r\n    if (tenantToken && tenantId) {\r\n      // Restore last tenant\r\n      try {\r\n        const list = await auth.listTenants();\r\n        this.tenantList = list;\r\n        const found = list.find(t => t.id === tenantId);\r\n        if (found) {\r\n          this.tenant = found;\r\n          this.appState = \"dashboard\";\r\n          return;\r\n        }\r\n      } catch { /* fall through to picker */ }\r\n    }\r\n\r\n    // Has web token but no tenant  go to picker\r\n    try {\r\n      this.tenantList = await auth.listTenants();\r\n      this.appState = this.tenantList.length > 0 ? \"workspace-picker\" : \"workspace-picker\";\r\n    } catch {\r\n      this.appState = \"auth\";\r\n    }\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // Event handlers from child views\r\n  // ---------------------------------------------------------------------------\r\n\r\n  private async handleLogin(e: CustomEvent<{ token: string; user: UserInfo }>) {\r\n    const { token, user } = e.detail;\r\n    setWebToken(token);\r\n    setUser(user);\r\n    this.user = user;\r\n    try {\r\n      this.tenantList = await auth.listTenants();\r\n      this.appState = \"workspace-picker\";\r\n    } catch {\r\n      this.appState = \"workspace-picker\";\r\n    }\r\n  }\r\n\r\n  private async handleSelectTenant(e: CustomEvent<TenantSummary>) {\r\n    const t = e.detail;\r\n    try {\r\n      const { token } = await auth.tenantToken(t.id);\r\n      setTenantToken(token);\r\n      setTenantId(t.id);\r\n      this.tenant = t;\r\n      this.appState = \"dashboard\";\r\n    } catch (err) {\r\n      console.error(\"Failed to get tenant token\", err);\r\n    }\r\n  }\r\n\r\n  private async handleCreateTenant(e: CustomEvent<{ name: string }>) {\r\n    try {\r\n      const created = await tenants.create(e.detail.name);\r\n      const { token } = await auth.tenantToken(created.id);\r\n      setTenantToken(token);\r\n      setTenantId(created.id);\r\n      this.tenant = created;\r\n      this.appState = \"dashboard\";\r\n    } catch (err) {\r\n      console.error(\"Failed to create tenant\", err);\r\n    }\r\n  }\r\n\r\n  private handleSignOut() {\r\n    clearSession();\r\n    this.user = null;\r\n    this.tenant = null;\r\n    this.tenantList = [];\r\n    this.appState = \"auth\";\r\n  }\r\n\r\n  private handleSwitchWorkspace() {\r\n    this.appState = \"workspace-picker\";\r\n  }\r\n\r\n  private setTab(t: DashTab) { this.tab = t; }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // Theme\r\n  // ---------------------------------------------------------------------------\r\n\r\n  private loadTheme() {\r\n    const saved = localStorage.getItem(\"ccl-theme\") as \"dark\" | \"light\" | null;\r\n    this.theme = saved ?? \"dark\";\r\n    document.documentElement.dataset.theme = this.theme;\r\n  }\r\n\r\n  private toggleTheme() {\r\n    this.theme = this.theme === \"dark\" ? \"light\" : \"dark\";\r\n    document.documentElement.dataset.theme = this.theme;\r\n    localStorage.setItem(\"ccl-theme\", this.theme);\r\n    this.requestUpdate();\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // Nav icons (inline SVG)\r\n  // ---------------------------------------------------------------------------\r\n\r\n  private icon(name: string) {\r\n    const paths: Record<string, string> = {\r\n      projects: `<rect x=\"2\" y=\"3\" width=\"7\" height=\"7\"/><rect x=\"15\" y=\"3\" width=\"7\" height=\"7\"/><rect x=\"2\" y=\"14\" width=\"7\" height=\"7\"/><rect x=\"15\" y=\"14\" width=\"7\" height=\"7\"/>`,\r\n      tasks: `<path d=\"M9 11l3 3L22 4\"/><path d=\"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11\"/>`,\r\n      claws: `<circle cx=\"12\" cy=\"12\" r=\"3\"/><path d=\"M12 2v3M12 19v3M2 12h3M19 12h3M4.93 4.93l2.12 2.12M16.95 16.95l2.12 2.12M4.93 19.07l2.12-2.12M16.95 7.05l2.12-2.12\"/>`,\r\n      skills: `<polygon points=\"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2\"/>`,\r\n      workspace: `<path d=\"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\"/><circle cx=\"9\" cy=\"7\" r=\"4\"/><path d=\"M23 21v-2a4 4 0 0 0-3-3.87\"/><path d=\"M16 3.13a4 4 0 0 1 0 7.75\"/>`,\r\n      logs: `<path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"/>`,\r\n      sun: `<circle cx=\"12\" cy=\"12\" r=\"5\"/><line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"3\"/><line x1=\"12\" y1=\"21\" x2=\"12\" y2=\"23\"/><line x1=\"4.22\" y1=\"4.22\" x2=\"5.64\" y2=\"5.64\"/><line x1=\"18.36\" y1=\"18.36\" x2=\"19.78\" y2=\"19.78\"/><line x1=\"1\" y1=\"12\" x2=\"3\" y2=\"12\"/><line x1=\"21\" y1=\"12\" x2=\"23\" y2=\"12\"/><line x1=\"4.22\" y1=\"19.78\" x2=\"5.64\" y2=\"18.36\"/><line x1=\"18.36\" y1=\"5.64\" x2=\"19.78\" y2=\"4.22\"/>`,\r\n      moon: `<path d=\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\"/>`,\r\n      menu: `<line x1=\"3\" y1=\"6\" x2=\"21\" y2=\"6\"/><line x1=\"3\" y1=\"12\" x2=\"21\" y2=\"12\"/><line x1=\"3\" y1=\"18\" x2=\"21\" y2=\"18\"/>`,\r\n      chevron: `<polyline points=\"15 18 9 12 15 6\"/>`,\r\n      logout: `<path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\"/><polyline points=\"16 17 21 12 16 7\"/><line x1=\"21\" y1=\"12\" x2=\"9\" y2=\"12\"/>`,\r\n    };\r\n    return html`<svg viewBox=\"0 0 24 24\">${html([`<svg viewBox=\"0 0 24 24\">${paths[name] ?? \"\"}</svg>`] as unknown as TemplateStringsArray)}</svg>`;\r\n  }\r\n\r\n  private svgIcon(name: string) {\r\n    const paths: Record<string, string> = {\r\n      projects: `<rect x=\"2\" y=\"3\" width=\"7\" height=\"7\"/><rect x=\"15\" y=\"3\" width=\"7\" height=\"7\"/><rect x=\"2\" y=\"14\" width=\"7\" height=\"7\"/><rect x=\"15\" y=\"14\" width=\"7\" height=\"7\"/>`,\r\n      tasks: `<path d=\"M9 11l3 3L22 4\"/><path d=\"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11\"/>`,\r\n      claws: `<circle cx=\"12\" cy=\"12\" r=\"3\"/><path d=\"M12 2v3M12 19v3M2 12h3M19 12h3M4.93 4.93l2.12 2.12M16.95 16.95l2.12 2.12M4.93 19.07l2.12-2.12M16.95 7.05l2.12-2.12\"/>`,\r\n      skills: `<polygon points=\"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2\"/>`,\r\n      workspace: `<path d=\"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\"/><circle cx=\"9\" cy=\"7\" r=\"4\"/><path d=\"M23 21v-2a4 4 0 0 0-3-3.87\"/><path d=\"M16 3.13a4 4 0 0 1 0 7.75\"/>`,\r\n      logs: `<path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"/>`,\r\n      sun: `<circle cx=\"12\" cy=\"12\" r=\"5\"/><line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"3\"/><line x1=\"12\" y1=\"21\" x2=\"12\" y2=\"23\"/>`,\r\n      moon: `<path d=\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\"/>`,\r\n      logout: `<path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\"/><polyline points=\"16 17 21 12 16 7\"/><line x1=\"21\" y1=\"12\" x2=\"9\" y2=\"12\"/>`,\r\n    };\r\n    return `<svg viewBox=\"0 0 24 24\" style=\"width:16px;height:16px;stroke:currentColor;fill:none;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;flex-shrink:0\">${paths[name] ?? \"\"}</svg>`;\r\n  }\r\n\r\n  // ---------------------------------------------------------------------------\r\n  // Render\r\n  // ---------------------------------------------------------------------------\r\n\r\n  override render() {\r\n    if (this.appState === \"loading\") return this.renderLoading();\r\n    if (this.appState === \"auth\")   return this.renderAuth();\r\n    if (this.appState === \"workspace-picker\") return this.renderWorkspacePicker();\r\n    return this.renderDashboard();\r\n  }\r\n\r\n  private renderLoading() {\r\n    return html`\r\n      <div class=\"auth-shell\">\r\n        <div style=\"text-align:center;color:var(--muted);font-size:14px\">Loading</div>\r\n      </div>`;\r\n  }\r\n\r\n  private renderAuth() {\r\n    return html`\r\n      <ccl-auth\r\n        @login=${this.handleLogin}\r\n        @register=${this.handleLogin}\r\n      ></ccl-auth>`;\r\n  }\r\n\r\n  private renderWorkspacePicker() {\r\n    return html`\r\n      <ccl-workspace-picker\r\n        .tenants=${this.tenantList}\r\n        .user=${this.user}\r\n        @select-tenant=${this.handleSelectTenant}\r\n        @create-tenant=${this.handleCreateTenant}\r\n        @sign-out=${this.handleSignOut}\r\n      ></ccl-workspace-picker>`;\r\n  }\r\n\r\n  private renderDashboard() {\r\n    const navItems: Array<{ id: DashTab; label: string; icon: string }> = [\r\n      { id: \"tasks\",     label: \"Tasks\",     icon: \"tasks\"     },\r\n      { id: \"projects\",  label: \"Projects\",  icon: \"projects\"  },\r\n      { id: \"claws\",     label: \"Claws\",     icon: \"claws\"     },\r\n      { id: \"skills\",    label: \"Skills\",    icon: \"skills\"    },\r\n      { id: \"workspace\", label: \"Workspace\", icon: \"workspace\" },\r\n      { id: \"logs\",      label: \"Logs\",      icon: \"logs\"      },\r\n    ];\r\n\r\n    return html`\r\n      <div class=\"shell\">\r\n        <!-- Topbar -->\r\n        <header class=\"topbar\">\r\n          <div class=\"topbar-left\">\r\n            <div class=\"brand\">\r\n              <img class=\"brand-logo\" src=\"/logo.png\" alt=\"CoderClawLink\" onerror=\"this.style.display='none'\">\r\n              <span class=\"brand-name\">CoderClawLink</span>\r\n              <span class=\"brand-badge\">BETA</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"topbar-right\">\r\n            <button\r\n              class=\"tenant-chip\"\r\n              @click=${this.handleSwitchWorkspace}\r\n              title=\"Switch workspace\"\r\n            >\r\n              ${this.tenant?.name ?? \"Workspace\"}\r\n              <svg viewBox=\"0 0 24 24\" style=\"width:12px;height:12px;stroke:currentColor;fill:none;stroke-width:2\"><polyline points=\"6 9 12 15 18 9\"/></svg>\r\n            </button>\r\n            <button\r\n              class=\"btn btn-ghost btn-icon\"\r\n              @click=${() => this.toggleTheme()}\r\n              title=\"Toggle theme\"\r\n            >\r\n              <svg viewBox=\"0 0 24 24\" style=\"width:16px;height:16px;stroke:currentColor;fill:none;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round\">\r\n                ${this.theme === \"dark\"\r\n                  ? html`<circle cx=\"12\" cy=\"12\" r=\"5\"/><line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"3\"/><line x1=\"12\" y1=\"21\" x2=\"12\" y2=\"23\"/><line x1=\"4.22\" y1=\"4.22\" x2=\"5.64\" y2=\"5.64\"/><line x1=\"18.36\" y1=\"18.36\" x2=\"19.78\" y2=\"19.78\"/><line x1=\"1\" y1=\"12\" x2=\"3\" y2=\"12\"/><line x1=\"21\" y1=\"12\" x2=\"23\" y2=\"12\"/><line x1=\"4.22\" y1=\"19.78\" x2=\"5.64\" y2=\"18.36\"/><line x1=\"18.36\" y1=\"5.64\" x2=\"19.78\" y2=\"4.22\"/>`\r\n                  : html`<path d=\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\"/>`}\r\n              </svg>\r\n            </button>\r\n            <button\r\n              class=\"btn btn-ghost btn-icon\"\r\n              @click=${this.handleSignOut}\r\n              title=\"Sign out\"\r\n            >\r\n              <svg viewBox=\"0 0 24 24\" style=\"width:16px;height:16px;stroke:currentColor;fill:none;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round\"><path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\"/><polyline points=\"16 17 21 12 16 7\"/><line x1=\"21\" y1=\"12\" x2=\"9\" y2=\"12\"/></svg>\r\n            </button>\r\n          </div>\r\n        </header>\r\n\r\n        <!-- Sidebar nav -->\r\n        <nav class=\"nav\">\r\n          <div class=\"nav-section\">\r\n            ${navItems.map(item => html`\r\n              <button\r\n                class=\"nav-item ${this.tab === item.id ? \"active\" : \"\"}\"\r\n                @click=${() => this.setTab(item.id)}\r\n              >\r\n                <span .innerHTML=${this.svgIcon(item.icon)}></span>\r\n                ${item.label}\r\n              </button>\r\n            `)}\r\n          </div>\r\n        </nav>\r\n\r\n        <!-- Content -->\r\n        <main class=\"content\">\r\n          ${this.renderTabContent()}\r\n        </main>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  private renderTabContent() {\r\n    const tenantId = this.tenant?.id ?? \"\";\r\n    switch (this.tab) {\r\n      case \"tasks\":\r\n        return html`<ccl-tasks .tenantId=${tenantId}></ccl-tasks>`;\r\n      case \"projects\":\r\n        return html`<ccl-projects .tenantId=${tenantId}></ccl-projects>`;\r\n      case \"claws\":\r\n        return html`<ccl-claws .tenantId=${tenantId}></ccl-claws>`;\r\n      case \"skills\":\r\n        return html`<ccl-skills .tenantId=${tenantId}></ccl-skills>`;\r\n      case \"workspace\":\r\n        return html`<ccl-workspace .tenant=${this.tenant}></ccl-workspace>`;\r\n      case \"logs\":\r\n        return html`<ccl-logs .tenantId=${tenantId}></ccl-logs>`;\r\n    }\r\n  }\r\n\r\n  static override styles = css``;\r\n}\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap { \"ccl-app\": CclApp; }\r\n}\r\n"],"file":"index-DmtbBV61.js"}