<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CoderClawLink</title>
  <meta name="description" content="CoderClawLink — Orchestrate projects, tasks and CoderClaws across your entire coding mesh." />
  <link rel="icon" type="image/svg+xml" href="https://cdn.builder.io/api/v1/image/assets%2Fac94883aaa0849cc897eb61793256164%2Fc284d818569a472aa80fdbee574db744?format=webp&width=32&height=32" />
  <link rel="preconnect" href="https://api.fontshare.com" />
  <link rel="preconnect" href="https://cdn.fontshare.com" crossorigin />
  <link href="https://api.fontshare.com/v2/css?f[]=clash-display@700,600,500&f[]=satoshi@400,500,700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/styles.css" />
  <script>
    (() => {
      const saved = localStorage.getItem('cc-theme');
      const theme = saved === 'light' || saved === 'dark' ? saved : 'dark';
      document.documentElement.dataset.theme = theme;
    })();
  </script>
</head>
<body>
  <div class="stars"></div>
  <div class="nebula"></div>
  <div class="app-container">

    <!-- Navbar -->
    <header class="navbar">
      <div class="nav-container">
        <a href="/" class="nav-logo">
          <img src="https://cdn.builder.io/api/v1/image/assets%2Fac94883aaa0849cc897eb61793256164%2Fc284d818569a472aa80fdbee574db744?format=webp&width=800&height=1200" alt="CoderClaw" />
          CoderClawLink
        </a>
        <nav class="nav-tabs" id="nav-tabs" style="display:none">
          <button class="nav-tab active" data-view="projects">Projects</button>
          <button class="nav-tab" data-view="tasks">Tasks</button>
          <button class="nav-tab" data-view="claws">Claws</button>
          <button class="nav-tab" data-view="skills">Skills</button>
          <button class="nav-tab" data-view="tenants">Workspace</button>
        </nav>
        <div class="nav-right">
          <div id="landing-nav-btns">
            <button class="btn btn-secondary btn-sm" id="btn-nav-signin">Sign in</button>
            <button class="btn btn-primary btn-sm" id="btn-nav-register">Get Started</button>
          </div>
          <div class="user-chip" id="user-chip" style="display:none">
            <span class="dot"></span>
            <span id="user-label">user</span>
          </div>
          <button class="btn-logout" id="btn-logout" style="display:none">Sign out</button>
          <button class="theme-toggle" id="theme-toggle" title="Toggle theme">☀</button>
        </div>
      </div>
    </header>

    <!-- ── SCREEN 1: Landing ── -->
    <div id="landing-screen">
      <!-- Hero -->
      <section class="hero">
        <div class="hero-inner">
          <span class="hero-badge">Now in Beta</span>
          <h1 class="hero-title">Your AI Coding Mesh,<br class="hero-br" /> Unified</h1>
          <p class="hero-sub">Register your CoderClaw instances, assign skills from the marketplace, and orchestrate intelligent workflows across your entire development environment.</p>
          <div class="hero-ctas">
            <button class="btn btn-primary btn-lg" id="btn-hero-register">Get Started Free</button>
            <button class="btn btn-ghost btn-lg" id="btn-hero-signin">Sign In →</button>
          </div>
          <p class="hero-note">No credit card required. Free to get started.</p>
        </div>
        <div class="hero-visual" aria-hidden="true">
          <div class="mesh-diagram">
            <div class="mesh-center"><img src="https://cdn.builder.io/api/v1/image/assets%2Fac94883aaa0849cc897eb61793256164%2Fc284d818569a472aa80fdbee574db744?format=webp&width=200&height=300" alt="" /></div>
            <div class="mesh-node mesh-node-1">🤖<span>claw-01</span></div>
            <div class="mesh-node mesh-node-2">🤖<span>claw-02</span></div>
            <div class="mesh-node mesh-node-3">🤖<span>claw-03</span></div>
            <div class="mesh-line mesh-line-1"></div>
            <div class="mesh-line mesh-line-2"></div>
            <div class="mesh-line mesh-line-3"></div>
          </div>
        </div>
      </section>

      <!-- Features -->
      <section class="features">
        <div class="features-inner">
          <h2 class="features-title">Everything you need to orchestrate your mesh</h2>
          <p class="features-sub">CoderClawLink connects your CoderClaw agents into a unified, skill-aware coding mesh.</p>
          <div class="features-grid">
            <div class="feature-card">
              <div class="feature-icon">🤖</div>
              <h3>CoderClaw Mesh</h3>
              <p>Register any number of CoderClaw instances to your workspace. Each claw gets a unique API key and joins your intelligent mesh automatically.</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">🧩</div>
              <h3>Skills Marketplace</h3>
              <p>Browse and assign capabilities from the marketplace. Target your entire workspace or individual claws for precision orchestration.</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">📋</div>
              <h3>Projects &amp; Tasks</h3>
              <p>Organize work into projects with kanban-style task management. Track progress across your entire coding mesh in real time.</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">🏢</div>
              <h3>Multi-Tenant Workspaces</h3>
              <p>Create isolated workspaces for different teams or repos. Invite collaborators, manage roles, and keep everything neatly separated.</p>
            </div>
          </div>
        </div>
      </section>

      <!-- How it works -->
      <section class="steps">
        <div class="steps-inner">
          <h2 class="features-title">Up and running in three steps</h2>
          <div class="steps-grid">
            <div class="step-card">
              <div class="step-num">01</div>
              <h3>Create your account</h3>
              <p>Sign up with your email. Create a workspace for your team or project in seconds.</p>
            </div>
            <div class="step-card">
              <div class="step-num">02</div>
              <h3>Register your claws</h3>
              <p>Add each CoderClaw instance to your mesh. Paste the generated API key into your claw config and it connects automatically.</p>
            </div>
            <div class="step-card">
              <div class="step-num">03</div>
              <h3>Assign skills &amp; orchestrate</h3>
              <p>Browse the skills marketplace, assign capabilities to your workspace or individual claws, and start building.</p>
            </div>
          </div>
        </div>
      </section>

      <!-- CTA Banner -->
      <section class="cta-section">
        <div class="cta-inner">
          <h2>Ready to build your mesh?</h2>
          <p>Create your free account and register your first CoderClaw in minutes.</p>
          <button class="btn btn-primary btn-lg" id="btn-cta-register">Start for free →</button>
        </div>
      </section>

      <!-- Footer -->
      <footer class="landing-footer">
        <span>© 2026 CoderClaw · <a href="https://coderclaw.ai" target="_blank">coderclaw.ai</a></span>
      </footer>
    </div>

    <!-- ── SCREEN 2: Tenant Picker ── -->
    <div id="picker-screen" style="display:none" class="auth-screen">
      <div class="auth-card" style="max-width:520px">
        <div class="auth-logo">
          <img src="https://cdn.builder.io/api/v1/image/assets%2Fac94883aaa0849cc897eb61793256164%2Fc284d818569a472aa80fdbee574db744?format=webp&width=800&height=1200" alt="CoderClaw" />
          <span class="auth-logo-text">Select Workspace</span>
        </div>
        <p style="text-align:center;color:var(--text-muted);font-size:13px;margin:0 0 20px">Choose a workspace or create a new one.</p>
        <div id="picker-list" style="display:flex;flex-direction:column;gap:10px;margin-bottom:16px"></div>
        <button class="btn btn-secondary btn-full" id="btn-show-create-tenant">+ Create new workspace</button>
        <form id="form-picker-create" style="display:none;margin-top:16px">
          <div class="form-group">
            <label for="picker-tenant-name">Workspace name</label>
            <input id="picker-tenant-name" class="input" type="text" required placeholder="my-team" />
          </div>
          <div style="display:flex;gap:8px">
            <button type="button" class="btn btn-secondary" id="btn-cancel-create-tenant">Cancel</button>
            <button type="submit" class="btn btn-primary" style="flex:1">Create workspace</button>
          </div>
        </form>
        <button class="btn-logout" style="margin-top:20px;width:100%;text-align:center;cursor:pointer;background:none;border:none;color:var(--text-muted);font-size:13px" id="btn-picker-logout">← Sign out</button>
      </div>
    </div>

    <!-- ── SCREEN 3: App ── -->
    <main id="app-screen" style="display:none">
      <div id="toast" class="toast hidden"></div>

      <!-- Projects -->
      <div id="view-projects" class="view-panel">
        <div class="view-header">
          <h2>Projects</h2>
          <button class="btn btn-primary btn-sm" id="btn-create-project">+ New Project</button>
        </div>
        <div class="cards-grid" id="projects-grid"></div>
      </div>

      <!-- Tasks -->
      <div id="view-tasks" class="view-panel" style="display:none">
        <div class="view-header">
          <h2>Tasks</h2>
          <div class="actions filters-bar">
            <select id="task-project-filter" class="select" style="width:200px"><option value="">All Projects</option></select>
            <button class="btn btn-primary btn-sm" id="btn-create-task">+ New Task</button>
          </div>
        </div>
        <div class="kanban-board">
          <div class="kanban-column">
            <div class="column-header"><span class="badge badge-todo">To Do</span><span class="count-badge" id="count-todo">0</span></div>
            <div id="col-todo"></div>
          </div>
          <div class="kanban-column">
            <div class="column-header"><span class="badge badge-in_progress">In Progress</span><span class="count-badge" id="count-in_progress">0</span></div>
            <div id="col-in_progress"></div>
          </div>
          <div class="kanban-column">
            <div class="column-header"><span class="badge badge-in_review">In Review</span><span class="count-badge" id="count-in_review">0</span></div>
            <div id="col-in_review"></div>
          </div>
          <div class="kanban-column">
            <div class="column-header"><span class="badge badge-done">Done</span><span class="count-badge" id="count-done">0</span></div>
            <div id="col-done"></div>
          </div>
        </div>
      </div>

      <!-- Claws -->
      <div id="view-claws" class="view-panel" style="display:none">
        <div class="view-header">
          <h2>CoderClaw Instances <span style="font-size:13px;font-weight:400;color:var(--text-muted)">— your mesh</span></h2>
          <button class="btn btn-primary btn-sm" id="btn-register-claw">+ Register Claw</button>
        </div>
        <div id="claw-key-banner" style="display:none;padding:16px;margin-bottom:16px;background:rgba(0,212,255,.08);border:1px solid rgba(0,255,255,.2);border-radius:12px;font-size:13px">
          <strong style="display:block;margin-bottom:6px">🔑 Save this API key — it will not be shown again</strong>
          <code id="claw-key-val" style="font-family:monospace;color:#0ff;word-break:break-all;display:block;margin-bottom:10px"></code>
          <p style="color:var(--text-muted);margin:0 0 8px;font-size:12px">Paste this into your CoderClaw config file as <code>CODERCLAW_API_KEY</code>.</p>
          <button class="btn btn-sm btn-secondary" id="btn-dismiss-key">Dismiss</button>
        </div>
        <div class="cards-grid" id="claws-grid"></div>
      </div>

      <!-- Skills -->
      <div id="view-skills" class="view-panel" style="display:none">
        <div class="view-header">
          <h2>Skills</h2>
          <div class="actions filters-bar">
            <select id="skill-scope-filter" class="select" style="width:200px">
              <option value="marketplace">All marketplace skills</option>
              <option value="tenant">Assigned to workspace</option>
            </select>
          </div>
        </div>
        <div class="cards-grid" id="skills-grid"></div>
      </div>

      <!-- Workspace -->
      <div id="view-tenants" class="view-panel" style="display:none">
        <div class="view-header">
          <h2>Workspace</h2>
          <button class="btn btn-secondary btn-sm" id="btn-switch-workspace">Switch workspace</button>
        </div>
        <div id="workspace-info"></div>
        <div class="view-header" style="margin-top:24px">
          <h3 style="font-size:16px;margin:0">Members</h3>
          <button class="btn btn-primary btn-sm" id="btn-invite-member">+ Invite member</button>
        </div>
        <div class="cards-grid" id="members-grid"></div>
      </div>
    </main>
  </div>

  <!-- ── Auth Modal ── -->
  <div id="modal-auth" class="modal modal-auth-wrap" role="dialog" aria-modal="true">
    <div class="modal-content">
      <div class="modal-header">
        <div class="auth-logo" style="margin-bottom:0">
          <img src="https://cdn.builder.io/api/v1/image/assets%2Fac94883aaa0849cc897eb61793256164%2Fc284d818569a472aa80fdbee574db744?format=webp&width=800&height=1200" alt="CoderClaw" style="height:30px" />
          <span class="auth-logo-text" style="font-size:16px">CoderClawLink</span>
        </div>
        <button class="close-btn" data-close="modal-auth">&times;</button>
      </div>
      <div class="auth-tabs" style="margin-bottom:22px">
        <button class="auth-tab active" data-auth-tab="login">Sign in</button>
        <button class="auth-tab" data-auth-tab="register">Register</button>
      </div>
      <form class="auth-form active" id="form-login">
        <div class="form-group">
          <label for="login-email">Email</label>
          <input id="login-email" class="input" type="email" required placeholder="you@example.com" autocomplete="email" />
        </div>
        <div class="form-group">
          <label for="login-password">Password</label>
          <div class="pw-wrap">
            <input id="login-password" class="input" type="password" required placeholder="••••••••" autocomplete="current-password" />
            <button type="button" class="pw-eye" aria-label="Show password" data-pw="login-password">👁</button>
          </div>
        </div>
        <button type="submit" class="btn btn-primary btn-full">Sign in</button>
      </form>
      <form class="auth-form" id="form-register">
        <div class="form-group">
          <label for="reg-email">Email</label>
          <input id="reg-email" class="input" type="email" required placeholder="you@example.com" autocomplete="email" />
        </div>
        <div class="form-group">
          <label for="reg-username">Username</label>
          <input id="reg-username" class="input" type="text" required placeholder="yourhandle" autocomplete="username" />
        </div>
        <div class="form-group">
          <label for="reg-password">Password</label>
          <div class="pw-wrap">
            <input id="reg-password" class="input" type="password" required placeholder="••••••••" autocomplete="new-password" />
            <button type="button" class="pw-eye" aria-label="Show password" data-pw="reg-password">👁</button>
          </div>
        </div>
        <button type="submit" class="btn btn-primary btn-full">Create account</button>
      </form>
    </div>
  </div>

  <!-- ── App Modals ── -->

  <div id="modal-create-project" class="modal" role="dialog" aria-modal="true">
    <div class="modal-content">
      <div class="modal-header"><h3>New Project</h3><button class="close-btn" data-close="modal-create-project">&times;</button></div>
      <form class="modal-form" id="form-create-project">
        <div class="form-group"><label>Key *</label><input name="key" class="input" type="text" required maxlength="50" placeholder="PROJ" /></div>
        <div class="form-group"><label>Name *</label><input name="name" class="input" type="text" required maxlength="255" /></div>
        <div class="form-group"><label>Description</label><textarea name="description" class="input" rows="3"></textarea></div>
        <div class="form-group"><label>GitHub URL</label><input name="githubRepoUrl" class="input" type="url" placeholder="https://github.com/owner/repo" /></div>
        <div class="form-actions">
          <button type="button" class="btn btn-secondary" data-close="modal-create-project">Cancel</button>
          <button type="submit" class="btn btn-primary">Create</button>
        </div>
      </form>
    </div>
  </div>

  <div id="modal-create-task" class="modal" role="dialog" aria-modal="true">
    <div class="modal-content">
      <div class="modal-header"><h3>New Task</h3><button class="close-btn" data-close="modal-create-task">&times;</button></div>
      <form class="modal-form" id="form-create-task">
        <div class="form-group"><label>Project *</label><select id="inp-task-proj" name="projectId" class="select" required></select></div>
        <div class="form-group"><label>Title *</label><input name="title" class="input" type="text" required maxlength="500" /></div>
        <div class="form-group"><label>Description</label><textarea name="description" class="input" rows="3"></textarea></div>
        <div class="form-group">
          <label>Priority</label>
          <select name="priority" class="select">
            <option value="low">Low</option><option value="medium" selected>Medium</option>
            <option value="high">High</option><option value="critical">Critical</option>
          </select>
        </div>
        <div class="form-actions">
          <button type="button" class="btn btn-secondary" data-close="modal-create-task">Cancel</button>
          <button type="submit" class="btn btn-primary">Create</button>
        </div>
      </form>
    </div>
  </div>

  <div id="modal-register-claw" class="modal" role="dialog" aria-modal="true">
    <div class="modal-content">
      <div class="modal-header"><h3>Register CoderClaw</h3><button class="close-btn" data-close="modal-register-claw">&times;</button></div>
      <p style="font-size:13px;color:var(--text-muted);margin:0 0 16px">Give this instance a name. You will receive a one-time API key to paste into your claw config.</p>
      <form class="modal-form" id="form-register-claw">
        <div class="form-group"><label>Name *</label><input name="name" class="input" type="text" required maxlength="255" placeholder="e.g. dev-macbook, server-01" /></div>
        <div class="form-actions">
          <button type="button" class="btn btn-secondary" data-close="modal-register-claw">Cancel</button>
          <button type="submit" class="btn btn-primary">Register &amp; get key</button>
        </div>
      </form>
    </div>
  </div>

  <div id="modal-assign-skill" class="modal" role="dialog" aria-modal="true">
    <div class="modal-content">
      <div class="modal-header"><h3>Assign Skill</h3><button class="close-btn" data-close="modal-assign-skill">&times;</button></div>
      <p style="font-size:13px;color:var(--text-muted);margin:0 0 4px">Assigning: <strong id="assign-skill-name"></strong></p>
      <input type="hidden" id="assign-skill-slug" />
      <div style="display:flex;flex-direction:column;gap:10px;margin-top:16px">
        <button class="btn btn-primary" id="btn-assign-tenant">Assign to entire workspace</button>
        <p style="font-size:12px;color:var(--text-muted);margin:4px 0">Or assign to an individual claw:</p>
        <div id="assign-claw-list" style="display:flex;flex-direction:column;gap:8px"></div>
      </div>
      <div class="form-actions" style="margin-top:16px">
        <button type="button" class="btn btn-secondary" data-close="modal-assign-skill">Close</button>
      </div>
    </div>
  </div>

  <div id="modal-invite-member" class="modal" role="dialog" aria-modal="true">
    <div class="modal-content">
      <div class="modal-header"><h3>Invite Member</h3><button class="close-btn" data-close="modal-invite-member">&times;</button></div>
      <form class="modal-form" id="form-invite-member">
        <div class="form-group"><label>User ID (UUID)</label><input name="newUserId" class="input" type="text" required placeholder="xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx" /></div>
        <div class="form-group">
          <label>Role</label>
          <select name="role" class="select">
            <option value="viewer">Viewer</option>
            <option value="developer" selected>Developer</option>
            <option value="manager">Manager</option>
            <option value="owner">Owner</option>
          </select>
        </div>
        <div class="form-actions">
          <button type="button" class="btn btn-secondary" data-close="modal-invite-member">Cancel</button>
          <button type="submit" class="btn btn-primary">Invite</button>
        </div>
      </form>
    </div>
  </div>

  <script src="/app.js" type="module"></script>
</body>
</html>
